/* @generated by codegen. DO NOT EDIT BY HAND */

import {
  GrpcStatus,
  StorageBase,
  TActivityResponse,
  TActivityStatus,
  TERMINAL_ACTIVITY_STATUSES,
  TSignedRequest,
  TStamper,
  TurnkeyHttpClientConfig,
  TurnkeyRequestError,
} from "../__types__";

import { VERSION } from "../__generated__/version";

import type * as SdkTypes from "@turnkey/sdk-types";

import { TurnkeyError, TurnkeyErrorCodes } from "@turnkey/sdk-types";

import { StamperType } from "../__types__";

export class TurnkeySDKClientBase {
  config: TurnkeyHttpClientConfig;

  // Store stampers
  private apiKeyStamper?: TStamper | undefined;
  private passkeyStamper?: TStamper | undefined;
  private walletStamper?: TStamper | undefined;

  public defaultStamperType: StamperType | undefined;

  // Storage manager
  private storageManager?: StorageBase | undefined;

  constructor(config: TurnkeyHttpClientConfig) {
    this.config = config;

    if (config.apiKeyStamper) {
      this.apiKeyStamper = config.apiKeyStamper;
    }
    if (config.passkeyStamper) {
      this.passkeyStamper = config.passkeyStamper;
    }
    if (config.walletStamper) {
      this.walletStamper = config.walletStamper;
    }
    if (config.storageManager) {
      this.storageManager = config.storageManager;
    }
    if (config.defaultStamperType) {
      this.defaultStamperType = config.defaultStamperType;
    } else {
      // Set default stamper type based on available stampers
      if (this.apiKeyStamper) {
        this.defaultStamperType = StamperType.ApiKey;
      } else if (this.passkeyStamper) {
        this.defaultStamperType = StamperType.Passkey;
      } else if (this.walletStamper) {
        this.defaultStamperType = StamperType.Wallet;
      } else {
        this.defaultStamperType = undefined;
      }
    }
  }

  private getStamper(stampWith?: StamperType): TStamper | undefined {
    if (!stampWith) {
      // Use default stamper type if none specified
      stampWith = this.defaultStamperType;
    }

    switch (stampWith) {
      case StamperType.ApiKey:
        return this.apiKeyStamper;
      case StamperType.Passkey:
        return this.passkeyStamper;
      case StamperType.Wallet:
        return this.walletStamper;
      default:
        return this.apiKeyStamper;
    }
  }

  async request<TBodyType, TResponseType>(
    url: string,
    body: TBodyType,
    stampWith?: StamperType,
  ): Promise<TResponseType> {
    const fullUrl = this.config.apiBaseUrl + url;
    const stringifiedBody = JSON.stringify(body);
    var headers: Record<string, string> = {
      "X-Client-Version": VERSION,
    };

    // Use the specified stamper for this request
    const activeStamper = this.getStamper(stampWith);

    if (activeStamper) {
      const stamp = await activeStamper.stamp(stringifiedBody);
      headers[stamp.stampHeaderName] = stamp.stampHeaderValue;
    }

    const response = await fetch(fullUrl, {
      method: "POST",
      headers: headers,
      body: stringifiedBody,
      redirect: "follow",
    });

    if (!response.ok) {
      let res: GrpcStatus;
      try {
        res = await response.json();
      } catch (_) {
        throw new Error(`${response.status} ${response.statusText}`);
      }

      throw new TurnkeyRequestError(res);
    }

    const data = await response.json();
    return data as TResponseType;
  }

  async activity<TBodyType, TResponseType>(
    url: string,
    body: TBodyType,
    resultKey: string,
    stampWith?: StamperType,
  ): Promise<TResponseType> {
    const pollingDuration = this.config.activityPoller?.intervalMs ?? 1000;
    const maxRetries = this.config.activityPoller?.numRetries ?? 3;

    const sleep = (ms: number) =>
      new Promise((resolve) => setTimeout(resolve, ms));

    const handleResponse = (activityData: TActivityResponse): TResponseType => {
      const { result, status } = activityData.activity;

      if (status === "ACTIVITY_STATUS_COMPLETED") {
        return {
          ...result[`${resultKey}` as keyof SdkTypes.v1Result],
          ...activityData,
        } as TResponseType;
      }

      return activityData as TResponseType;
    };

    let attempts = 0;

    const pollStatus = async (activityId: string): Promise<TResponseType> => {
      const pollBody = { activityId };
      // Pass the stampWith parameter to getActivity
      const pollData = (await this.getActivity(
        pollBody,
        stampWith,
      )) as TActivityResponse;

      if (attempts > maxRetries) {
        return handleResponse(pollData);
      }

      attempts += 1;

      if (
        !TERMINAL_ACTIVITY_STATUSES.includes(
          pollData.activity.status as TActivityStatus,
        )
      ) {
        await sleep(pollingDuration);
        return pollStatus(activityId);
      }

      return handleResponse(pollData);
    };

    // Use the specified stamper for the initial request
    const responseData = (await this.request<TBodyType, TResponseType>(
      url,
      body,
      stampWith,
    )) as TActivityResponse;

    if (
      !TERMINAL_ACTIVITY_STATUSES.includes(
        responseData.activity.status as TActivityStatus,
      )
    ) {
      return pollStatus(responseData.activity.id);
    }

    return handleResponse(responseData);
  }

  async activityDecision<TBodyType, TResponseType>(
    url: string,
    body: TBodyType,
    stampWith?: StamperType,
  ): Promise<TResponseType> {
    // Use the specified stamper for this request
    const activityData = (await this.request(
      url,
      body,
      stampWith,
    )) as TActivityResponse;

    return {
      ...activityData["activity"]["result"],
      ...activityData,
    } as TResponseType;
  }

  async authProxyRequest<TBodyType, TResponseType>(
    url: string,
    body: TBodyType,
  ): Promise<TResponseType> {
    if (!this.config.authProxyUrl || !this.config.authProxyConfigId) {
      throw new TurnkeyError(
        "Auth Proxy URL or ID is not configured.",
        TurnkeyErrorCodes.INVALID_CONFIGURATION,
      );
    }
    const fullUrl = this.config.authProxyUrl + url;
    const stringifiedBody = JSON.stringify(body);
    var headers: Record<string, string> = {
      "Content-Type": "application/json",
      "X-Auth-Proxy-Config-ID": this.config.authProxyConfigId,
    };

    const response = await fetch(fullUrl, {
      method: "POST",
      headers: headers,
      body: stringifiedBody,
    });

    if (!response.ok) {
      let res: GrpcStatus;
      try {
        res = await response.json();
      } catch (_) {
        throw new Error(`${response.status} ${response.statusText}`);
      }

      throw new TurnkeyRequestError(res);
    }

    const data = await response.json();
    return data as TResponseType;
  }

  getActivity = async (
    input: SdkTypes.TGetActivityBody,
    stampWith?: StamperType,
  ): Promise<SdkTypes.TGetActivityResponse> => {
    const session = await this.storageManager?.getActiveSession();
    return this.request(
      "/public/v1/query/get_activity",
      {
        ...input,
        organizationId:
          input.organizationId ??
          session?.organizationId ??
          this.config.organizationId,
      },
      stampWith,
    );
  };

  stampGetActivity = async (
    input: SdkTypes.TGetActivityBody,
    stampWith?: StamperType,
  ): Promise<TSignedRequest | undefined> => {
    const activeStamper = this.getStamper(stampWith);
    if (!activeStamper) {
      return undefined;
    }

    const { organizationId, ...parameters } = input;

    const fullUrl = this.config.apiBaseUrl + "/public/v1/query/get_activity";
    const bodyWithType = {
      parameters,
      organizationId,
      type: "ACTIVITY_TYPE_GET_ACTIVITY",
    };

    const stringifiedBody = JSON.stringify(bodyWithType);
    const stamp = await activeStamper.stamp(stringifiedBody);
    return {
      body: stringifiedBody,
      stamp: stamp,
      url: fullUrl,
    };
  };

  getApiKey = async (
    input: SdkTypes.TGetApiKeyBody,
    stampWith?: StamperType,
  ): Promise<SdkTypes.TGetApiKeyResponse> => {
    const session = await this.storageManager?.getActiveSession();
    return this.request(
      "/public/v1/query/get_api_key",
      {
        ...input,
        organizationId:
          input.organizationId ??
          session?.organizationId ??
          this.config.organizationId,
      },
      stampWith,
    );
  };

  stampGetApiKey = async (
    input: SdkTypes.TGetApiKeyBody,
    stampWith?: StamperType,
  ): Promise<TSignedRequest | undefined> => {
    const activeStamper = this.getStamper(stampWith);
    if (!activeStamper) {
      return undefined;
    }

    const { organizationId, ...parameters } = input;

    const fullUrl = this.config.apiBaseUrl + "/public/v1/query/get_api_key";
    const bodyWithType = {
      parameters,
      organizationId,
      type: "ACTIVITY_TYPE_GET_API_KEY",
    };

    const stringifiedBody = JSON.stringify(bodyWithType);
    const stamp = await activeStamper.stamp(stringifiedBody);
    return {
      body: stringifiedBody,
      stamp: stamp,
      url: fullUrl,
    };
  };

  getApiKeys = async (
    input: SdkTypes.TGetApiKeysBody = {},
    stampWith?: StamperType,
  ): Promise<SdkTypes.TGetApiKeysResponse> => {
    const session = await this.storageManager?.getActiveSession();
    return this.request(
      "/public/v1/query/get_api_keys",
      {
        ...input,
        organizationId:
          input.organizationId ??
          session?.organizationId ??
          this.config.organizationId,
      },
      stampWith,
    );
  };

  stampGetApiKeys = async (
    input: SdkTypes.TGetApiKeysBody,
    stampWith?: StamperType,
  ): Promise<TSignedRequest | undefined> => {
    const activeStamper = this.getStamper(stampWith);
    if (!activeStamper) {
      return undefined;
    }

    const { organizationId, ...parameters } = input;

    const fullUrl = this.config.apiBaseUrl + "/public/v1/query/get_api_keys";
    const bodyWithType = {
      parameters,
      organizationId,
      type: "ACTIVITY_TYPE_GET_API_KEYS",
    };

    const stringifiedBody = JSON.stringify(bodyWithType);
    const stamp = await activeStamper.stamp(stringifiedBody);
    return {
      body: stringifiedBody,
      stamp: stamp,
      url: fullUrl,
    };
  };

  getAttestationDocument = async (
    input: SdkTypes.TGetAttestationDocumentBody,
    stampWith?: StamperType,
  ): Promise<SdkTypes.TGetAttestationDocumentResponse> => {
    const session = await this.storageManager?.getActiveSession();
    return this.request(
      "/public/v1/query/get_attestation",
      {
        ...input,
        organizationId:
          input.organizationId ??
          session?.organizationId ??
          this.config.organizationId,
      },
      stampWith,
    );
  };

  stampGetAttestationDocument = async (
    input: SdkTypes.TGetAttestationDocumentBody,
    stampWith?: StamperType,
  ): Promise<TSignedRequest | undefined> => {
    const activeStamper = this.getStamper(stampWith);
    if (!activeStamper) {
      return undefined;
    }

    const { organizationId, ...parameters } = input;

    const fullUrl = this.config.apiBaseUrl + "/public/v1/query/get_attestation";
    const bodyWithType = {
      parameters,
      organizationId,
      type: "ACTIVITY_TYPE_GET_ATTESTATION_DOCUMENT",
    };

    const stringifiedBody = JSON.stringify(bodyWithType);
    const stamp = await activeStamper.stamp(stringifiedBody);
    return {
      body: stringifiedBody,
      stamp: stamp,
      url: fullUrl,
    };
  };

  getAuthenticator = async (
    input: SdkTypes.TGetAuthenticatorBody,
    stampWith?: StamperType,
  ): Promise<SdkTypes.TGetAuthenticatorResponse> => {
    const session = await this.storageManager?.getActiveSession();
    return this.request(
      "/public/v1/query/get_authenticator",
      {
        ...input,
        organizationId:
          input.organizationId ??
          session?.organizationId ??
          this.config.organizationId,
      },
      stampWith,
    );
  };

  stampGetAuthenticator = async (
    input: SdkTypes.TGetAuthenticatorBody,
    stampWith?: StamperType,
  ): Promise<TSignedRequest | undefined> => {
    const activeStamper = this.getStamper(stampWith);
    if (!activeStamper) {
      return undefined;
    }

    const { organizationId, ...parameters } = input;

    const fullUrl =
      this.config.apiBaseUrl + "/public/v1/query/get_authenticator";
    const bodyWithType = {
      parameters,
      organizationId,
      type: "ACTIVITY_TYPE_GET_AUTHENTICATOR",
    };

    const stringifiedBody = JSON.stringify(bodyWithType);
    const stamp = await activeStamper.stamp(stringifiedBody);
    return {
      body: stringifiedBody,
      stamp: stamp,
      url: fullUrl,
    };
  };

  getAuthenticators = async (
    input: SdkTypes.TGetAuthenticatorsBody,
    stampWith?: StamperType,
  ): Promise<SdkTypes.TGetAuthenticatorsResponse> => {
    const session = await this.storageManager?.getActiveSession();
    return this.request(
      "/public/v1/query/get_authenticators",
      {
        ...input,
        organizationId:
          input.organizationId ??
          session?.organizationId ??
          this.config.organizationId,
      },
      stampWith,
    );
  };

  stampGetAuthenticators = async (
    input: SdkTypes.TGetAuthenticatorsBody,
    stampWith?: StamperType,
  ): Promise<TSignedRequest | undefined> => {
    const activeStamper = this.getStamper(stampWith);
    if (!activeStamper) {
      return undefined;
    }

    const { organizationId, ...parameters } = input;

    const fullUrl =
      this.config.apiBaseUrl + "/public/v1/query/get_authenticators";
    const bodyWithType = {
      parameters,
      organizationId,
      type: "ACTIVITY_TYPE_GET_AUTHENTICATORS",
    };

    const stringifiedBody = JSON.stringify(bodyWithType);
    const stamp = await activeStamper.stamp(stringifiedBody);
    return {
      body: stringifiedBody,
      stamp: stamp,
      url: fullUrl,
    };
  };

  getBootProof = async (
    input: SdkTypes.TGetBootProofBody,
    stampWith?: StamperType,
  ): Promise<SdkTypes.TGetBootProofResponse> => {
    const session = await this.storageManager?.getActiveSession();
    return this.request(
      "/public/v1/query/get_boot_proof",
      {
        ...input,
        organizationId:
          input.organizationId ??
          session?.organizationId ??
          this.config.organizationId,
      },
      stampWith,
    );
  };

  stampGetBootProof = async (
    input: SdkTypes.TGetBootProofBody,
    stampWith?: StamperType,
  ): Promise<TSignedRequest | undefined> => {
    const activeStamper = this.getStamper(stampWith);
    if (!activeStamper) {
      return undefined;
    }

    const { organizationId, ...parameters } = input;

    const fullUrl = this.config.apiBaseUrl + "/public/v1/query/get_boot_proof";
    const bodyWithType = {
      parameters,
      organizationId,
      type: "ACTIVITY_TYPE_GET_BOOT_PROOF",
    };

    const stringifiedBody = JSON.stringify(bodyWithType);
    const stamp = await activeStamper.stamp(stringifiedBody);
    return {
      body: stringifiedBody,
      stamp: stamp,
      url: fullUrl,
    };
  };

  getLatestBootProof = async (
    input: SdkTypes.TGetLatestBootProofBody,
    stampWith?: StamperType,
  ): Promise<SdkTypes.TGetLatestBootProofResponse> => {
    const session = await this.storageManager?.getActiveSession();
    return this.request(
      "/public/v1/query/get_latest_boot_proof",
      {
        ...input,
        organizationId:
          input.organizationId ??
          session?.organizationId ??
          this.config.organizationId,
      },
      stampWith,
    );
  };

  stampGetLatestBootProof = async (
    input: SdkTypes.TGetLatestBootProofBody,
    stampWith?: StamperType,
  ): Promise<TSignedRequest | undefined> => {
    const activeStamper = this.getStamper(stampWith);
    if (!activeStamper) {
      return undefined;
    }

    const { organizationId, ...parameters } = input;

    const fullUrl =
      this.config.apiBaseUrl + "/public/v1/query/get_latest_boot_proof";
    const bodyWithType = {
      parameters,
      organizationId,
      type: "ACTIVITY_TYPE_GET_LATEST_BOOT_PROOF",
    };

    const stringifiedBody = JSON.stringify(bodyWithType);
    const stamp = await activeStamper.stamp(stringifiedBody);
    return {
      body: stringifiedBody,
      stamp: stamp,
      url: fullUrl,
    };
  };

  getOauth2Credential = async (
    input: SdkTypes.TGetOauth2CredentialBody,
    stampWith?: StamperType,
  ): Promise<SdkTypes.TGetOauth2CredentialResponse> => {
    const session = await this.storageManager?.getActiveSession();
    return this.request(
      "/public/v1/query/get_oauth2_credential",
      {
        ...input,
        organizationId:
          input.organizationId ??
          session?.organizationId ??
          this.config.organizationId,
      },
      stampWith,
    );
  };

  stampGetOauth2Credential = async (
    input: SdkTypes.TGetOauth2CredentialBody,
    stampWith?: StamperType,
  ): Promise<TSignedRequest | undefined> => {
    const activeStamper = this.getStamper(stampWith);
    if (!activeStamper) {
      return undefined;
    }

    const { organizationId, ...parameters } = input;

    const fullUrl =
      this.config.apiBaseUrl + "/public/v1/query/get_oauth2_credential";
    const bodyWithType = {
      parameters,
      organizationId,
      type: "ACTIVITY_TYPE_GET_OAUTH2CREDENTIAL",
    };

    const stringifiedBody = JSON.stringify(bodyWithType);
    const stamp = await activeStamper.stamp(stringifiedBody);
    return {
      body: stringifiedBody,
      stamp: stamp,
      url: fullUrl,
    };
  };

  getOauthProviders = async (
    input: SdkTypes.TGetOauthProvidersBody,
    stampWith?: StamperType,
  ): Promise<SdkTypes.TGetOauthProvidersResponse> => {
    const session = await this.storageManager?.getActiveSession();
    return this.request(
      "/public/v1/query/get_oauth_providers",
      {
        ...input,
        organizationId:
          input.organizationId ??
          session?.organizationId ??
          this.config.organizationId,
      },
      stampWith,
    );
  };

  stampGetOauthProviders = async (
    input: SdkTypes.TGetOauthProvidersBody,
    stampWith?: StamperType,
  ): Promise<TSignedRequest | undefined> => {
    const activeStamper = this.getStamper(stampWith);
    if (!activeStamper) {
      return undefined;
    }

    const { organizationId, ...parameters } = input;

    const fullUrl =
      this.config.apiBaseUrl + "/public/v1/query/get_oauth_providers";
    const bodyWithType = {
      parameters,
      organizationId,
      type: "ACTIVITY_TYPE_GET_OAUTH_PROVIDERS",
    };

    const stringifiedBody = JSON.stringify(bodyWithType);
    const stamp = await activeStamper.stamp(stringifiedBody);
    return {
      body: stringifiedBody,
      stamp: stamp,
      url: fullUrl,
    };
  };

  getOrganization = async (
    input: SdkTypes.TGetOrganizationBody = {},
    stampWith?: StamperType,
  ): Promise<SdkTypes.TGetOrganizationResponse> => {
    const session = await this.storageManager?.getActiveSession();
    return this.request(
      "/public/v1/query/get_organization",
      {
        ...input,
        organizationId:
          input.organizationId ??
          session?.organizationId ??
          this.config.organizationId,
      },
      stampWith,
    );
  };

  stampGetOrganization = async (
    input: SdkTypes.TGetOrganizationBody,
    stampWith?: StamperType,
  ): Promise<TSignedRequest | undefined> => {
    const activeStamper = this.getStamper(stampWith);
    if (!activeStamper) {
      return undefined;
    }

    const { organizationId, ...parameters } = input;

    const fullUrl =
      this.config.apiBaseUrl + "/public/v1/query/get_organization";
    const bodyWithType = {
      parameters,
      organizationId,
      type: "ACTIVITY_TYPE_GET_ORGANIZATION",
    };

    const stringifiedBody = JSON.stringify(bodyWithType);
    const stamp = await activeStamper.stamp(stringifiedBody);
    return {
      body: stringifiedBody,
      stamp: stamp,
      url: fullUrl,
    };
  };

  getOrganizationConfigs = async (
    input: SdkTypes.TGetOrganizationConfigsBody,
    stampWith?: StamperType,
  ): Promise<SdkTypes.TGetOrganizationConfigsResponse> => {
    const session = await this.storageManager?.getActiveSession();
    return this.request(
      "/public/v1/query/get_organization_configs",
      {
        ...input,
        organizationId:
          input.organizationId ??
          session?.organizationId ??
          this.config.organizationId,
      },
      stampWith,
    );
  };

  stampGetOrganizationConfigs = async (
    input: SdkTypes.TGetOrganizationConfigsBody,
    stampWith?: StamperType,
  ): Promise<TSignedRequest | undefined> => {
    const activeStamper = this.getStamper(stampWith);
    if (!activeStamper) {
      return undefined;
    }

    const { organizationId, ...parameters } = input;

    const fullUrl =
      this.config.apiBaseUrl + "/public/v1/query/get_organization_configs";
    const bodyWithType = {
      parameters,
      organizationId,
      type: "ACTIVITY_TYPE_GET_ORGANIZATION_CONFIGS",
    };

    const stringifiedBody = JSON.stringify(bodyWithType);
    const stamp = await activeStamper.stamp(stringifiedBody);
    return {
      body: stringifiedBody,
      stamp: stamp,
      url: fullUrl,
    };
  };

  getPolicy = async (
    input: SdkTypes.TGetPolicyBody,
    stampWith?: StamperType,
  ): Promise<SdkTypes.TGetPolicyResponse> => {
    const session = await this.storageManager?.getActiveSession();
    return this.request(
      "/public/v1/query/get_policy",
      {
        ...input,
        organizationId:
          input.organizationId ??
          session?.organizationId ??
          this.config.organizationId,
      },
      stampWith,
    );
  };

  stampGetPolicy = async (
    input: SdkTypes.TGetPolicyBody,
    stampWith?: StamperType,
  ): Promise<TSignedRequest | undefined> => {
    const activeStamper = this.getStamper(stampWith);
    if (!activeStamper) {
      return undefined;
    }

    const { organizationId, ...parameters } = input;

    const fullUrl = this.config.apiBaseUrl + "/public/v1/query/get_policy";
    const bodyWithType = {
      parameters,
      organizationId,
      type: "ACTIVITY_TYPE_GET_POLICY",
    };

    const stringifiedBody = JSON.stringify(bodyWithType);
    const stamp = await activeStamper.stamp(stringifiedBody);
    return {
      body: stringifiedBody,
      stamp: stamp,
      url: fullUrl,
    };
  };

  getPolicyEvaluations = async (
    input: SdkTypes.TGetPolicyEvaluationsBody,
    stampWith?: StamperType,
  ): Promise<SdkTypes.TGetPolicyEvaluationsResponse> => {
    const session = await this.storageManager?.getActiveSession();
    return this.request(
      "/public/v1/query/get_policy_evaluations",
      {
        ...input,
        organizationId:
          input.organizationId ??
          session?.organizationId ??
          this.config.organizationId,
      },
      stampWith,
    );
  };

  stampGetPolicyEvaluations = async (
    input: SdkTypes.TGetPolicyEvaluationsBody,
    stampWith?: StamperType,
  ): Promise<TSignedRequest | undefined> => {
    const activeStamper = this.getStamper(stampWith);
    if (!activeStamper) {
      return undefined;
    }

    const { organizationId, ...parameters } = input;

    const fullUrl =
      this.config.apiBaseUrl + "/public/v1/query/get_policy_evaluations";
    const bodyWithType = {
      parameters,
      organizationId,
      type: "ACTIVITY_TYPE_GET_POLICY_EVALUATIONS",
    };

    const stringifiedBody = JSON.stringify(bodyWithType);
    const stamp = await activeStamper.stamp(stringifiedBody);
    return {
      body: stringifiedBody,
      stamp: stamp,
      url: fullUrl,
    };
  };

  getPrivateKey = async (
    input: SdkTypes.TGetPrivateKeyBody,
    stampWith?: StamperType,
  ): Promise<SdkTypes.TGetPrivateKeyResponse> => {
    const session = await this.storageManager?.getActiveSession();
    return this.request(
      "/public/v1/query/get_private_key",
      {
        ...input,
        organizationId:
          input.organizationId ??
          session?.organizationId ??
          this.config.organizationId,
      },
      stampWith,
    );
  };

  stampGetPrivateKey = async (
    input: SdkTypes.TGetPrivateKeyBody,
    stampWith?: StamperType,
  ): Promise<TSignedRequest | undefined> => {
    const activeStamper = this.getStamper(stampWith);
    if (!activeStamper) {
      return undefined;
    }

    const { organizationId, ...parameters } = input;

    const fullUrl = this.config.apiBaseUrl + "/public/v1/query/get_private_key";
    const bodyWithType = {
      parameters,
      organizationId,
      type: "ACTIVITY_TYPE_GET_PRIVATE_KEY",
    };

    const stringifiedBody = JSON.stringify(bodyWithType);
    const stamp = await activeStamper.stamp(stringifiedBody);
    return {
      body: stringifiedBody,
      stamp: stamp,
      url: fullUrl,
    };
  };

  getSmartContractInterface = async (
    input: SdkTypes.TGetSmartContractInterfaceBody,
    stampWith?: StamperType,
  ): Promise<SdkTypes.TGetSmartContractInterfaceResponse> => {
    const session = await this.storageManager?.getActiveSession();
    return this.request(
      "/public/v1/query/get_smart_contract_interface",
      {
        ...input,
        organizationId:
          input.organizationId ??
          session?.organizationId ??
          this.config.organizationId,
      },
      stampWith,
    );
  };

  stampGetSmartContractInterface = async (
    input: SdkTypes.TGetSmartContractInterfaceBody,
    stampWith?: StamperType,
  ): Promise<TSignedRequest | undefined> => {
    const activeStamper = this.getStamper(stampWith);
    if (!activeStamper) {
      return undefined;
    }

    const { organizationId, ...parameters } = input;

    const fullUrl =
      this.config.apiBaseUrl + "/public/v1/query/get_smart_contract_interface";
    const bodyWithType = {
      parameters,
      organizationId,
      type: "ACTIVITY_TYPE_GET_SMART_CONTRACT_INTERFACE",
    };

    const stringifiedBody = JSON.stringify(bodyWithType);
    const stamp = await activeStamper.stamp(stringifiedBody);
    return {
      body: stringifiedBody,
      stamp: stamp,
      url: fullUrl,
    };
  };

  getUser = async (
    input: SdkTypes.TGetUserBody,
    stampWith?: StamperType,
  ): Promise<SdkTypes.TGetUserResponse> => {
    const session = await this.storageManager?.getActiveSession();
    return this.request(
      "/public/v1/query/get_user",
      {
        ...input,
        organizationId:
          input.organizationId ??
          session?.organizationId ??
          this.config.organizationId,
      },
      stampWith,
    );
  };

  stampGetUser = async (
    input: SdkTypes.TGetUserBody,
    stampWith?: StamperType,
  ): Promise<TSignedRequest | undefined> => {
    const activeStamper = this.getStamper(stampWith);
    if (!activeStamper) {
      return undefined;
    }

    const { organizationId, ...parameters } = input;

    const fullUrl = this.config.apiBaseUrl + "/public/v1/query/get_user";
    const bodyWithType = {
      parameters,
      organizationId,
      type: "ACTIVITY_TYPE_GET_USER",
    };

    const stringifiedBody = JSON.stringify(bodyWithType);
    const stamp = await activeStamper.stamp(stringifiedBody);
    return {
      body: stringifiedBody,
      stamp: stamp,
      url: fullUrl,
    };
  };

  getWallet = async (
    input: SdkTypes.TGetWalletBody,
    stampWith?: StamperType,
  ): Promise<SdkTypes.TGetWalletResponse> => {
    const session = await this.storageManager?.getActiveSession();
    return this.request(
      "/public/v1/query/get_wallet",
      {
        ...input,
        organizationId:
          input.organizationId ??
          session?.organizationId ??
          this.config.organizationId,
      },
      stampWith,
    );
  };

  stampGetWallet = async (
    input: SdkTypes.TGetWalletBody,
    stampWith?: StamperType,
  ): Promise<TSignedRequest | undefined> => {
    const activeStamper = this.getStamper(stampWith);
    if (!activeStamper) {
      return undefined;
    }

    const { organizationId, ...parameters } = input;

    const fullUrl = this.config.apiBaseUrl + "/public/v1/query/get_wallet";
    const bodyWithType = {
      parameters,
      organizationId,
      type: "ACTIVITY_TYPE_GET_WALLET",
    };

    const stringifiedBody = JSON.stringify(bodyWithType);
    const stamp = await activeStamper.stamp(stringifiedBody);
    return {
      body: stringifiedBody,
      stamp: stamp,
      url: fullUrl,
    };
  };

  getWalletAccount = async (
    input: SdkTypes.TGetWalletAccountBody,
    stampWith?: StamperType,
  ): Promise<SdkTypes.TGetWalletAccountResponse> => {
    const session = await this.storageManager?.getActiveSession();
    return this.request(
      "/public/v1/query/get_wallet_account",
      {
        ...input,
        organizationId:
          input.organizationId ??
          session?.organizationId ??
          this.config.organizationId,
      },
      stampWith,
    );
  };

  stampGetWalletAccount = async (
    input: SdkTypes.TGetWalletAccountBody,
    stampWith?: StamperType,
  ): Promise<TSignedRequest | undefined> => {
    const activeStamper = this.getStamper(stampWith);
    if (!activeStamper) {
      return undefined;
    }

    const { organizationId, ...parameters } = input;

    const fullUrl =
      this.config.apiBaseUrl + "/public/v1/query/get_wallet_account";
    const bodyWithType = {
      parameters,
      organizationId,
      type: "ACTIVITY_TYPE_GET_WALLET_ACCOUNT",
    };

    const stringifiedBody = JSON.stringify(bodyWithType);
    const stamp = await activeStamper.stamp(stringifiedBody);
    return {
      body: stringifiedBody,
      stamp: stamp,
      url: fullUrl,
    };
  };

  getActivities = async (
    input: SdkTypes.TGetActivitiesBody = {},
    stampWith?: StamperType,
  ): Promise<SdkTypes.TGetActivitiesResponse> => {
    const session = await this.storageManager?.getActiveSession();
    return this.request(
      "/public/v1/query/list_activities",
      {
        ...input,
        organizationId:
          input.organizationId ??
          session?.organizationId ??
          this.config.organizationId,
      },
      stampWith,
    );
  };

  stampGetActivities = async (
    input: SdkTypes.TGetActivitiesBody,
    stampWith?: StamperType,
  ): Promise<TSignedRequest | undefined> => {
    const activeStamper = this.getStamper(stampWith);
    if (!activeStamper) {
      return undefined;
    }

    const { organizationId, ...parameters } = input;

    const fullUrl = this.config.apiBaseUrl + "/public/v1/query/list_activities";
    const bodyWithType = {
      parameters,
      organizationId,
      type: "ACTIVITY_TYPE_GET_ACTIVITIES",
    };

    const stringifiedBody = JSON.stringify(bodyWithType);
    const stamp = await activeStamper.stamp(stringifiedBody);
    return {
      body: stringifiedBody,
      stamp: stamp,
      url: fullUrl,
    };
  };

  getAppProofs = async (
    input: SdkTypes.TGetAppProofsBody,
    stampWith?: StamperType,
  ): Promise<SdkTypes.TGetAppProofsResponse> => {
    const session = await this.storageManager?.getActiveSession();
    return this.request(
      "/public/v1/query/list_app_proofs",
      {
        ...input,
        organizationId:
          input.organizationId ??
          session?.organizationId ??
          this.config.organizationId,
      },
      stampWith,
    );
  };

  stampGetAppProofs = async (
    input: SdkTypes.TGetAppProofsBody,
    stampWith?: StamperType,
  ): Promise<TSignedRequest | undefined> => {
    const activeStamper = this.getStamper(stampWith);
    if (!activeStamper) {
      return undefined;
    }

    const { organizationId, ...parameters } = input;

    const fullUrl = this.config.apiBaseUrl + "/public/v1/query/list_app_proofs";
    const bodyWithType = {
      parameters,
      organizationId,
      type: "ACTIVITY_TYPE_GET_APP_PROOFS",
    };

    const stringifiedBody = JSON.stringify(bodyWithType);
    const stamp = await activeStamper.stamp(stringifiedBody);
    return {
      body: stringifiedBody,
      stamp: stamp,
      url: fullUrl,
    };
  };

  listOauth2Credentials = async (
    input: SdkTypes.TListOauth2CredentialsBody,
    stampWith?: StamperType,
  ): Promise<SdkTypes.TListOauth2CredentialsResponse> => {
    const session = await this.storageManager?.getActiveSession();
    return this.request(
      "/public/v1/query/list_oauth2_credentials",
      {
        ...input,
        organizationId:
          input.organizationId ??
          session?.organizationId ??
          this.config.organizationId,
      },
      stampWith,
    );
  };

  stampListOauth2Credentials = async (
    input: SdkTypes.TListOauth2CredentialsBody,
    stampWith?: StamperType,
  ): Promise<TSignedRequest | undefined> => {
    const activeStamper = this.getStamper(stampWith);
    if (!activeStamper) {
      return undefined;
    }

    const { organizationId, ...parameters } = input;

    const fullUrl =
      this.config.apiBaseUrl + "/public/v1/query/list_oauth2_credentials";
    const bodyWithType = {
      parameters,
      organizationId,
      type: "ACTIVITY_TYPE_LIST_OAUTH2CREDENTIALS",
    };

    const stringifiedBody = JSON.stringify(bodyWithType);
    const stamp = await activeStamper.stamp(stringifiedBody);
    return {
      body: stringifiedBody,
      stamp: stamp,
      url: fullUrl,
    };
  };

  getPolicies = async (
    input: SdkTypes.TGetPoliciesBody = {},
    stampWith?: StamperType,
  ): Promise<SdkTypes.TGetPoliciesResponse> => {
    const session = await this.storageManager?.getActiveSession();
    return this.request(
      "/public/v1/query/list_policies",
      {
        ...input,
        organizationId:
          input.organizationId ??
          session?.organizationId ??
          this.config.organizationId,
      },
      stampWith,
    );
  };

  stampGetPolicies = async (
    input: SdkTypes.TGetPoliciesBody,
    stampWith?: StamperType,
  ): Promise<TSignedRequest | undefined> => {
    const activeStamper = this.getStamper(stampWith);
    if (!activeStamper) {
      return undefined;
    }

    const { organizationId, ...parameters } = input;

    const fullUrl = this.config.apiBaseUrl + "/public/v1/query/list_policies";
    const bodyWithType = {
      parameters,
      organizationId,
      type: "ACTIVITY_TYPE_GET_POLICIES",
    };

    const stringifiedBody = JSON.stringify(bodyWithType);
    const stamp = await activeStamper.stamp(stringifiedBody);
    return {
      body: stringifiedBody,
      stamp: stamp,
      url: fullUrl,
    };
  };

  listPrivateKeyTags = async (
    input: SdkTypes.TListPrivateKeyTagsBody,
    stampWith?: StamperType,
  ): Promise<SdkTypes.TListPrivateKeyTagsResponse> => {
    const session = await this.storageManager?.getActiveSession();
    return this.request(
      "/public/v1/query/list_private_key_tags",
      {
        ...input,
        organizationId:
          input.organizationId ??
          session?.organizationId ??
          this.config.organizationId,
      },
      stampWith,
    );
  };

  stampListPrivateKeyTags = async (
    input: SdkTypes.TListPrivateKeyTagsBody,
    stampWith?: StamperType,
  ): Promise<TSignedRequest | undefined> => {
    const activeStamper = this.getStamper(stampWith);
    if (!activeStamper) {
      return undefined;
    }

    const { organizationId, ...parameters } = input;

    const fullUrl =
      this.config.apiBaseUrl + "/public/v1/query/list_private_key_tags";
    const bodyWithType = {
      parameters,
      organizationId,
      type: "ACTIVITY_TYPE_LIST_PRIVATE_KEY_TAGS",
    };

    const stringifiedBody = JSON.stringify(bodyWithType);
    const stamp = await activeStamper.stamp(stringifiedBody);
    return {
      body: stringifiedBody,
      stamp: stamp,
      url: fullUrl,
    };
  };

  getPrivateKeys = async (
    input: SdkTypes.TGetPrivateKeysBody = {},
    stampWith?: StamperType,
  ): Promise<SdkTypes.TGetPrivateKeysResponse> => {
    const session = await this.storageManager?.getActiveSession();
    return this.request(
      "/public/v1/query/list_private_keys",
      {
        ...input,
        organizationId:
          input.organizationId ??
          session?.organizationId ??
          this.config.organizationId,
      },
      stampWith,
    );
  };

  stampGetPrivateKeys = async (
    input: SdkTypes.TGetPrivateKeysBody,
    stampWith?: StamperType,
  ): Promise<TSignedRequest | undefined> => {
    const activeStamper = this.getStamper(stampWith);
    if (!activeStamper) {
      return undefined;
    }

    const { organizationId, ...parameters } = input;

    const fullUrl =
      this.config.apiBaseUrl + "/public/v1/query/list_private_keys";
    const bodyWithType = {
      parameters,
      organizationId,
      type: "ACTIVITY_TYPE_GET_PRIVATE_KEYS",
    };

    const stringifiedBody = JSON.stringify(bodyWithType);
    const stamp = await activeStamper.stamp(stringifiedBody);
    return {
      body: stringifiedBody,
      stamp: stamp,
      url: fullUrl,
    };
  };

  getSmartContractInterfaces = async (
    input: SdkTypes.TGetSmartContractInterfacesBody,
    stampWith?: StamperType,
  ): Promise<SdkTypes.TGetSmartContractInterfacesResponse> => {
    const session = await this.storageManager?.getActiveSession();
    return this.request(
      "/public/v1/query/list_smart_contract_interfaces",
      {
        ...input,
        organizationId:
          input.organizationId ??
          session?.organizationId ??
          this.config.organizationId,
      },
      stampWith,
    );
  };

  stampGetSmartContractInterfaces = async (
    input: SdkTypes.TGetSmartContractInterfacesBody,
    stampWith?: StamperType,
  ): Promise<TSignedRequest | undefined> => {
    const activeStamper = this.getStamper(stampWith);
    if (!activeStamper) {
      return undefined;
    }

    const { organizationId, ...parameters } = input;

    const fullUrl =
      this.config.apiBaseUrl +
      "/public/v1/query/list_smart_contract_interfaces";
    const bodyWithType = {
      parameters,
      organizationId,
      type: "ACTIVITY_TYPE_GET_SMART_CONTRACT_INTERFACES",
    };

    const stringifiedBody = JSON.stringify(bodyWithType);
    const stamp = await activeStamper.stamp(stringifiedBody);
    return {
      body: stringifiedBody,
      stamp: stamp,
      url: fullUrl,
    };
  };

  getSubOrgIds = async (
    input: SdkTypes.TGetSubOrgIdsBody = {},
    stampWith?: StamperType,
  ): Promise<SdkTypes.TGetSubOrgIdsResponse> => {
    const session = await this.storageManager?.getActiveSession();
    return this.request(
      "/public/v1/query/list_suborgs",
      {
        ...input,
        organizationId:
          input.organizationId ??
          session?.organizationId ??
          this.config.organizationId,
      },
      stampWith,
    );
  };

  stampGetSubOrgIds = async (
    input: SdkTypes.TGetSubOrgIdsBody,
    stampWith?: StamperType,
  ): Promise<TSignedRequest | undefined> => {
    const activeStamper = this.getStamper(stampWith);
    if (!activeStamper) {
      return undefined;
    }

    const { organizationId, ...parameters } = input;

    const fullUrl = this.config.apiBaseUrl + "/public/v1/query/list_suborgs";
    const bodyWithType = {
      parameters,
      organizationId,
      type: "ACTIVITY_TYPE_GET_SUB_ORG_IDS",
    };

    const stringifiedBody = JSON.stringify(bodyWithType);
    const stamp = await activeStamper.stamp(stringifiedBody);
    return {
      body: stringifiedBody,
      stamp: stamp,
      url: fullUrl,
    };
  };

  listUserTags = async (
    input: SdkTypes.TListUserTagsBody = {},
    stampWith?: StamperType,
  ): Promise<SdkTypes.TListUserTagsResponse> => {
    const session = await this.storageManager?.getActiveSession();
    return this.request(
      "/public/v1/query/list_user_tags",
      {
        ...input,
        organizationId:
          input.organizationId ??
          session?.organizationId ??
          this.config.organizationId,
      },
      stampWith,
    );
  };

  stampListUserTags = async (
    input: SdkTypes.TListUserTagsBody,
    stampWith?: StamperType,
  ): Promise<TSignedRequest | undefined> => {
    const activeStamper = this.getStamper(stampWith);
    if (!activeStamper) {
      return undefined;
    }

    const { organizationId, ...parameters } = input;

    const fullUrl = this.config.apiBaseUrl + "/public/v1/query/list_user_tags";
    const bodyWithType = {
      parameters,
      organizationId,
      type: "ACTIVITY_TYPE_LIST_USER_TAGS",
    };

    const stringifiedBody = JSON.stringify(bodyWithType);
    const stamp = await activeStamper.stamp(stringifiedBody);
    return {
      body: stringifiedBody,
      stamp: stamp,
      url: fullUrl,
    };
  };

  getUsers = async (
    input: SdkTypes.TGetUsersBody = {},
    stampWith?: StamperType,
  ): Promise<SdkTypes.TGetUsersResponse> => {
    const session = await this.storageManager?.getActiveSession();
    return this.request(
      "/public/v1/query/list_users",
      {
        ...input,
        organizationId:
          input.organizationId ??
          session?.organizationId ??
          this.config.organizationId,
      },
      stampWith,
    );
  };

  stampGetUsers = async (
    input: SdkTypes.TGetUsersBody,
    stampWith?: StamperType,
  ): Promise<TSignedRequest | undefined> => {
    const activeStamper = this.getStamper(stampWith);
    if (!activeStamper) {
      return undefined;
    }

    const { organizationId, ...parameters } = input;

    const fullUrl = this.config.apiBaseUrl + "/public/v1/query/list_users";
    const bodyWithType = {
      parameters,
      organizationId,
      type: "ACTIVITY_TYPE_GET_USERS",
    };

    const stringifiedBody = JSON.stringify(bodyWithType);
    const stamp = await activeStamper.stamp(stringifiedBody);
    return {
      body: stringifiedBody,
      stamp: stamp,
      url: fullUrl,
    };
  };

  getVerifiedSubOrgIds = async (
    input: SdkTypes.TGetVerifiedSubOrgIdsBody,
    stampWith?: StamperType,
  ): Promise<SdkTypes.TGetVerifiedSubOrgIdsResponse> => {
    const session = await this.storageManager?.getActiveSession();
    return this.request(
      "/public/v1/query/list_verified_suborgs",
      {
        ...input,
        organizationId:
          input.organizationId ??
          session?.organizationId ??
          this.config.organizationId,
      },
      stampWith,
    );
  };

  stampGetVerifiedSubOrgIds = async (
    input: SdkTypes.TGetVerifiedSubOrgIdsBody,
    stampWith?: StamperType,
  ): Promise<TSignedRequest | undefined> => {
    const activeStamper = this.getStamper(stampWith);
    if (!activeStamper) {
      return undefined;
    }

    const { organizationId, ...parameters } = input;

    const fullUrl =
      this.config.apiBaseUrl + "/public/v1/query/list_verified_suborgs";
    const bodyWithType = {
      parameters,
      organizationId,
      type: "ACTIVITY_TYPE_GET_VERIFIED_SUB_ORG_IDS",
    };

    const stringifiedBody = JSON.stringify(bodyWithType);
    const stamp = await activeStamper.stamp(stringifiedBody);
    return {
      body: stringifiedBody,
      stamp: stamp,
      url: fullUrl,
    };
  };

  getWalletAccounts = async (
    input: SdkTypes.TGetWalletAccountsBody,
    stampWith?: StamperType,
  ): Promise<SdkTypes.TGetWalletAccountsResponse> => {
    const session = await this.storageManager?.getActiveSession();
    return this.request(
      "/public/v1/query/list_wallet_accounts",
      {
        ...input,
        organizationId:
          input.organizationId ??
          session?.organizationId ??
          this.config.organizationId,
      },
      stampWith,
    );
  };

  stampGetWalletAccounts = async (
    input: SdkTypes.TGetWalletAccountsBody,
    stampWith?: StamperType,
  ): Promise<TSignedRequest | undefined> => {
    const activeStamper = this.getStamper(stampWith);
    if (!activeStamper) {
      return undefined;
    }

    const { organizationId, ...parameters } = input;

    const fullUrl =
      this.config.apiBaseUrl + "/public/v1/query/list_wallet_accounts";
    const bodyWithType = {
      parameters,
      organizationId,
      type: "ACTIVITY_TYPE_GET_WALLET_ACCOUNTS",
    };

    const stringifiedBody = JSON.stringify(bodyWithType);
    const stamp = await activeStamper.stamp(stringifiedBody);
    return {
      body: stringifiedBody,
      stamp: stamp,
      url: fullUrl,
    };
  };

  getWallets = async (
    input: SdkTypes.TGetWalletsBody = {},
    stampWith?: StamperType,
  ): Promise<SdkTypes.TGetWalletsResponse> => {
    const session = await this.storageManager?.getActiveSession();
    return this.request(
      "/public/v1/query/list_wallets",
      {
        ...input,
        organizationId:
          input.organizationId ??
          session?.organizationId ??
          this.config.organizationId,
      },
      stampWith,
    );
  };

  stampGetWallets = async (
    input: SdkTypes.TGetWalletsBody,
    stampWith?: StamperType,
  ): Promise<TSignedRequest | undefined> => {
    const activeStamper = this.getStamper(stampWith);
    if (!activeStamper) {
      return undefined;
    }

    const { organizationId, ...parameters } = input;

    const fullUrl = this.config.apiBaseUrl + "/public/v1/query/list_wallets";
    const bodyWithType = {
      parameters,
      organizationId,
      type: "ACTIVITY_TYPE_GET_WALLETS",
    };

    const stringifiedBody = JSON.stringify(bodyWithType);
    const stamp = await activeStamper.stamp(stringifiedBody);
    return {
      body: stringifiedBody,
      stamp: stamp,
      url: fullUrl,
    };
  };

  getWhoami = async (
    input: SdkTypes.TGetWhoamiBody = {},
    stampWith?: StamperType,
  ): Promise<SdkTypes.TGetWhoamiResponse> => {
    const session = await this.storageManager?.getActiveSession();
    return this.request(
      "/public/v1/query/whoami",
      {
        ...input,
        organizationId:
          input.organizationId ??
          session?.organizationId ??
          this.config.organizationId,
      },
      stampWith,
    );
  };

  stampGetWhoami = async (
    input: SdkTypes.TGetWhoamiBody,
    stampWith?: StamperType,
  ): Promise<TSignedRequest | undefined> => {
    const activeStamper = this.getStamper(stampWith);
    if (!activeStamper) {
      return undefined;
    }

    const { organizationId, ...parameters } = input;

    const fullUrl = this.config.apiBaseUrl + "/public/v1/query/whoami";
    const bodyWithType = {
      parameters,
      organizationId,
      type: "ACTIVITY_TYPE_GET_WHOAMI",
    };

    const stringifiedBody = JSON.stringify(bodyWithType);
    const stamp = await activeStamper.stamp(stringifiedBody);
    return {
      body: stringifiedBody,
      stamp: stamp,
      url: fullUrl,
    };
  };

  approveActivity = async (
    input: SdkTypes.TApproveActivityBody,
    stampWith?: StamperType,
  ): Promise<SdkTypes.TApproveActivityResponse> => {
    const { organizationId, timestampMs, ...rest } = input;
    const session = await this.storageManager?.getActiveSession();
    return this.activityDecision(
      "/public/v1/submit/approve_activity",
      {
        parameters: rest,
        organizationId:
          organizationId ??
          session?.organizationId ??
          this.config.organizationId,
        timestampMs: timestampMs ?? String(Date.now()),
        type: "ACTIVITY_TYPE_APPROVE_ACTIVITY",
      },
      stampWith,
    );
  };

  stampApproveActivity = async (
    input: SdkTypes.TApproveActivityBody,
    stampWith?: StamperType,
  ): Promise<TSignedRequest | undefined> => {
    const activeStamper = this.getStamper(stampWith);
    if (!activeStamper) {
      return undefined;
    }

    const { organizationId, timestampMs, ...parameters } = input;

    const fullUrl =
      this.config.apiBaseUrl + "/public/v1/submit/approve_activity";
    const bodyWithType = {
      parameters,
      organizationId,
      timestampMs: timestampMs ?? String(Date.now()),
      type: "ACTIVITY_TYPE_APPROVE_ACTIVITY",
    };

    const stringifiedBody = JSON.stringify(bodyWithType);
    const stamp = await activeStamper.stamp(stringifiedBody);
    return {
      body: stringifiedBody,
      stamp: stamp,
      url: fullUrl,
    };
  };

  createApiKeys = async (
    input: SdkTypes.TCreateApiKeysBody,
    stampWith?: StamperType,
  ): Promise<SdkTypes.TCreateApiKeysResponse> => {
    const { organizationId, timestampMs, ...rest } = input;
    const session = await this.storageManager?.getActiveSession();

    return this.activity(
      "/public/v1/submit/create_api_keys",
      {
        parameters: rest,
        organizationId:
          organizationId ??
          session?.organizationId ??
          this.config.organizationId,
        timestampMs: timestampMs ?? String(Date.now()),
        type: "ACTIVITY_TYPE_CREATE_API_KEYS_V2",
      },
      "createApiKeysResult",
      stampWith,
    );
  };

  stampCreateApiKeys = async (
    input: SdkTypes.TCreateApiKeysBody,
    stampWith?: StamperType,
  ): Promise<TSignedRequest | undefined> => {
    const activeStamper = this.getStamper(stampWith);
    if (!activeStamper) {
      return undefined;
    }

    const { organizationId, timestampMs, ...parameters } = input;

    const fullUrl =
      this.config.apiBaseUrl + "/public/v1/submit/create_api_keys";
    const bodyWithType = {
      parameters,
      organizationId,
      timestampMs: timestampMs ?? String(Date.now()),
      type: "ACTIVITY_TYPE_CREATE_API_KEYS_V2",
    };

    const stringifiedBody = JSON.stringify(bodyWithType);
    const stamp = await activeStamper.stamp(stringifiedBody);
    return {
      body: stringifiedBody,
      stamp: stamp,
      url: fullUrl,
    };
  };

  createApiOnlyUsers = async (
    input: SdkTypes.TCreateApiOnlyUsersBody,
    stampWith?: StamperType,
  ): Promise<SdkTypes.TCreateApiOnlyUsersResponse> => {
    const { organizationId, timestampMs, ...rest } = input;
    const session = await this.storageManager?.getActiveSession();

    return this.activity(
      "/public/v1/submit/create_api_only_users",
      {
        parameters: rest,
        organizationId:
          organizationId ??
          session?.organizationId ??
          this.config.organizationId,
        timestampMs: timestampMs ?? String(Date.now()),
        type: "ACTIVITY_TYPE_CREATE_API_ONLY_USERS",
      },
      "createApiOnlyUsersResult",
      stampWith,
    );
  };

  stampCreateApiOnlyUsers = async (
    input: SdkTypes.TCreateApiOnlyUsersBody,
    stampWith?: StamperType,
  ): Promise<TSignedRequest | undefined> => {
    const activeStamper = this.getStamper(stampWith);
    if (!activeStamper) {
      return undefined;
    }

    const { organizationId, timestampMs, ...parameters } = input;

    const fullUrl =
      this.config.apiBaseUrl + "/public/v1/submit/create_api_only_users";
    const bodyWithType = {
      parameters,
      organizationId,
      timestampMs: timestampMs ?? String(Date.now()),
      type: "ACTIVITY_TYPE_CREATE_API_ONLY_USERS",
    };

    const stringifiedBody = JSON.stringify(bodyWithType);
    const stamp = await activeStamper.stamp(stringifiedBody);
    return {
      body: stringifiedBody,
      stamp: stamp,
      url: fullUrl,
    };
  };

  createAuthenticators = async (
    input: SdkTypes.TCreateAuthenticatorsBody,
    stampWith?: StamperType,
  ): Promise<SdkTypes.TCreateAuthenticatorsResponse> => {
    const { organizationId, timestampMs, ...rest } = input;
    const session = await this.storageManager?.getActiveSession();

    return this.activity(
      "/public/v1/submit/create_authenticators",
      {
        parameters: rest,
        organizationId:
          organizationId ??
          session?.organizationId ??
          this.config.organizationId,
        timestampMs: timestampMs ?? String(Date.now()),
        type: "ACTIVITY_TYPE_CREATE_AUTHENTICATORS_V2",
      },
      "createAuthenticatorsResult",
      stampWith,
    );
  };

  stampCreateAuthenticators = async (
    input: SdkTypes.TCreateAuthenticatorsBody,
    stampWith?: StamperType,
  ): Promise<TSignedRequest | undefined> => {
    const activeStamper = this.getStamper(stampWith);
    if (!activeStamper) {
      return undefined;
    }

    const { organizationId, timestampMs, ...parameters } = input;

    const fullUrl =
      this.config.apiBaseUrl + "/public/v1/submit/create_authenticators";
    const bodyWithType = {
      parameters,
      organizationId,
      timestampMs: timestampMs ?? String(Date.now()),
      type: "ACTIVITY_TYPE_CREATE_AUTHENTICATORS_V2",
    };

    const stringifiedBody = JSON.stringify(bodyWithType);
    const stamp = await activeStamper.stamp(stringifiedBody);
    return {
      body: stringifiedBody,
      stamp: stamp,
      url: fullUrl,
    };
  };

  createInvitations = async (
    input: SdkTypes.TCreateInvitationsBody,
    stampWith?: StamperType,
  ): Promise<SdkTypes.TCreateInvitationsResponse> => {
    const { organizationId, timestampMs, ...rest } = input;
    const session = await this.storageManager?.getActiveSession();

    return this.activity(
      "/public/v1/submit/create_invitations",
      {
        parameters: rest,
        organizationId:
          organizationId ??
          session?.organizationId ??
          this.config.organizationId,
        timestampMs: timestampMs ?? String(Date.now()),
        type: "ACTIVITY_TYPE_CREATE_INVITATIONS",
      },
      "createInvitationsResult",
      stampWith,
    );
  };

  stampCreateInvitations = async (
    input: SdkTypes.TCreateInvitationsBody,
    stampWith?: StamperType,
  ): Promise<TSignedRequest | undefined> => {
    const activeStamper = this.getStamper(stampWith);
    if (!activeStamper) {
      return undefined;
    }

    const { organizationId, timestampMs, ...parameters } = input;

    const fullUrl =
      this.config.apiBaseUrl + "/public/v1/submit/create_invitations";
    const bodyWithType = {
      parameters,
      organizationId,
      timestampMs: timestampMs ?? String(Date.now()),
      type: "ACTIVITY_TYPE_CREATE_INVITATIONS",
    };

    const stringifiedBody = JSON.stringify(bodyWithType);
    const stamp = await activeStamper.stamp(stringifiedBody);
    return {
      body: stringifiedBody,
      stamp: stamp,
      url: fullUrl,
    };
  };

  createOauth2Credential = async (
    input: SdkTypes.TCreateOauth2CredentialBody,
    stampWith?: StamperType,
  ): Promise<SdkTypes.TCreateOauth2CredentialResponse> => {
    const { organizationId, timestampMs, ...rest } = input;
    const session = await this.storageManager?.getActiveSession();

    return this.activity(
      "/public/v1/submit/create_oauth2_credential",
      {
        parameters: rest,
        organizationId:
          organizationId ??
          session?.organizationId ??
          this.config.organizationId,
        timestampMs: timestampMs ?? String(Date.now()),
        type: "ACTIVITY_TYPE_CREATE_OAUTH2CREDENTIAL",
      },
      "createOauth2CredentialResult",
      stampWith,
    );
  };

  stampCreateOauth2Credential = async (
    input: SdkTypes.TCreateOauth2CredentialBody,
    stampWith?: StamperType,
  ): Promise<TSignedRequest | undefined> => {
    const activeStamper = this.getStamper(stampWith);
    if (!activeStamper) {
      return undefined;
    }

    const { organizationId, timestampMs, ...parameters } = input;

    const fullUrl =
      this.config.apiBaseUrl + "/public/v1/submit/create_oauth2_credential";
    const bodyWithType = {
      parameters,
      organizationId,
      timestampMs: timestampMs ?? String(Date.now()),
      type: "ACTIVITY_TYPE_CREATE_OAUTH2CREDENTIAL",
    };

    const stringifiedBody = JSON.stringify(bodyWithType);
    const stamp = await activeStamper.stamp(stringifiedBody);
    return {
      body: stringifiedBody,
      stamp: stamp,
      url: fullUrl,
    };
  };

  createOauthProviders = async (
    input: SdkTypes.TCreateOauthProvidersBody,
    stampWith?: StamperType,
  ): Promise<SdkTypes.TCreateOauthProvidersResponse> => {
    const { organizationId, timestampMs, ...rest } = input;
    const session = await this.storageManager?.getActiveSession();

    return this.activity(
      "/public/v1/submit/create_oauth_providers",
      {
        parameters: rest,
        organizationId:
          organizationId ??
          session?.organizationId ??
          this.config.organizationId,
        timestampMs: timestampMs ?? String(Date.now()),
        type: "ACTIVITY_TYPE_CREATE_OAUTH_PROVIDERS",
      },
      "createOauthProvidersResult",
      stampWith,
    );
  };

  stampCreateOauthProviders = async (
    input: SdkTypes.TCreateOauthProvidersBody,
    stampWith?: StamperType,
  ): Promise<TSignedRequest | undefined> => {
    const activeStamper = this.getStamper(stampWith);
    if (!activeStamper) {
      return undefined;
    }

    const { organizationId, timestampMs, ...parameters } = input;

    const fullUrl =
      this.config.apiBaseUrl + "/public/v1/submit/create_oauth_providers";
    const bodyWithType = {
      parameters,
      organizationId,
      timestampMs: timestampMs ?? String(Date.now()),
      type: "ACTIVITY_TYPE_CREATE_OAUTH_PROVIDERS",
    };

    const stringifiedBody = JSON.stringify(bodyWithType);
    const stamp = await activeStamper.stamp(stringifiedBody);
    return {
      body: stringifiedBody,
      stamp: stamp,
      url: fullUrl,
    };
  };

  createPolicies = async (
    input: SdkTypes.TCreatePoliciesBody,
    stampWith?: StamperType,
  ): Promise<SdkTypes.TCreatePoliciesResponse> => {
    const { organizationId, timestampMs, ...rest } = input;
    const session = await this.storageManager?.getActiveSession();

    return this.activity(
      "/public/v1/submit/create_policies",
      {
        parameters: rest,
        organizationId:
          organizationId ??
          session?.organizationId ??
          this.config.organizationId,
        timestampMs: timestampMs ?? String(Date.now()),
        type: "ACTIVITY_TYPE_CREATE_POLICIES",
      },
      "createPoliciesResult",
      stampWith,
    );
  };

  stampCreatePolicies = async (
    input: SdkTypes.TCreatePoliciesBody,
    stampWith?: StamperType,
  ): Promise<TSignedRequest | undefined> => {
    const activeStamper = this.getStamper(stampWith);
    if (!activeStamper) {
      return undefined;
    }

    const { organizationId, timestampMs, ...parameters } = input;

    const fullUrl =
      this.config.apiBaseUrl + "/public/v1/submit/create_policies";
    const bodyWithType = {
      parameters,
      organizationId,
      timestampMs: timestampMs ?? String(Date.now()),
      type: "ACTIVITY_TYPE_CREATE_POLICIES",
    };

    const stringifiedBody = JSON.stringify(bodyWithType);
    const stamp = await activeStamper.stamp(stringifiedBody);
    return {
      body: stringifiedBody,
      stamp: stamp,
      url: fullUrl,
    };
  };

  createPolicy = async (
    input: SdkTypes.TCreatePolicyBody,
    stampWith?: StamperType,
  ): Promise<SdkTypes.TCreatePolicyResponse> => {
    const { organizationId, timestampMs, ...rest } = input;
    const session = await this.storageManager?.getActiveSession();

    return this.activity(
      "/public/v1/submit/create_policy",
      {
        parameters: rest,
        organizationId:
          organizationId ??
          session?.organizationId ??
          this.config.organizationId,
        timestampMs: timestampMs ?? String(Date.now()),
        type: "ACTIVITY_TYPE_CREATE_POLICY_V3",
      },
      "createPolicyResult",
      stampWith,
    );
  };

  stampCreatePolicy = async (
    input: SdkTypes.TCreatePolicyBody,
    stampWith?: StamperType,
  ): Promise<TSignedRequest | undefined> => {
    const activeStamper = this.getStamper(stampWith);
    if (!activeStamper) {
      return undefined;
    }

    const { organizationId, timestampMs, ...parameters } = input;

    const fullUrl = this.config.apiBaseUrl + "/public/v1/submit/create_policy";
    const bodyWithType = {
      parameters,
      organizationId,
      timestampMs: timestampMs ?? String(Date.now()),
      type: "ACTIVITY_TYPE_CREATE_POLICY_V3",
    };

    const stringifiedBody = JSON.stringify(bodyWithType);
    const stamp = await activeStamper.stamp(stringifiedBody);
    return {
      body: stringifiedBody,
      stamp: stamp,
      url: fullUrl,
    };
  };

  createPrivateKeyTag = async (
    input: SdkTypes.TCreatePrivateKeyTagBody,
    stampWith?: StamperType,
  ): Promise<SdkTypes.TCreatePrivateKeyTagResponse> => {
    const { organizationId, timestampMs, ...rest } = input;
    const session = await this.storageManager?.getActiveSession();

    return this.activity(
      "/public/v1/submit/create_private_key_tag",
      {
        parameters: rest,
        organizationId:
          organizationId ??
          session?.organizationId ??
          this.config.organizationId,
        timestampMs: timestampMs ?? String(Date.now()),
        type: "ACTIVITY_TYPE_CREATE_PRIVATE_KEY_TAG",
      },
      "createPrivateKeyTagResult",
      stampWith,
    );
  };

  stampCreatePrivateKeyTag = async (
    input: SdkTypes.TCreatePrivateKeyTagBody,
    stampWith?: StamperType,
  ): Promise<TSignedRequest | undefined> => {
    const activeStamper = this.getStamper(stampWith);
    if (!activeStamper) {
      return undefined;
    }

    const { organizationId, timestampMs, ...parameters } = input;

    const fullUrl =
      this.config.apiBaseUrl + "/public/v1/submit/create_private_key_tag";
    const bodyWithType = {
      parameters,
      organizationId,
      timestampMs: timestampMs ?? String(Date.now()),
      type: "ACTIVITY_TYPE_CREATE_PRIVATE_KEY_TAG",
    };

    const stringifiedBody = JSON.stringify(bodyWithType);
    const stamp = await activeStamper.stamp(stringifiedBody);
    return {
      body: stringifiedBody,
      stamp: stamp,
      url: fullUrl,
    };
  };

  createPrivateKeys = async (
    input: SdkTypes.TCreatePrivateKeysBody,
    stampWith?: StamperType,
  ): Promise<SdkTypes.TCreatePrivateKeysResponse> => {
    const { organizationId, timestampMs, ...rest } = input;
    const session = await this.storageManager?.getActiveSession();

    return this.activity(
      "/public/v1/submit/create_private_keys",
      {
        parameters: rest,
        organizationId:
          organizationId ??
          session?.organizationId ??
          this.config.organizationId,
        timestampMs: timestampMs ?? String(Date.now()),
        type: "ACTIVITY_TYPE_CREATE_PRIVATE_KEYS_V2",
      },
      "createPrivateKeysResult",
      stampWith,
    );
  };

  stampCreatePrivateKeys = async (
    input: SdkTypes.TCreatePrivateKeysBody,
    stampWith?: StamperType,
  ): Promise<TSignedRequest | undefined> => {
    const activeStamper = this.getStamper(stampWith);
    if (!activeStamper) {
      return undefined;
    }

    const { organizationId, timestampMs, ...parameters } = input;

    const fullUrl =
      this.config.apiBaseUrl + "/public/v1/submit/create_private_keys";
    const bodyWithType = {
      parameters,
      organizationId,
      timestampMs: timestampMs ?? String(Date.now()),
      type: "ACTIVITY_TYPE_CREATE_PRIVATE_KEYS_V2",
    };

    const stringifiedBody = JSON.stringify(bodyWithType);
    const stamp = await activeStamper.stamp(stringifiedBody);
    return {
      body: stringifiedBody,
      stamp: stamp,
      url: fullUrl,
    };
  };

  createReadOnlySession = async (
    input: SdkTypes.TCreateReadOnlySessionBody,
    stampWith?: StamperType,
  ): Promise<SdkTypes.TCreateReadOnlySessionResponse> => {
    const { organizationId, timestampMs, ...rest } = input;
    const session = await this.storageManager?.getActiveSession();

    return this.activity(
      "/public/v1/submit/create_read_only_session",
      {
        parameters: rest,
        organizationId:
          organizationId ??
          session?.organizationId ??
          this.config.organizationId,
        timestampMs: timestampMs ?? String(Date.now()),
        type: "ACTIVITY_TYPE_CREATE_READ_ONLY_SESSION",
      },
      "createReadOnlySessionResult",
      stampWith,
    );
  };

  stampCreateReadOnlySession = async (
    input: SdkTypes.TCreateReadOnlySessionBody,
    stampWith?: StamperType,
  ): Promise<TSignedRequest | undefined> => {
    const activeStamper = this.getStamper(stampWith);
    if (!activeStamper) {
      return undefined;
    }

    const { organizationId, timestampMs, ...parameters } = input;

    const fullUrl =
      this.config.apiBaseUrl + "/public/v1/submit/create_read_only_session";
    const bodyWithType = {
      parameters,
      organizationId,
      timestampMs: timestampMs ?? String(Date.now()),
      type: "ACTIVITY_TYPE_CREATE_READ_ONLY_SESSION",
    };

    const stringifiedBody = JSON.stringify(bodyWithType);
    const stamp = await activeStamper.stamp(stringifiedBody);
    return {
      body: stringifiedBody,
      stamp: stamp,
      url: fullUrl,
    };
  };

  createReadWriteSession = async (
    input: SdkTypes.TCreateReadWriteSessionBody,
    stampWith?: StamperType,
  ): Promise<SdkTypes.TCreateReadWriteSessionResponse> => {
    const { organizationId, timestampMs, ...rest } = input;
    const session = await this.storageManager?.getActiveSession();

    return this.activity(
      "/public/v1/submit/create_read_write_session",
      {
        parameters: rest,
        organizationId:
          organizationId ??
          session?.organizationId ??
          this.config.organizationId,
        timestampMs: timestampMs ?? String(Date.now()),
        type: "ACTIVITY_TYPE_CREATE_READ_WRITE_SESSION_V2",
      },
      "createReadWriteSessionResult",
      stampWith,
    );
  };

  stampCreateReadWriteSession = async (
    input: SdkTypes.TCreateReadWriteSessionBody,
    stampWith?: StamperType,
  ): Promise<TSignedRequest | undefined> => {
    const activeStamper = this.getStamper(stampWith);
    if (!activeStamper) {
      return undefined;
    }

    const { organizationId, timestampMs, ...parameters } = input;

    const fullUrl =
      this.config.apiBaseUrl + "/public/v1/submit/create_read_write_session";
    const bodyWithType = {
      parameters,
      organizationId,
      timestampMs: timestampMs ?? String(Date.now()),
      type: "ACTIVITY_TYPE_CREATE_READ_WRITE_SESSION_V2",
    };

    const stringifiedBody = JSON.stringify(bodyWithType);
    const stamp = await activeStamper.stamp(stringifiedBody);
    return {
      body: stringifiedBody,
      stamp: stamp,
      url: fullUrl,
    };
  };

  createSmartContractInterface = async (
    input: SdkTypes.TCreateSmartContractInterfaceBody,
    stampWith?: StamperType,
  ): Promise<SdkTypes.TCreateSmartContractInterfaceResponse> => {
    const { organizationId, timestampMs, ...rest } = input;
    const session = await this.storageManager?.getActiveSession();

    return this.activity(
      "/public/v1/submit/create_smart_contract_interface",
      {
        parameters: rest,
        organizationId:
          organizationId ??
          session?.organizationId ??
          this.config.organizationId,
        timestampMs: timestampMs ?? String(Date.now()),
        type: "ACTIVITY_TYPE_CREATE_SMART_CONTRACT_INTERFACE",
      },
      "createSmartContractInterfaceResult",
      stampWith,
    );
  };

  stampCreateSmartContractInterface = async (
    input: SdkTypes.TCreateSmartContractInterfaceBody,
    stampWith?: StamperType,
  ): Promise<TSignedRequest | undefined> => {
    const activeStamper = this.getStamper(stampWith);
    if (!activeStamper) {
      return undefined;
    }

    const { organizationId, timestampMs, ...parameters } = input;

    const fullUrl =
      this.config.apiBaseUrl +
      "/public/v1/submit/create_smart_contract_interface";
    const bodyWithType = {
      parameters,
      organizationId,
      timestampMs: timestampMs ?? String(Date.now()),
      type: "ACTIVITY_TYPE_CREATE_SMART_CONTRACT_INTERFACE",
    };

    const stringifiedBody = JSON.stringify(bodyWithType);
    const stamp = await activeStamper.stamp(stringifiedBody);
    return {
      body: stringifiedBody,
      stamp: stamp,
      url: fullUrl,
    };
  };

  createSubOrganization = async (
    input: SdkTypes.TCreateSubOrganizationBody,
    stampWith?: StamperType,
  ): Promise<SdkTypes.TCreateSubOrganizationResponse> => {
    const { organizationId, timestampMs, ...rest } = input;
    const session = await this.storageManager?.getActiveSession();

    return this.activity(
      "/public/v1/submit/create_sub_organization",
      {
        parameters: rest,
        organizationId:
          organizationId ??
          session?.organizationId ??
          this.config.organizationId,
        timestampMs: timestampMs ?? String(Date.now()),
        type: "ACTIVITY_TYPE_CREATE_SUB_ORGANIZATION_V7",
      },
      "createSubOrganizationResult",
      stampWith,
    );
  };

  stampCreateSubOrganization = async (
    input: SdkTypes.TCreateSubOrganizationBody,
    stampWith?: StamperType,
  ): Promise<TSignedRequest | undefined> => {
    const activeStamper = this.getStamper(stampWith);
    if (!activeStamper) {
      return undefined;
    }

    const { organizationId, timestampMs, ...parameters } = input;

    const fullUrl =
      this.config.apiBaseUrl + "/public/v1/submit/create_sub_organization";
    const bodyWithType = {
      parameters,
      organizationId,
      timestampMs: timestampMs ?? String(Date.now()),
      type: "ACTIVITY_TYPE_CREATE_SUB_ORGANIZATION_V7",
    };

    const stringifiedBody = JSON.stringify(bodyWithType);
    const stamp = await activeStamper.stamp(stringifiedBody);
    return {
      body: stringifiedBody,
      stamp: stamp,
      url: fullUrl,
    };
  };

  createUserTag = async (
    input: SdkTypes.TCreateUserTagBody,
    stampWith?: StamperType,
  ): Promise<SdkTypes.TCreateUserTagResponse> => {
    const { organizationId, timestampMs, ...rest } = input;
    const session = await this.storageManager?.getActiveSession();

    return this.activity(
      "/public/v1/submit/create_user_tag",
      {
        parameters: rest,
        organizationId:
          organizationId ??
          session?.organizationId ??
          this.config.organizationId,
        timestampMs: timestampMs ?? String(Date.now()),
        type: "ACTIVITY_TYPE_CREATE_USER_TAG",
      },
      "createUserTagResult",
      stampWith,
    );
  };

  stampCreateUserTag = async (
    input: SdkTypes.TCreateUserTagBody,
    stampWith?: StamperType,
  ): Promise<TSignedRequest | undefined> => {
    const activeStamper = this.getStamper(stampWith);
    if (!activeStamper) {
      return undefined;
    }

    const { organizationId, timestampMs, ...parameters } = input;

    const fullUrl =
      this.config.apiBaseUrl + "/public/v1/submit/create_user_tag";
    const bodyWithType = {
      parameters,
      organizationId,
      timestampMs: timestampMs ?? String(Date.now()),
      type: "ACTIVITY_TYPE_CREATE_USER_TAG",
    };

    const stringifiedBody = JSON.stringify(bodyWithType);
    const stamp = await activeStamper.stamp(stringifiedBody);
    return {
      body: stringifiedBody,
      stamp: stamp,
      url: fullUrl,
    };
  };

  createUsers = async (
    input: SdkTypes.TCreateUsersBody,
    stampWith?: StamperType,
  ): Promise<SdkTypes.TCreateUsersResponse> => {
    const { organizationId, timestampMs, ...rest } = input;
    const session = await this.storageManager?.getActiveSession();

    return this.activity(
      "/public/v1/submit/create_users",
      {
        parameters: rest,
        organizationId:
          organizationId ??
          session?.organizationId ??
          this.config.organizationId,
        timestampMs: timestampMs ?? String(Date.now()),
        type: "ACTIVITY_TYPE_CREATE_USERS_V3",
      },
      "createUsersResult",
      stampWith,
    );
  };

  stampCreateUsers = async (
    input: SdkTypes.TCreateUsersBody,
    stampWith?: StamperType,
  ): Promise<TSignedRequest | undefined> => {
    const activeStamper = this.getStamper(stampWith);
    if (!activeStamper) {
      return undefined;
    }

    const { organizationId, timestampMs, ...parameters } = input;

    const fullUrl = this.config.apiBaseUrl + "/public/v1/submit/create_users";
    const bodyWithType = {
      parameters,
      organizationId,
      timestampMs: timestampMs ?? String(Date.now()),
      type: "ACTIVITY_TYPE_CREATE_USERS_V3",
    };

    const stringifiedBody = JSON.stringify(bodyWithType);
    const stamp = await activeStamper.stamp(stringifiedBody);
    return {
      body: stringifiedBody,
      stamp: stamp,
      url: fullUrl,
    };
  };

  createWallet = async (
    input: SdkTypes.TCreateWalletBody,
    stampWith?: StamperType,
  ): Promise<SdkTypes.TCreateWalletResponse> => {
    const { organizationId, timestampMs, ...rest } = input;
    const session = await this.storageManager?.getActiveSession();

    return this.activity(
      "/public/v1/submit/create_wallet",
      {
        parameters: rest,
        organizationId:
          organizationId ??
          session?.organizationId ??
          this.config.organizationId,
        timestampMs: timestampMs ?? String(Date.now()),
        type: "ACTIVITY_TYPE_CREATE_WALLET",
      },
      "createWalletResult",
      stampWith,
    );
  };

  stampCreateWallet = async (
    input: SdkTypes.TCreateWalletBody,
    stampWith?: StamperType,
  ): Promise<TSignedRequest | undefined> => {
    const activeStamper = this.getStamper(stampWith);
    if (!activeStamper) {
      return undefined;
    }

    const { organizationId, timestampMs, ...parameters } = input;

    const fullUrl = this.config.apiBaseUrl + "/public/v1/submit/create_wallet";
    const bodyWithType = {
      parameters,
      organizationId,
      timestampMs: timestampMs ?? String(Date.now()),
      type: "ACTIVITY_TYPE_CREATE_WALLET",
    };

    const stringifiedBody = JSON.stringify(bodyWithType);
    const stamp = await activeStamper.stamp(stringifiedBody);
    return {
      body: stringifiedBody,
      stamp: stamp,
      url: fullUrl,
    };
  };

  createWalletAccounts = async (
    input: SdkTypes.TCreateWalletAccountsBody,
    stampWith?: StamperType,
  ): Promise<SdkTypes.TCreateWalletAccountsResponse> => {
    const { organizationId, timestampMs, ...rest } = input;
    const session = await this.storageManager?.getActiveSession();

    return this.activity(
      "/public/v1/submit/create_wallet_accounts",
      {
        parameters: rest,
        organizationId:
          organizationId ??
          session?.organizationId ??
          this.config.organizationId,
        timestampMs: timestampMs ?? String(Date.now()),
        type: "ACTIVITY_TYPE_CREATE_WALLET_ACCOUNTS",
      },
      "createWalletAccountsResult",
      stampWith,
    );
  };

  stampCreateWalletAccounts = async (
    input: SdkTypes.TCreateWalletAccountsBody,
    stampWith?: StamperType,
  ): Promise<TSignedRequest | undefined> => {
    const activeStamper = this.getStamper(stampWith);
    if (!activeStamper) {
      return undefined;
    }

    const { organizationId, timestampMs, ...parameters } = input;

    const fullUrl =
      this.config.apiBaseUrl + "/public/v1/submit/create_wallet_accounts";
    const bodyWithType = {
      parameters,
      organizationId,
      timestampMs: timestampMs ?? String(Date.now()),
      type: "ACTIVITY_TYPE_CREATE_WALLET_ACCOUNTS",
    };

    const stringifiedBody = JSON.stringify(bodyWithType);
    const stamp = await activeStamper.stamp(stringifiedBody);
    return {
      body: stringifiedBody,
      stamp: stamp,
      url: fullUrl,
    };
  };

  deleteApiKeys = async (
    input: SdkTypes.TDeleteApiKeysBody,
    stampWith?: StamperType,
  ): Promise<SdkTypes.TDeleteApiKeysResponse> => {
    const { organizationId, timestampMs, ...rest } = input;
    const session = await this.storageManager?.getActiveSession();

    return this.activity(
      "/public/v1/submit/delete_api_keys",
      {
        parameters: rest,
        organizationId:
          organizationId ??
          session?.organizationId ??
          this.config.organizationId,
        timestampMs: timestampMs ?? String(Date.now()),
        type: "ACTIVITY_TYPE_DELETE_API_KEYS",
      },
      "deleteApiKeysResult",
      stampWith,
    );
  };

  stampDeleteApiKeys = async (
    input: SdkTypes.TDeleteApiKeysBody,
    stampWith?: StamperType,
  ): Promise<TSignedRequest | undefined> => {
    const activeStamper = this.getStamper(stampWith);
    if (!activeStamper) {
      return undefined;
    }

    const { organizationId, timestampMs, ...parameters } = input;

    const fullUrl =
      this.config.apiBaseUrl + "/public/v1/submit/delete_api_keys";
    const bodyWithType = {
      parameters,
      organizationId,
      timestampMs: timestampMs ?? String(Date.now()),
      type: "ACTIVITY_TYPE_DELETE_API_KEYS",
    };

    const stringifiedBody = JSON.stringify(bodyWithType);
    const stamp = await activeStamper.stamp(stringifiedBody);
    return {
      body: stringifiedBody,
      stamp: stamp,
      url: fullUrl,
    };
  };

  deleteAuthenticators = async (
    input: SdkTypes.TDeleteAuthenticatorsBody,
    stampWith?: StamperType,
  ): Promise<SdkTypes.TDeleteAuthenticatorsResponse> => {
    const { organizationId, timestampMs, ...rest } = input;
    const session = await this.storageManager?.getActiveSession();

    return this.activity(
      "/public/v1/submit/delete_authenticators",
      {
        parameters: rest,
        organizationId:
          organizationId ??
          session?.organizationId ??
          this.config.organizationId,
        timestampMs: timestampMs ?? String(Date.now()),
        type: "ACTIVITY_TYPE_DELETE_AUTHENTICATORS",
      },
      "deleteAuthenticatorsResult",
      stampWith,
    );
  };

  stampDeleteAuthenticators = async (
    input: SdkTypes.TDeleteAuthenticatorsBody,
    stampWith?: StamperType,
  ): Promise<TSignedRequest | undefined> => {
    const activeStamper = this.getStamper(stampWith);
    if (!activeStamper) {
      return undefined;
    }

    const { organizationId, timestampMs, ...parameters } = input;

    const fullUrl =
      this.config.apiBaseUrl + "/public/v1/submit/delete_authenticators";
    const bodyWithType = {
      parameters,
      organizationId,
      timestampMs: timestampMs ?? String(Date.now()),
      type: "ACTIVITY_TYPE_DELETE_AUTHENTICATORS",
    };

    const stringifiedBody = JSON.stringify(bodyWithType);
    const stamp = await activeStamper.stamp(stringifiedBody);
    return {
      body: stringifiedBody,
      stamp: stamp,
      url: fullUrl,
    };
  };

  deleteInvitation = async (
    input: SdkTypes.TDeleteInvitationBody,
    stampWith?: StamperType,
  ): Promise<SdkTypes.TDeleteInvitationResponse> => {
    const { organizationId, timestampMs, ...rest } = input;
    const session = await this.storageManager?.getActiveSession();

    return this.activity(
      "/public/v1/submit/delete_invitation",
      {
        parameters: rest,
        organizationId:
          organizationId ??
          session?.organizationId ??
          this.config.organizationId,
        timestampMs: timestampMs ?? String(Date.now()),
        type: "ACTIVITY_TYPE_DELETE_INVITATION",
      },
      "deleteInvitationResult",
      stampWith,
    );
  };

  stampDeleteInvitation = async (
    input: SdkTypes.TDeleteInvitationBody,
    stampWith?: StamperType,
  ): Promise<TSignedRequest | undefined> => {
    const activeStamper = this.getStamper(stampWith);
    if (!activeStamper) {
      return undefined;
    }

    const { organizationId, timestampMs, ...parameters } = input;

    const fullUrl =
      this.config.apiBaseUrl + "/public/v1/submit/delete_invitation";
    const bodyWithType = {
      parameters,
      organizationId,
      timestampMs: timestampMs ?? String(Date.now()),
      type: "ACTIVITY_TYPE_DELETE_INVITATION",
    };

    const stringifiedBody = JSON.stringify(bodyWithType);
    const stamp = await activeStamper.stamp(stringifiedBody);
    return {
      body: stringifiedBody,
      stamp: stamp,
      url: fullUrl,
    };
  };

  deleteOauth2Credential = async (
    input: SdkTypes.TDeleteOauth2CredentialBody,
    stampWith?: StamperType,
  ): Promise<SdkTypes.TDeleteOauth2CredentialResponse> => {
    const { organizationId, timestampMs, ...rest } = input;
    const session = await this.storageManager?.getActiveSession();

    return this.activity(
      "/public/v1/submit/delete_oauth2_credential",
      {
        parameters: rest,
        organizationId:
          organizationId ??
          session?.organizationId ??
          this.config.organizationId,
        timestampMs: timestampMs ?? String(Date.now()),
        type: "ACTIVITY_TYPE_DELETE_OAUTH2CREDENTIAL",
      },
      "deleteOauth2CredentialResult",
      stampWith,
    );
  };

  stampDeleteOauth2Credential = async (
    input: SdkTypes.TDeleteOauth2CredentialBody,
    stampWith?: StamperType,
  ): Promise<TSignedRequest | undefined> => {
    const activeStamper = this.getStamper(stampWith);
    if (!activeStamper) {
      return undefined;
    }

    const { organizationId, timestampMs, ...parameters } = input;

    const fullUrl =
      this.config.apiBaseUrl + "/public/v1/submit/delete_oauth2_credential";
    const bodyWithType = {
      parameters,
      organizationId,
      timestampMs: timestampMs ?? String(Date.now()),
      type: "ACTIVITY_TYPE_DELETE_OAUTH2CREDENTIAL",
    };

    const stringifiedBody = JSON.stringify(bodyWithType);
    const stamp = await activeStamper.stamp(stringifiedBody);
    return {
      body: stringifiedBody,
      stamp: stamp,
      url: fullUrl,
    };
  };

  deleteOauthProviders = async (
    input: SdkTypes.TDeleteOauthProvidersBody,
    stampWith?: StamperType,
  ): Promise<SdkTypes.TDeleteOauthProvidersResponse> => {
    const { organizationId, timestampMs, ...rest } = input;
    const session = await this.storageManager?.getActiveSession();

    return this.activity(
      "/public/v1/submit/delete_oauth_providers",
      {
        parameters: rest,
        organizationId:
          organizationId ??
          session?.organizationId ??
          this.config.organizationId,
        timestampMs: timestampMs ?? String(Date.now()),
        type: "ACTIVITY_TYPE_DELETE_OAUTH_PROVIDERS",
      },
      "deleteOauthProvidersResult",
      stampWith,
    );
  };

  stampDeleteOauthProviders = async (
    input: SdkTypes.TDeleteOauthProvidersBody,
    stampWith?: StamperType,
  ): Promise<TSignedRequest | undefined> => {
    const activeStamper = this.getStamper(stampWith);
    if (!activeStamper) {
      return undefined;
    }

    const { organizationId, timestampMs, ...parameters } = input;

    const fullUrl =
      this.config.apiBaseUrl + "/public/v1/submit/delete_oauth_providers";
    const bodyWithType = {
      parameters,
      organizationId,
      timestampMs: timestampMs ?? String(Date.now()),
      type: "ACTIVITY_TYPE_DELETE_OAUTH_PROVIDERS",
    };

    const stringifiedBody = JSON.stringify(bodyWithType);
    const stamp = await activeStamper.stamp(stringifiedBody);
    return {
      body: stringifiedBody,
      stamp: stamp,
      url: fullUrl,
    };
  };

  deletePolicies = async (
    input: SdkTypes.TDeletePoliciesBody,
    stampWith?: StamperType,
  ): Promise<SdkTypes.TDeletePoliciesResponse> => {
    const { organizationId, timestampMs, ...rest } = input;
    const session = await this.storageManager?.getActiveSession();

    return this.activity(
      "/public/v1/submit/delete_policies",
      {
        parameters: rest,
        organizationId:
          organizationId ??
          session?.organizationId ??
          this.config.organizationId,
        timestampMs: timestampMs ?? String(Date.now()),
        type: "ACTIVITY_TYPE_DELETE_POLICIES",
      },
      "deletePoliciesResult",
      stampWith,
    );
  };

  stampDeletePolicies = async (
    input: SdkTypes.TDeletePoliciesBody,
    stampWith?: StamperType,
  ): Promise<TSignedRequest | undefined> => {
    const activeStamper = this.getStamper(stampWith);
    if (!activeStamper) {
      return undefined;
    }

    const { organizationId, timestampMs, ...parameters } = input;

    const fullUrl =
      this.config.apiBaseUrl + "/public/v1/submit/delete_policies";
    const bodyWithType = {
      parameters,
      organizationId,
      timestampMs: timestampMs ?? String(Date.now()),
      type: "ACTIVITY_TYPE_DELETE_POLICIES",
    };

    const stringifiedBody = JSON.stringify(bodyWithType);
    const stamp = await activeStamper.stamp(stringifiedBody);
    return {
      body: stringifiedBody,
      stamp: stamp,
      url: fullUrl,
    };
  };

  deletePolicy = async (
    input: SdkTypes.TDeletePolicyBody,
    stampWith?: StamperType,
  ): Promise<SdkTypes.TDeletePolicyResponse> => {
    const { organizationId, timestampMs, ...rest } = input;
    const session = await this.storageManager?.getActiveSession();

    return this.activity(
      "/public/v1/submit/delete_policy",
      {
        parameters: rest,
        organizationId:
          organizationId ??
          session?.organizationId ??
          this.config.organizationId,
        timestampMs: timestampMs ?? String(Date.now()),
        type: "ACTIVITY_TYPE_DELETE_POLICY",
      },
      "deletePolicyResult",
      stampWith,
    );
  };

  stampDeletePolicy = async (
    input: SdkTypes.TDeletePolicyBody,
    stampWith?: StamperType,
  ): Promise<TSignedRequest | undefined> => {
    const activeStamper = this.getStamper(stampWith);
    if (!activeStamper) {
      return undefined;
    }

    const { organizationId, timestampMs, ...parameters } = input;

    const fullUrl = this.config.apiBaseUrl + "/public/v1/submit/delete_policy";
    const bodyWithType = {
      parameters,
      organizationId,
      timestampMs: timestampMs ?? String(Date.now()),
      type: "ACTIVITY_TYPE_DELETE_POLICY",
    };

    const stringifiedBody = JSON.stringify(bodyWithType);
    const stamp = await activeStamper.stamp(stringifiedBody);
    return {
      body: stringifiedBody,
      stamp: stamp,
      url: fullUrl,
    };
  };

  deletePrivateKeyTags = async (
    input: SdkTypes.TDeletePrivateKeyTagsBody,
    stampWith?: StamperType,
  ): Promise<SdkTypes.TDeletePrivateKeyTagsResponse> => {
    const { organizationId, timestampMs, ...rest } = input;
    const session = await this.storageManager?.getActiveSession();

    return this.activity(
      "/public/v1/submit/delete_private_key_tags",
      {
        parameters: rest,
        organizationId:
          organizationId ??
          session?.organizationId ??
          this.config.organizationId,
        timestampMs: timestampMs ?? String(Date.now()),
        type: "ACTIVITY_TYPE_DELETE_PRIVATE_KEY_TAGS",
      },
      "deletePrivateKeyTagsResult",
      stampWith,
    );
  };

  stampDeletePrivateKeyTags = async (
    input: SdkTypes.TDeletePrivateKeyTagsBody,
    stampWith?: StamperType,
  ): Promise<TSignedRequest | undefined> => {
    const activeStamper = this.getStamper(stampWith);
    if (!activeStamper) {
      return undefined;
    }

    const { organizationId, timestampMs, ...parameters } = input;

    const fullUrl =
      this.config.apiBaseUrl + "/public/v1/submit/delete_private_key_tags";
    const bodyWithType = {
      parameters,
      organizationId,
      timestampMs: timestampMs ?? String(Date.now()),
      type: "ACTIVITY_TYPE_DELETE_PRIVATE_KEY_TAGS",
    };

    const stringifiedBody = JSON.stringify(bodyWithType);
    const stamp = await activeStamper.stamp(stringifiedBody);
    return {
      body: stringifiedBody,
      stamp: stamp,
      url: fullUrl,
    };
  };

  deletePrivateKeys = async (
    input: SdkTypes.TDeletePrivateKeysBody,
    stampWith?: StamperType,
  ): Promise<SdkTypes.TDeletePrivateKeysResponse> => {
    const { organizationId, timestampMs, ...rest } = input;
    const session = await this.storageManager?.getActiveSession();

    return this.activity(
      "/public/v1/submit/delete_private_keys",
      {
        parameters: rest,
        organizationId:
          organizationId ??
          session?.organizationId ??
          this.config.organizationId,
        timestampMs: timestampMs ?? String(Date.now()),
        type: "ACTIVITY_TYPE_DELETE_PRIVATE_KEYS",
      },
      "deletePrivateKeysResult",
      stampWith,
    );
  };

  stampDeletePrivateKeys = async (
    input: SdkTypes.TDeletePrivateKeysBody,
    stampWith?: StamperType,
  ): Promise<TSignedRequest | undefined> => {
    const activeStamper = this.getStamper(stampWith);
    if (!activeStamper) {
      return undefined;
    }

    const { organizationId, timestampMs, ...parameters } = input;

    const fullUrl =
      this.config.apiBaseUrl + "/public/v1/submit/delete_private_keys";
    const bodyWithType = {
      parameters,
      organizationId,
      timestampMs: timestampMs ?? String(Date.now()),
      type: "ACTIVITY_TYPE_DELETE_PRIVATE_KEYS",
    };

    const stringifiedBody = JSON.stringify(bodyWithType);
    const stamp = await activeStamper.stamp(stringifiedBody);
    return {
      body: stringifiedBody,
      stamp: stamp,
      url: fullUrl,
    };
  };

  deleteSmartContractInterface = async (
    input: SdkTypes.TDeleteSmartContractInterfaceBody,
    stampWith?: StamperType,
  ): Promise<SdkTypes.TDeleteSmartContractInterfaceResponse> => {
    const { organizationId, timestampMs, ...rest } = input;
    const session = await this.storageManager?.getActiveSession();

    return this.activity(
      "/public/v1/submit/delete_smart_contract_interface",
      {
        parameters: rest,
        organizationId:
          organizationId ??
          session?.organizationId ??
          this.config.organizationId,
        timestampMs: timestampMs ?? String(Date.now()),
        type: "ACTIVITY_TYPE_DELETE_SMART_CONTRACT_INTERFACE",
      },
      "deleteSmartContractInterfaceResult",
      stampWith,
    );
  };

  stampDeleteSmartContractInterface = async (
    input: SdkTypes.TDeleteSmartContractInterfaceBody,
    stampWith?: StamperType,
  ): Promise<TSignedRequest | undefined> => {
    const activeStamper = this.getStamper(stampWith);
    if (!activeStamper) {
      return undefined;
    }

    const { organizationId, timestampMs, ...parameters } = input;

    const fullUrl =
      this.config.apiBaseUrl +
      "/public/v1/submit/delete_smart_contract_interface";
    const bodyWithType = {
      parameters,
      organizationId,
      timestampMs: timestampMs ?? String(Date.now()),
      type: "ACTIVITY_TYPE_DELETE_SMART_CONTRACT_INTERFACE",
    };

    const stringifiedBody = JSON.stringify(bodyWithType);
    const stamp = await activeStamper.stamp(stringifiedBody);
    return {
      body: stringifiedBody,
      stamp: stamp,
      url: fullUrl,
    };
  };

  deleteSubOrganization = async (
    input: SdkTypes.TDeleteSubOrganizationBody,
    stampWith?: StamperType,
  ): Promise<SdkTypes.TDeleteSubOrganizationResponse> => {
    const { organizationId, timestampMs, ...rest } = input;
    const session = await this.storageManager?.getActiveSession();

    return this.activity(
      "/public/v1/submit/delete_sub_organization",
      {
        parameters: rest,
        organizationId:
          organizationId ??
          session?.organizationId ??
          this.config.organizationId,
        timestampMs: timestampMs ?? String(Date.now()),
        type: "ACTIVITY_TYPE_DELETE_SUB_ORGANIZATION",
      },
      "deleteSubOrganizationResult",
      stampWith,
    );
  };

  stampDeleteSubOrganization = async (
    input: SdkTypes.TDeleteSubOrganizationBody,
    stampWith?: StamperType,
  ): Promise<TSignedRequest | undefined> => {
    const activeStamper = this.getStamper(stampWith);
    if (!activeStamper) {
      return undefined;
    }

    const { organizationId, timestampMs, ...parameters } = input;

    const fullUrl =
      this.config.apiBaseUrl + "/public/v1/submit/delete_sub_organization";
    const bodyWithType = {
      parameters,
      organizationId,
      timestampMs: timestampMs ?? String(Date.now()),
      type: "ACTIVITY_TYPE_DELETE_SUB_ORGANIZATION",
    };

    const stringifiedBody = JSON.stringify(bodyWithType);
    const stamp = await activeStamper.stamp(stringifiedBody);
    return {
      body: stringifiedBody,
      stamp: stamp,
      url: fullUrl,
    };
  };

  deleteUserTags = async (
    input: SdkTypes.TDeleteUserTagsBody,
    stampWith?: StamperType,
  ): Promise<SdkTypes.TDeleteUserTagsResponse> => {
    const { organizationId, timestampMs, ...rest } = input;
    const session = await this.storageManager?.getActiveSession();

    return this.activity(
      "/public/v1/submit/delete_user_tags",
      {
        parameters: rest,
        organizationId:
          organizationId ??
          session?.organizationId ??
          this.config.organizationId,
        timestampMs: timestampMs ?? String(Date.now()),
        type: "ACTIVITY_TYPE_DELETE_USER_TAGS",
      },
      "deleteUserTagsResult",
      stampWith,
    );
  };

  stampDeleteUserTags = async (
    input: SdkTypes.TDeleteUserTagsBody,
    stampWith?: StamperType,
  ): Promise<TSignedRequest | undefined> => {
    const activeStamper = this.getStamper(stampWith);
    if (!activeStamper) {
      return undefined;
    }

    const { organizationId, timestampMs, ...parameters } = input;

    const fullUrl =
      this.config.apiBaseUrl + "/public/v1/submit/delete_user_tags";
    const bodyWithType = {
      parameters,
      organizationId,
      timestampMs: timestampMs ?? String(Date.now()),
      type: "ACTIVITY_TYPE_DELETE_USER_TAGS",
    };

    const stringifiedBody = JSON.stringify(bodyWithType);
    const stamp = await activeStamper.stamp(stringifiedBody);
    return {
      body: stringifiedBody,
      stamp: stamp,
      url: fullUrl,
    };
  };

  deleteUsers = async (
    input: SdkTypes.TDeleteUsersBody,
    stampWith?: StamperType,
  ): Promise<SdkTypes.TDeleteUsersResponse> => {
    const { organizationId, timestampMs, ...rest } = input;
    const session = await this.storageManager?.getActiveSession();

    return this.activity(
      "/public/v1/submit/delete_users",
      {
        parameters: rest,
        organizationId:
          organizationId ??
          session?.organizationId ??
          this.config.organizationId,
        timestampMs: timestampMs ?? String(Date.now()),
        type: "ACTIVITY_TYPE_DELETE_USERS",
      },
      "deleteUsersResult",
      stampWith,
    );
  };

  stampDeleteUsers = async (
    input: SdkTypes.TDeleteUsersBody,
    stampWith?: StamperType,
  ): Promise<TSignedRequest | undefined> => {
    const activeStamper = this.getStamper(stampWith);
    if (!activeStamper) {
      return undefined;
    }

    const { organizationId, timestampMs, ...parameters } = input;

    const fullUrl = this.config.apiBaseUrl + "/public/v1/submit/delete_users";
    const bodyWithType = {
      parameters,
      organizationId,
      timestampMs: timestampMs ?? String(Date.now()),
      type: "ACTIVITY_TYPE_DELETE_USERS",
    };

    const stringifiedBody = JSON.stringify(bodyWithType);
    const stamp = await activeStamper.stamp(stringifiedBody);
    return {
      body: stringifiedBody,
      stamp: stamp,
      url: fullUrl,
    };
  };

  deleteWalletAccounts = async (
    input: SdkTypes.TDeleteWalletAccountsBody,
    stampWith?: StamperType,
  ): Promise<SdkTypes.TDeleteWalletAccountsResponse> => {
    const { organizationId, timestampMs, ...rest } = input;
    const session = await this.storageManager?.getActiveSession();

    return this.activity(
      "/public/v1/submit/delete_wallet_accounts",
      {
        parameters: rest,
        organizationId:
          organizationId ??
          session?.organizationId ??
          this.config.organizationId,
        timestampMs: timestampMs ?? String(Date.now()),
        type: "ACTIVITY_TYPE_DELETE_WALLET_ACCOUNTS",
      },
      "deleteWalletAccountsResult",
      stampWith,
    );
  };

  stampDeleteWalletAccounts = async (
    input: SdkTypes.TDeleteWalletAccountsBody,
    stampWith?: StamperType,
  ): Promise<TSignedRequest | undefined> => {
    const activeStamper = this.getStamper(stampWith);
    if (!activeStamper) {
      return undefined;
    }

    const { organizationId, timestampMs, ...parameters } = input;

    const fullUrl =
      this.config.apiBaseUrl + "/public/v1/submit/delete_wallet_accounts";
    const bodyWithType = {
      parameters,
      organizationId,
      timestampMs: timestampMs ?? String(Date.now()),
      type: "ACTIVITY_TYPE_DELETE_WALLET_ACCOUNTS",
    };

    const stringifiedBody = JSON.stringify(bodyWithType);
    const stamp = await activeStamper.stamp(stringifiedBody);
    return {
      body: stringifiedBody,
      stamp: stamp,
      url: fullUrl,
    };
  };

  deleteWallets = async (
    input: SdkTypes.TDeleteWalletsBody,
    stampWith?: StamperType,
  ): Promise<SdkTypes.TDeleteWalletsResponse> => {
    const { organizationId, timestampMs, ...rest } = input;
    const session = await this.storageManager?.getActiveSession();

    return this.activity(
      "/public/v1/submit/delete_wallets",
      {
        parameters: rest,
        organizationId:
          organizationId ??
          session?.organizationId ??
          this.config.organizationId,
        timestampMs: timestampMs ?? String(Date.now()),
        type: "ACTIVITY_TYPE_DELETE_WALLETS",
      },
      "deleteWalletsResult",
      stampWith,
    );
  };

  stampDeleteWallets = async (
    input: SdkTypes.TDeleteWalletsBody,
    stampWith?: StamperType,
  ): Promise<TSignedRequest | undefined> => {
    const activeStamper = this.getStamper(stampWith);
    if (!activeStamper) {
      return undefined;
    }

    const { organizationId, timestampMs, ...parameters } = input;

    const fullUrl = this.config.apiBaseUrl + "/public/v1/submit/delete_wallets";
    const bodyWithType = {
      parameters,
      organizationId,
      timestampMs: timestampMs ?? String(Date.now()),
      type: "ACTIVITY_TYPE_DELETE_WALLETS",
    };

    const stringifiedBody = JSON.stringify(bodyWithType);
    const stamp = await activeStamper.stamp(stringifiedBody);
    return {
      body: stringifiedBody,
      stamp: stamp,
      url: fullUrl,
    };
  };

  emailAuth = async (
    input: SdkTypes.TEmailAuthBody,
    stampWith?: StamperType,
  ): Promise<SdkTypes.TEmailAuthResponse> => {
    const { organizationId, timestampMs, ...rest } = input;
    const session = await this.storageManager?.getActiveSession();

    return this.activity(
      "/public/v1/submit/email_auth",
      {
        parameters: rest,
        organizationId:
          organizationId ??
          session?.organizationId ??
          this.config.organizationId,
        timestampMs: timestampMs ?? String(Date.now()),
        type: "ACTIVITY_TYPE_EMAIL_AUTH_V2",
      },
      "emailAuthResult",
      stampWith,
    );
  };

  stampEmailAuth = async (
    input: SdkTypes.TEmailAuthBody,
    stampWith?: StamperType,
  ): Promise<TSignedRequest | undefined> => {
    const activeStamper = this.getStamper(stampWith);
    if (!activeStamper) {
      return undefined;
    }

    const { organizationId, timestampMs, ...parameters } = input;

    const fullUrl = this.config.apiBaseUrl + "/public/v1/submit/email_auth";
    const bodyWithType = {
      parameters,
      organizationId,
      timestampMs: timestampMs ?? String(Date.now()),
      type: "ACTIVITY_TYPE_EMAIL_AUTH_V2",
    };

    const stringifiedBody = JSON.stringify(bodyWithType);
    const stamp = await activeStamper.stamp(stringifiedBody);
    return {
      body: stringifiedBody,
      stamp: stamp,
      url: fullUrl,
    };
  };

  exportPrivateKey = async (
    input: SdkTypes.TExportPrivateKeyBody,
    stampWith?: StamperType,
  ): Promise<SdkTypes.TExportPrivateKeyResponse> => {
    const { organizationId, timestampMs, ...rest } = input;
    const session = await this.storageManager?.getActiveSession();

    return this.activity(
      "/public/v1/submit/export_private_key",
      {
        parameters: rest,
        organizationId:
          organizationId ??
          session?.organizationId ??
          this.config.organizationId,
        timestampMs: timestampMs ?? String(Date.now()),
        type: "ACTIVITY_TYPE_EXPORT_PRIVATE_KEY",
      },
      "exportPrivateKeyResult",
      stampWith,
    );
  };

  stampExportPrivateKey = async (
    input: SdkTypes.TExportPrivateKeyBody,
    stampWith?: StamperType,
  ): Promise<TSignedRequest | undefined> => {
    const activeStamper = this.getStamper(stampWith);
    if (!activeStamper) {
      return undefined;
    }

    const { organizationId, timestampMs, ...parameters } = input;

    const fullUrl =
      this.config.apiBaseUrl + "/public/v1/submit/export_private_key";
    const bodyWithType = {
      parameters,
      organizationId,
      timestampMs: timestampMs ?? String(Date.now()),
      type: "ACTIVITY_TYPE_EXPORT_PRIVATE_KEY",
    };

    const stringifiedBody = JSON.stringify(bodyWithType);
    const stamp = await activeStamper.stamp(stringifiedBody);
    return {
      body: stringifiedBody,
      stamp: stamp,
      url: fullUrl,
    };
  };

  exportWallet = async (
    input: SdkTypes.TExportWalletBody,
    stampWith?: StamperType,
  ): Promise<SdkTypes.TExportWalletResponse> => {
    const { organizationId, timestampMs, ...rest } = input;
    const session = await this.storageManager?.getActiveSession();

    return this.activity(
      "/public/v1/submit/export_wallet",
      {
        parameters: rest,
        organizationId:
          organizationId ??
          session?.organizationId ??
          this.config.organizationId,
        timestampMs: timestampMs ?? String(Date.now()),
        type: "ACTIVITY_TYPE_EXPORT_WALLET",
      },
      "exportWalletResult",
      stampWith,
    );
  };

  stampExportWallet = async (
    input: SdkTypes.TExportWalletBody,
    stampWith?: StamperType,
  ): Promise<TSignedRequest | undefined> => {
    const activeStamper = this.getStamper(stampWith);
    if (!activeStamper) {
      return undefined;
    }

    const { organizationId, timestampMs, ...parameters } = input;

    const fullUrl = this.config.apiBaseUrl + "/public/v1/submit/export_wallet";
    const bodyWithType = {
      parameters,
      organizationId,
      timestampMs: timestampMs ?? String(Date.now()),
      type: "ACTIVITY_TYPE_EXPORT_WALLET",
    };

    const stringifiedBody = JSON.stringify(bodyWithType);
    const stamp = await activeStamper.stamp(stringifiedBody);
    return {
      body: stringifiedBody,
      stamp: stamp,
      url: fullUrl,
    };
  };

  exportWalletAccount = async (
    input: SdkTypes.TExportWalletAccountBody,
    stampWith?: StamperType,
  ): Promise<SdkTypes.TExportWalletAccountResponse> => {
    const { organizationId, timestampMs, ...rest } = input;
    const session = await this.storageManager?.getActiveSession();

    return this.activity(
      "/public/v1/submit/export_wallet_account",
      {
        parameters: rest,
        organizationId:
          organizationId ??
          session?.organizationId ??
          this.config.organizationId,
        timestampMs: timestampMs ?? String(Date.now()),
        type: "ACTIVITY_TYPE_EXPORT_WALLET_ACCOUNT",
      },
      "exportWalletAccountResult",
      stampWith,
    );
  };

  stampExportWalletAccount = async (
    input: SdkTypes.TExportWalletAccountBody,
    stampWith?: StamperType,
  ): Promise<TSignedRequest | undefined> => {
    const activeStamper = this.getStamper(stampWith);
    if (!activeStamper) {
      return undefined;
    }

    const { organizationId, timestampMs, ...parameters } = input;

    const fullUrl =
      this.config.apiBaseUrl + "/public/v1/submit/export_wallet_account";
    const bodyWithType = {
      parameters,
      organizationId,
      timestampMs: timestampMs ?? String(Date.now()),
      type: "ACTIVITY_TYPE_EXPORT_WALLET_ACCOUNT",
    };

    const stringifiedBody = JSON.stringify(bodyWithType);
    const stamp = await activeStamper.stamp(stringifiedBody);
    return {
      body: stringifiedBody,
      stamp: stamp,
      url: fullUrl,
    };
  };

  importPrivateKey = async (
    input: SdkTypes.TImportPrivateKeyBody,
    stampWith?: StamperType,
  ): Promise<SdkTypes.TImportPrivateKeyResponse> => {
    const { organizationId, timestampMs, ...rest } = input;
    const session = await this.storageManager?.getActiveSession();

    return this.activity(
      "/public/v1/submit/import_private_key",
      {
        parameters: rest,
        organizationId:
          organizationId ??
          session?.organizationId ??
          this.config.organizationId,
        timestampMs: timestampMs ?? String(Date.now()),
        type: "ACTIVITY_TYPE_IMPORT_PRIVATE_KEY",
      },
      "importPrivateKeyResult",
      stampWith,
    );
  };

  stampImportPrivateKey = async (
    input: SdkTypes.TImportPrivateKeyBody,
    stampWith?: StamperType,
  ): Promise<TSignedRequest | undefined> => {
    const activeStamper = this.getStamper(stampWith);
    if (!activeStamper) {
      return undefined;
    }

    const { organizationId, timestampMs, ...parameters } = input;

    const fullUrl =
      this.config.apiBaseUrl + "/public/v1/submit/import_private_key";
    const bodyWithType = {
      parameters,
      organizationId,
      timestampMs: timestampMs ?? String(Date.now()),
      type: "ACTIVITY_TYPE_IMPORT_PRIVATE_KEY",
    };

    const stringifiedBody = JSON.stringify(bodyWithType);
    const stamp = await activeStamper.stamp(stringifiedBody);
    return {
      body: stringifiedBody,
      stamp: stamp,
      url: fullUrl,
    };
  };

  importWallet = async (
    input: SdkTypes.TImportWalletBody,
    stampWith?: StamperType,
  ): Promise<SdkTypes.TImportWalletResponse> => {
    const { organizationId, timestampMs, ...rest } = input;
    const session = await this.storageManager?.getActiveSession();

    return this.activity(
      "/public/v1/submit/import_wallet",
      {
        parameters: rest,
        organizationId:
          organizationId ??
          session?.organizationId ??
          this.config.organizationId,
        timestampMs: timestampMs ?? String(Date.now()),
        type: "ACTIVITY_TYPE_IMPORT_WALLET",
      },
      "importWalletResult",
      stampWith,
    );
  };

  stampImportWallet = async (
    input: SdkTypes.TImportWalletBody,
    stampWith?: StamperType,
  ): Promise<TSignedRequest | undefined> => {
    const activeStamper = this.getStamper(stampWith);
    if (!activeStamper) {
      return undefined;
    }

    const { organizationId, timestampMs, ...parameters } = input;

    const fullUrl = this.config.apiBaseUrl + "/public/v1/submit/import_wallet";
    const bodyWithType = {
      parameters,
      organizationId,
      timestampMs: timestampMs ?? String(Date.now()),
      type: "ACTIVITY_TYPE_IMPORT_WALLET",
    };

    const stringifiedBody = JSON.stringify(bodyWithType);
    const stamp = await activeStamper.stamp(stringifiedBody);
    return {
      body: stringifiedBody,
      stamp: stamp,
      url: fullUrl,
    };
  };

  initFiatOnRamp = async (
    input: SdkTypes.TInitFiatOnRampBody,
    stampWith?: StamperType,
  ): Promise<SdkTypes.TInitFiatOnRampResponse> => {
    const { organizationId, timestampMs, ...rest } = input;
    const session = await this.storageManager?.getActiveSession();

    return this.activity(
      "/public/v1/submit/init_fiat_on_ramp",
      {
        parameters: rest,
        organizationId:
          organizationId ??
          session?.organizationId ??
          this.config.organizationId,
        timestampMs: timestampMs ?? String(Date.now()),
        type: "ACTIVITY_TYPE_INIT_FIAT_ON_RAMP",
      },
      "initFiatOnRampResult",
      stampWith,
    );
  };

  stampInitFiatOnRamp = async (
    input: SdkTypes.TInitFiatOnRampBody,
    stampWith?: StamperType,
  ): Promise<TSignedRequest | undefined> => {
    const activeStamper = this.getStamper(stampWith);
    if (!activeStamper) {
      return undefined;
    }

    const { organizationId, timestampMs, ...parameters } = input;

    const fullUrl =
      this.config.apiBaseUrl + "/public/v1/submit/init_fiat_on_ramp";
    const bodyWithType = {
      parameters,
      organizationId,
      timestampMs: timestampMs ?? String(Date.now()),
      type: "ACTIVITY_TYPE_INIT_FIAT_ON_RAMP",
    };

    const stringifiedBody = JSON.stringify(bodyWithType);
    const stamp = await activeStamper.stamp(stringifiedBody);
    return {
      body: stringifiedBody,
      stamp: stamp,
      url: fullUrl,
    };
  };

  initImportPrivateKey = async (
    input: SdkTypes.TInitImportPrivateKeyBody,
    stampWith?: StamperType,
  ): Promise<SdkTypes.TInitImportPrivateKeyResponse> => {
    const { organizationId, timestampMs, ...rest } = input;
    const session = await this.storageManager?.getActiveSession();

    return this.activity(
      "/public/v1/submit/init_import_private_key",
      {
        parameters: rest,
        organizationId:
          organizationId ??
          session?.organizationId ??
          this.config.organizationId,
        timestampMs: timestampMs ?? String(Date.now()),
        type: "ACTIVITY_TYPE_INIT_IMPORT_PRIVATE_KEY",
      },
      "initImportPrivateKeyResult",
      stampWith,
    );
  };

  stampInitImportPrivateKey = async (
    input: SdkTypes.TInitImportPrivateKeyBody,
    stampWith?: StamperType,
  ): Promise<TSignedRequest | undefined> => {
    const activeStamper = this.getStamper(stampWith);
    if (!activeStamper) {
      return undefined;
    }

    const { organizationId, timestampMs, ...parameters } = input;

    const fullUrl =
      this.config.apiBaseUrl + "/public/v1/submit/init_import_private_key";
    const bodyWithType = {
      parameters,
      organizationId,
      timestampMs: timestampMs ?? String(Date.now()),
      type: "ACTIVITY_TYPE_INIT_IMPORT_PRIVATE_KEY",
    };

    const stringifiedBody = JSON.stringify(bodyWithType);
    const stamp = await activeStamper.stamp(stringifiedBody);
    return {
      body: stringifiedBody,
      stamp: stamp,
      url: fullUrl,
    };
  };

  initImportWallet = async (
    input: SdkTypes.TInitImportWalletBody,
    stampWith?: StamperType,
  ): Promise<SdkTypes.TInitImportWalletResponse> => {
    const { organizationId, timestampMs, ...rest } = input;
    const session = await this.storageManager?.getActiveSession();

    return this.activity(
      "/public/v1/submit/init_import_wallet",
      {
        parameters: rest,
        organizationId:
          organizationId ??
          session?.organizationId ??
          this.config.organizationId,
        timestampMs: timestampMs ?? String(Date.now()),
        type: "ACTIVITY_TYPE_INIT_IMPORT_WALLET",
      },
      "initImportWalletResult",
      stampWith,
    );
  };

  stampInitImportWallet = async (
    input: SdkTypes.TInitImportWalletBody,
    stampWith?: StamperType,
  ): Promise<TSignedRequest | undefined> => {
    const activeStamper = this.getStamper(stampWith);
    if (!activeStamper) {
      return undefined;
    }

    const { organizationId, timestampMs, ...parameters } = input;

    const fullUrl =
      this.config.apiBaseUrl + "/public/v1/submit/init_import_wallet";
    const bodyWithType = {
      parameters,
      organizationId,
      timestampMs: timestampMs ?? String(Date.now()),
      type: "ACTIVITY_TYPE_INIT_IMPORT_WALLET",
    };

    const stringifiedBody = JSON.stringify(bodyWithType);
    const stamp = await activeStamper.stamp(stringifiedBody);
    return {
      body: stringifiedBody,
      stamp: stamp,
      url: fullUrl,
    };
  };

  initOtp = async (
    input: SdkTypes.TInitOtpBody,
    stampWith?: StamperType,
  ): Promise<SdkTypes.TInitOtpResponse> => {
    const { organizationId, timestampMs, ...rest } = input;
    const session = await this.storageManager?.getActiveSession();

    return this.activity(
      "/public/v1/submit/init_otp",
      {
        parameters: rest,
        organizationId:
          organizationId ??
          session?.organizationId ??
          this.config.organizationId,
        timestampMs: timestampMs ?? String(Date.now()),
        type: "ACTIVITY_TYPE_INIT_OTP",
      },
      "initOtpResult",
      stampWith,
    );
  };

  stampInitOtp = async (
    input: SdkTypes.TInitOtpBody,
    stampWith?: StamperType,
  ): Promise<TSignedRequest | undefined> => {
    const activeStamper = this.getStamper(stampWith);
    if (!activeStamper) {
      return undefined;
    }

    const { organizationId, timestampMs, ...parameters } = input;

    const fullUrl = this.config.apiBaseUrl + "/public/v1/submit/init_otp";
    const bodyWithType = {
      parameters,
      organizationId,
      timestampMs: timestampMs ?? String(Date.now()),
      type: "ACTIVITY_TYPE_INIT_OTP",
    };

    const stringifiedBody = JSON.stringify(bodyWithType);
    const stamp = await activeStamper.stamp(stringifiedBody);
    return {
      body: stringifiedBody,
      stamp: stamp,
      url: fullUrl,
    };
  };

  initOtpAuth = async (
    input: SdkTypes.TInitOtpAuthBody,
    stampWith?: StamperType,
  ): Promise<SdkTypes.TInitOtpAuthResponse> => {
    const { organizationId, timestampMs, ...rest } = input;
    const session = await this.storageManager?.getActiveSession();

    return this.activity(
      "/public/v1/submit/init_otp_auth",
      {
        parameters: rest,
        organizationId:
          organizationId ??
          session?.organizationId ??
          this.config.organizationId,
        timestampMs: timestampMs ?? String(Date.now()),
        type: "ACTIVITY_TYPE_INIT_OTP_AUTH_V2",
      },
      "initOtpAuthResult",
      stampWith,
    );
  };

  stampInitOtpAuth = async (
    input: SdkTypes.TInitOtpAuthBody,
    stampWith?: StamperType,
  ): Promise<TSignedRequest | undefined> => {
    const activeStamper = this.getStamper(stampWith);
    if (!activeStamper) {
      return undefined;
    }

    const { organizationId, timestampMs, ...parameters } = input;

    const fullUrl = this.config.apiBaseUrl + "/public/v1/submit/init_otp_auth";
    const bodyWithType = {
      parameters,
      organizationId,
      timestampMs: timestampMs ?? String(Date.now()),
      type: "ACTIVITY_TYPE_INIT_OTP_AUTH_V2",
    };

    const stringifiedBody = JSON.stringify(bodyWithType);
    const stamp = await activeStamper.stamp(stringifiedBody);
    return {
      body: stringifiedBody,
      stamp: stamp,
      url: fullUrl,
    };
  };

  initUserEmailRecovery = async (
    input: SdkTypes.TInitUserEmailRecoveryBody,
    stampWith?: StamperType,
  ): Promise<SdkTypes.TInitUserEmailRecoveryResponse> => {
    const { organizationId, timestampMs, ...rest } = input;
    const session = await this.storageManager?.getActiveSession();

    return this.activity(
      "/public/v1/submit/init_user_email_recovery",
      {
        parameters: rest,
        organizationId:
          organizationId ??
          session?.organizationId ??
          this.config.organizationId,
        timestampMs: timestampMs ?? String(Date.now()),
        type: "ACTIVITY_TYPE_INIT_USER_EMAIL_RECOVERY",
      },
      "initUserEmailRecoveryResult",
      stampWith,
    );
  };

  stampInitUserEmailRecovery = async (
    input: SdkTypes.TInitUserEmailRecoveryBody,
    stampWith?: StamperType,
  ): Promise<TSignedRequest | undefined> => {
    const activeStamper = this.getStamper(stampWith);
    if (!activeStamper) {
      return undefined;
    }

    const { organizationId, timestampMs, ...parameters } = input;

    const fullUrl =
      this.config.apiBaseUrl + "/public/v1/submit/init_user_email_recovery";
    const bodyWithType = {
      parameters,
      organizationId,
      timestampMs: timestampMs ?? String(Date.now()),
      type: "ACTIVITY_TYPE_INIT_USER_EMAIL_RECOVERY",
    };

    const stringifiedBody = JSON.stringify(bodyWithType);
    const stamp = await activeStamper.stamp(stringifiedBody);
    return {
      body: stringifiedBody,
      stamp: stamp,
      url: fullUrl,
    };
  };

  oauth = async (
    input: SdkTypes.TOauthBody,
    stampWith?: StamperType,
  ): Promise<SdkTypes.TOauthResponse> => {
    const { organizationId, timestampMs, ...rest } = input;
    const session = await this.storageManager?.getActiveSession();

    return this.activity(
      "/public/v1/submit/oauth",
      {
        parameters: rest,
        organizationId:
          organizationId ??
          session?.organizationId ??
          this.config.organizationId,
        timestampMs: timestampMs ?? String(Date.now()),
        type: "ACTIVITY_TYPE_OAUTH",
      },
      "oauthResult",
      stampWith,
    );
  };

  stampOauth = async (
    input: SdkTypes.TOauthBody,
    stampWith?: StamperType,
  ): Promise<TSignedRequest | undefined> => {
    const activeStamper = this.getStamper(stampWith);
    if (!activeStamper) {
      return undefined;
    }

    const { organizationId, timestampMs, ...parameters } = input;

    const fullUrl = this.config.apiBaseUrl + "/public/v1/submit/oauth";
    const bodyWithType = {
      parameters,
      organizationId,
      timestampMs: timestampMs ?? String(Date.now()),
      type: "ACTIVITY_TYPE_OAUTH",
    };

    const stringifiedBody = JSON.stringify(bodyWithType);
    const stamp = await activeStamper.stamp(stringifiedBody);
    return {
      body: stringifiedBody,
      stamp: stamp,
      url: fullUrl,
    };
  };

  oauth2Authenticate = async (
    input: SdkTypes.TOauth2AuthenticateBody,
    stampWith?: StamperType,
  ): Promise<SdkTypes.TOauth2AuthenticateResponse> => {
    const { organizationId, timestampMs, ...rest } = input;
    const session = await this.storageManager?.getActiveSession();

    return this.activity(
      "/public/v1/submit/oauth2_authenticate",
      {
        parameters: rest,
        organizationId:
          organizationId ??
          session?.organizationId ??
          this.config.organizationId,
        timestampMs: timestampMs ?? String(Date.now()),
        type: "ACTIVITY_TYPE_OAUTH2AUTHENTICATE",
      },
      "oauth2AuthenticateResult",
      stampWith,
    );
  };

  stampOauth2Authenticate = async (
    input: SdkTypes.TOauth2AuthenticateBody,
    stampWith?: StamperType,
  ): Promise<TSignedRequest | undefined> => {
    const activeStamper = this.getStamper(stampWith);
    if (!activeStamper) {
      return undefined;
    }

    const { organizationId, timestampMs, ...parameters } = input;

    const fullUrl =
      this.config.apiBaseUrl + "/public/v1/submit/oauth2_authenticate";
    const bodyWithType = {
      parameters,
      organizationId,
      timestampMs: timestampMs ?? String(Date.now()),
      type: "ACTIVITY_TYPE_OAUTH2AUTHENTICATE",
    };

    const stringifiedBody = JSON.stringify(bodyWithType);
    const stamp = await activeStamper.stamp(stringifiedBody);
    return {
      body: stringifiedBody,
      stamp: stamp,
      url: fullUrl,
    };
  };

  oauthLogin = async (
    input: SdkTypes.TOauthLoginBody,
    stampWith?: StamperType,
  ): Promise<SdkTypes.TOauthLoginResponse> => {
    const { organizationId, timestampMs, ...rest } = input;
    const session = await this.storageManager?.getActiveSession();

    return this.activity(
      "/public/v1/submit/oauth_login",
      {
        parameters: rest,
        organizationId:
          organizationId ??
          session?.organizationId ??
          this.config.organizationId,
        timestampMs: timestampMs ?? String(Date.now()),
        type: "ACTIVITY_TYPE_OAUTH_LOGIN",
      },
      "oauthLoginResult",
      stampWith,
    );
  };

  stampOauthLogin = async (
    input: SdkTypes.TOauthLoginBody,
    stampWith?: StamperType,
  ): Promise<TSignedRequest | undefined> => {
    const activeStamper = this.getStamper(stampWith);
    if (!activeStamper) {
      return undefined;
    }

    const { organizationId, timestampMs, ...parameters } = input;

    const fullUrl = this.config.apiBaseUrl + "/public/v1/submit/oauth_login";
    const bodyWithType = {
      parameters,
      organizationId,
      timestampMs: timestampMs ?? String(Date.now()),
      type: "ACTIVITY_TYPE_OAUTH_LOGIN",
    };

    const stringifiedBody = JSON.stringify(bodyWithType);
    const stamp = await activeStamper.stamp(stringifiedBody);
    return {
      body: stringifiedBody,
      stamp: stamp,
      url: fullUrl,
    };
  };

  otpAuth = async (
    input: SdkTypes.TOtpAuthBody,
    stampWith?: StamperType,
  ): Promise<SdkTypes.TOtpAuthResponse> => {
    const { organizationId, timestampMs, ...rest } = input;
    const session = await this.storageManager?.getActiveSession();

    return this.activity(
      "/public/v1/submit/otp_auth",
      {
        parameters: rest,
        organizationId:
          organizationId ??
          session?.organizationId ??
          this.config.organizationId,
        timestampMs: timestampMs ?? String(Date.now()),
        type: "ACTIVITY_TYPE_OTP_AUTH",
      },
      "otpAuthResult",
      stampWith,
    );
  };

  stampOtpAuth = async (
    input: SdkTypes.TOtpAuthBody,
    stampWith?: StamperType,
  ): Promise<TSignedRequest | undefined> => {
    const activeStamper = this.getStamper(stampWith);
    if (!activeStamper) {
      return undefined;
    }

    const { organizationId, timestampMs, ...parameters } = input;

    const fullUrl = this.config.apiBaseUrl + "/public/v1/submit/otp_auth";
    const bodyWithType = {
      parameters,
      organizationId,
      timestampMs: timestampMs ?? String(Date.now()),
      type: "ACTIVITY_TYPE_OTP_AUTH",
    };

    const stringifiedBody = JSON.stringify(bodyWithType);
    const stamp = await activeStamper.stamp(stringifiedBody);
    return {
      body: stringifiedBody,
      stamp: stamp,
      url: fullUrl,
    };
  };

  otpLogin = async (
    input: SdkTypes.TOtpLoginBody,
    stampWith?: StamperType,
  ): Promise<SdkTypes.TOtpLoginResponse> => {
    const { organizationId, timestampMs, ...rest } = input;
    const session = await this.storageManager?.getActiveSession();

    return this.activity(
      "/public/v1/submit/otp_login",
      {
        parameters: rest,
        organizationId:
          organizationId ??
          session?.organizationId ??
          this.config.organizationId,
        timestampMs: timestampMs ?? String(Date.now()),
        type: "ACTIVITY_TYPE_OTP_LOGIN",
      },
      "otpLoginResult",
      stampWith,
    );
  };

  stampOtpLogin = async (
    input: SdkTypes.TOtpLoginBody,
    stampWith?: StamperType,
  ): Promise<TSignedRequest | undefined> => {
    const activeStamper = this.getStamper(stampWith);
    if (!activeStamper) {
      return undefined;
    }

    const { organizationId, timestampMs, ...parameters } = input;

    const fullUrl = this.config.apiBaseUrl + "/public/v1/submit/otp_login";
    const bodyWithType = {
      parameters,
      organizationId,
      timestampMs: timestampMs ?? String(Date.now()),
      type: "ACTIVITY_TYPE_OTP_LOGIN",
    };

    const stringifiedBody = JSON.stringify(bodyWithType);
    const stamp = await activeStamper.stamp(stringifiedBody);
    return {
      body: stringifiedBody,
      stamp: stamp,
      url: fullUrl,
    };
  };

  recoverUser = async (
    input: SdkTypes.TRecoverUserBody,
    stampWith?: StamperType,
  ): Promise<SdkTypes.TRecoverUserResponse> => {
    const { organizationId, timestampMs, ...rest } = input;
    const session = await this.storageManager?.getActiveSession();

    return this.activity(
      "/public/v1/submit/recover_user",
      {
        parameters: rest,
        organizationId:
          organizationId ??
          session?.organizationId ??
          this.config.organizationId,
        timestampMs: timestampMs ?? String(Date.now()),
        type: "ACTIVITY_TYPE_RECOVER_USER",
      },
      "recoverUserResult",
      stampWith,
    );
  };

  stampRecoverUser = async (
    input: SdkTypes.TRecoverUserBody,
    stampWith?: StamperType,
  ): Promise<TSignedRequest | undefined> => {
    const activeStamper = this.getStamper(stampWith);
    if (!activeStamper) {
      return undefined;
    }

    const { organizationId, timestampMs, ...parameters } = input;

    const fullUrl = this.config.apiBaseUrl + "/public/v1/submit/recover_user";
    const bodyWithType = {
      parameters,
      organizationId,
      timestampMs: timestampMs ?? String(Date.now()),
      type: "ACTIVITY_TYPE_RECOVER_USER",
    };

    const stringifiedBody = JSON.stringify(bodyWithType);
    const stamp = await activeStamper.stamp(stringifiedBody);
    return {
      body: stringifiedBody,
      stamp: stamp,
      url: fullUrl,
    };
  };

  rejectActivity = async (
    input: SdkTypes.TRejectActivityBody,
    stampWith?: StamperType,
  ): Promise<SdkTypes.TRejectActivityResponse> => {
    const { organizationId, timestampMs, ...rest } = input;
    const session = await this.storageManager?.getActiveSession();
    return this.activityDecision(
      "/public/v1/submit/reject_activity",
      {
        parameters: rest,
        organizationId:
          organizationId ??
          session?.organizationId ??
          this.config.organizationId,
        timestampMs: timestampMs ?? String(Date.now()),
        type: "ACTIVITY_TYPE_REJECT_ACTIVITY",
      },
      stampWith,
    );
  };

  stampRejectActivity = async (
    input: SdkTypes.TRejectActivityBody,
    stampWith?: StamperType,
  ): Promise<TSignedRequest | undefined> => {
    const activeStamper = this.getStamper(stampWith);
    if (!activeStamper) {
      return undefined;
    }

    const { organizationId, timestampMs, ...parameters } = input;

    const fullUrl =
      this.config.apiBaseUrl + "/public/v1/submit/reject_activity";
    const bodyWithType = {
      parameters,
      organizationId,
      timestampMs: timestampMs ?? String(Date.now()),
      type: "ACTIVITY_TYPE_REJECT_ACTIVITY",
    };

    const stringifiedBody = JSON.stringify(bodyWithType);
    const stamp = await activeStamper.stamp(stringifiedBody);
    return {
      body: stringifiedBody,
      stamp: stamp,
      url: fullUrl,
    };
  };

  removeOrganizationFeature = async (
    input: SdkTypes.TRemoveOrganizationFeatureBody,
    stampWith?: StamperType,
  ): Promise<SdkTypes.TRemoveOrganizationFeatureResponse> => {
    const { organizationId, timestampMs, ...rest } = input;
    const session = await this.storageManager?.getActiveSession();

    return this.activity(
      "/public/v1/submit/remove_organization_feature",
      {
        parameters: rest,
        organizationId:
          organizationId ??
          session?.organizationId ??
          this.config.organizationId,
        timestampMs: timestampMs ?? String(Date.now()),
        type: "ACTIVITY_TYPE_REMOVE_ORGANIZATION_FEATURE",
      },
      "removeOrganizationFeatureResult",
      stampWith,
    );
  };

  stampRemoveOrganizationFeature = async (
    input: SdkTypes.TRemoveOrganizationFeatureBody,
    stampWith?: StamperType,
  ): Promise<TSignedRequest | undefined> => {
    const activeStamper = this.getStamper(stampWith);
    if (!activeStamper) {
      return undefined;
    }

    const { organizationId, timestampMs, ...parameters } = input;

    const fullUrl =
      this.config.apiBaseUrl + "/public/v1/submit/remove_organization_feature";
    const bodyWithType = {
      parameters,
      organizationId,
      timestampMs: timestampMs ?? String(Date.now()),
      type: "ACTIVITY_TYPE_REMOVE_ORGANIZATION_FEATURE",
    };

    const stringifiedBody = JSON.stringify(bodyWithType);
    const stamp = await activeStamper.stamp(stringifiedBody);
    return {
      body: stringifiedBody,
      stamp: stamp,
      url: fullUrl,
    };
  };

  setOrganizationFeature = async (
    input: SdkTypes.TSetOrganizationFeatureBody,
    stampWith?: StamperType,
  ): Promise<SdkTypes.TSetOrganizationFeatureResponse> => {
    const { organizationId, timestampMs, ...rest } = input;
    const session = await this.storageManager?.getActiveSession();

    return this.activity(
      "/public/v1/submit/set_organization_feature",
      {
        parameters: rest,
        organizationId:
          organizationId ??
          session?.organizationId ??
          this.config.organizationId,
        timestampMs: timestampMs ?? String(Date.now()),
        type: "ACTIVITY_TYPE_SET_ORGANIZATION_FEATURE",
      },
      "setOrganizationFeatureResult",
      stampWith,
    );
  };

  stampSetOrganizationFeature = async (
    input: SdkTypes.TSetOrganizationFeatureBody,
    stampWith?: StamperType,
  ): Promise<TSignedRequest | undefined> => {
    const activeStamper = this.getStamper(stampWith);
    if (!activeStamper) {
      return undefined;
    }

    const { organizationId, timestampMs, ...parameters } = input;

    const fullUrl =
      this.config.apiBaseUrl + "/public/v1/submit/set_organization_feature";
    const bodyWithType = {
      parameters,
      organizationId,
      timestampMs: timestampMs ?? String(Date.now()),
      type: "ACTIVITY_TYPE_SET_ORGANIZATION_FEATURE",
    };

    const stringifiedBody = JSON.stringify(bodyWithType);
    const stamp = await activeStamper.stamp(stringifiedBody);
    return {
      body: stringifiedBody,
      stamp: stamp,
      url: fullUrl,
    };
  };

  signRawPayload = async (
    input: SdkTypes.TSignRawPayloadBody,
    stampWith?: StamperType,
  ): Promise<SdkTypes.TSignRawPayloadResponse> => {
    const { organizationId, timestampMs, ...rest } = input;
    const session = await this.storageManager?.getActiveSession();

    return this.activity(
      "/public/v1/submit/sign_raw_payload",
      {
        parameters: rest,
        organizationId:
          organizationId ??
          session?.organizationId ??
          this.config.organizationId,
        timestampMs: timestampMs ?? String(Date.now()),
        type: "ACTIVITY_TYPE_SIGN_RAW_PAYLOAD_V2",
      },
      "signRawPayloadResult",
      stampWith,
    );
  };

  stampSignRawPayload = async (
    input: SdkTypes.TSignRawPayloadBody,
    stampWith?: StamperType,
  ): Promise<TSignedRequest | undefined> => {
    const activeStamper = this.getStamper(stampWith);
    if (!activeStamper) {
      return undefined;
    }

    const { organizationId, timestampMs, ...parameters } = input;

    const fullUrl =
      this.config.apiBaseUrl + "/public/v1/submit/sign_raw_payload";
    const bodyWithType = {
      parameters,
      organizationId,
      timestampMs: timestampMs ?? String(Date.now()),
      type: "ACTIVITY_TYPE_SIGN_RAW_PAYLOAD_V2",
    };

    const stringifiedBody = JSON.stringify(bodyWithType);
    const stamp = await activeStamper.stamp(stringifiedBody);
    return {
      body: stringifiedBody,
      stamp: stamp,
      url: fullUrl,
    };
  };

  signRawPayloads = async (
    input: SdkTypes.TSignRawPayloadsBody,
    stampWith?: StamperType,
  ): Promise<SdkTypes.TSignRawPayloadsResponse> => {
    const { organizationId, timestampMs, ...rest } = input;
    const session = await this.storageManager?.getActiveSession();

    return this.activity(
      "/public/v1/submit/sign_raw_payloads",
      {
        parameters: rest,
        organizationId:
          organizationId ??
          session?.organizationId ??
          this.config.organizationId,
        timestampMs: timestampMs ?? String(Date.now()),
        type: "ACTIVITY_TYPE_SIGN_RAW_PAYLOADS",
      },
      "signRawPayloadsResult",
      stampWith,
    );
  };

  stampSignRawPayloads = async (
    input: SdkTypes.TSignRawPayloadsBody,
    stampWith?: StamperType,
  ): Promise<TSignedRequest | undefined> => {
    const activeStamper = this.getStamper(stampWith);
    if (!activeStamper) {
      return undefined;
    }

    const { organizationId, timestampMs, ...parameters } = input;

    const fullUrl =
      this.config.apiBaseUrl + "/public/v1/submit/sign_raw_payloads";
    const bodyWithType = {
      parameters,
      organizationId,
      timestampMs: timestampMs ?? String(Date.now()),
      type: "ACTIVITY_TYPE_SIGN_RAW_PAYLOADS",
    };

    const stringifiedBody = JSON.stringify(bodyWithType);
    const stamp = await activeStamper.stamp(stringifiedBody);
    return {
      body: stringifiedBody,
      stamp: stamp,
      url: fullUrl,
    };
  };

  signTransaction = async (
    input: SdkTypes.TSignTransactionBody,
    stampWith?: StamperType,
  ): Promise<SdkTypes.TSignTransactionResponse> => {
    const { organizationId, timestampMs, ...rest } = input;
    const session = await this.storageManager?.getActiveSession();

    return this.activity(
      "/public/v1/submit/sign_transaction",
      {
        parameters: rest,
        organizationId:
          organizationId ??
          session?.organizationId ??
          this.config.organizationId,
        timestampMs: timestampMs ?? String(Date.now()),
        type: "ACTIVITY_TYPE_SIGN_TRANSACTION_V2",
      },
      "signTransactionResult",
      stampWith,
    );
  };

  stampSignTransaction = async (
    input: SdkTypes.TSignTransactionBody,
    stampWith?: StamperType,
  ): Promise<TSignedRequest | undefined> => {
    const activeStamper = this.getStamper(stampWith);
    if (!activeStamper) {
      return undefined;
    }

    const { organizationId, timestampMs, ...parameters } = input;

    const fullUrl =
      this.config.apiBaseUrl + "/public/v1/submit/sign_transaction";
    const bodyWithType = {
      parameters,
      organizationId,
      timestampMs: timestampMs ?? String(Date.now()),
      type: "ACTIVITY_TYPE_SIGN_TRANSACTION_V2",
    };

    const stringifiedBody = JSON.stringify(bodyWithType);
    const stamp = await activeStamper.stamp(stringifiedBody);
    return {
      body: stringifiedBody,
      stamp: stamp,
      url: fullUrl,
    };
  };

  stampLogin = async (
    input: SdkTypes.TStampLoginBody,
    stampWith?: StamperType,
  ): Promise<SdkTypes.TStampLoginResponse> => {
    const { organizationId, timestampMs, ...rest } = input;
    const session = await this.storageManager?.getActiveSession();

    return this.activity(
      "/public/v1/submit/stamp_login",
      {
        parameters: rest,
        organizationId:
          organizationId ??
          session?.organizationId ??
          this.config.organizationId,
        timestampMs: timestampMs ?? String(Date.now()),
        type: "ACTIVITY_TYPE_STAMP_LOGIN",
      },
      "stampLoginResult",
      stampWith,
    );
  };

  stampStampLogin = async (
    input: SdkTypes.TStampLoginBody,
    stampWith?: StamperType,
  ): Promise<TSignedRequest | undefined> => {
    const activeStamper = this.getStamper(stampWith);
    if (!activeStamper) {
      return undefined;
    }

    const { organizationId, timestampMs, ...parameters } = input;

    const fullUrl = this.config.apiBaseUrl + "/public/v1/submit/stamp_login";
    const bodyWithType = {
      parameters,
      organizationId,
      timestampMs: timestampMs ?? String(Date.now()),
      type: "ACTIVITY_TYPE_STAMP_LOGIN",
    };

    const stringifiedBody = JSON.stringify(bodyWithType);
    const stamp = await activeStamper.stamp(stringifiedBody);
    return {
      body: stringifiedBody,
      stamp: stamp,
      url: fullUrl,
    };
  };

  updateOauth2Credential = async (
    input: SdkTypes.TUpdateOauth2CredentialBody,
    stampWith?: StamperType,
  ): Promise<SdkTypes.TUpdateOauth2CredentialResponse> => {
    const { organizationId, timestampMs, ...rest } = input;
    const session = await this.storageManager?.getActiveSession();

    return this.activity(
      "/public/v1/submit/update_oauth2_credential",
      {
        parameters: rest,
        organizationId:
          organizationId ??
          session?.organizationId ??
          this.config.organizationId,
        timestampMs: timestampMs ?? String(Date.now()),
        type: "ACTIVITY_TYPE_UPDATE_OAUTH2CREDENTIAL",
      },
      "updateOauth2CredentialResult",
      stampWith,
    );
  };

  stampUpdateOauth2Credential = async (
    input: SdkTypes.TUpdateOauth2CredentialBody,
    stampWith?: StamperType,
  ): Promise<TSignedRequest | undefined> => {
    const activeStamper = this.getStamper(stampWith);
    if (!activeStamper) {
      return undefined;
    }

    const { organizationId, timestampMs, ...parameters } = input;

    const fullUrl =
      this.config.apiBaseUrl + "/public/v1/submit/update_oauth2_credential";
    const bodyWithType = {
      parameters,
      organizationId,
      timestampMs: timestampMs ?? String(Date.now()),
      type: "ACTIVITY_TYPE_UPDATE_OAUTH2CREDENTIAL",
    };

    const stringifiedBody = JSON.stringify(bodyWithType);
    const stamp = await activeStamper.stamp(stringifiedBody);
    return {
      body: stringifiedBody,
      stamp: stamp,
      url: fullUrl,
    };
  };

  updatePolicy = async (
    input: SdkTypes.TUpdatePolicyBody,
    stampWith?: StamperType,
  ): Promise<SdkTypes.TUpdatePolicyResponse> => {
    const { organizationId, timestampMs, ...rest } = input;
    const session = await this.storageManager?.getActiveSession();

    return this.activity(
      "/public/v1/submit/update_policy",
      {
        parameters: rest,
        organizationId:
          organizationId ??
          session?.organizationId ??
          this.config.organizationId,
        timestampMs: timestampMs ?? String(Date.now()),
        type: "ACTIVITY_TYPE_UPDATE_POLICY_V2",
      },
      "updatePolicyResult",
      stampWith,
    );
  };

  stampUpdatePolicy = async (
    input: SdkTypes.TUpdatePolicyBody,
    stampWith?: StamperType,
  ): Promise<TSignedRequest | undefined> => {
    const activeStamper = this.getStamper(stampWith);
    if (!activeStamper) {
      return undefined;
    }

    const { organizationId, timestampMs, ...parameters } = input;

    const fullUrl = this.config.apiBaseUrl + "/public/v1/submit/update_policy";
    const bodyWithType = {
      parameters,
      organizationId,
      timestampMs: timestampMs ?? String(Date.now()),
      type: "ACTIVITY_TYPE_UPDATE_POLICY_V2",
    };

    const stringifiedBody = JSON.stringify(bodyWithType);
    const stamp = await activeStamper.stamp(stringifiedBody);
    return {
      body: stringifiedBody,
      stamp: stamp,
      url: fullUrl,
    };
  };

  updatePrivateKeyTag = async (
    input: SdkTypes.TUpdatePrivateKeyTagBody,
    stampWith?: StamperType,
  ): Promise<SdkTypes.TUpdatePrivateKeyTagResponse> => {
    const { organizationId, timestampMs, ...rest } = input;
    const session = await this.storageManager?.getActiveSession();

    return this.activity(
      "/public/v1/submit/update_private_key_tag",
      {
        parameters: rest,
        organizationId:
          organizationId ??
          session?.organizationId ??
          this.config.organizationId,
        timestampMs: timestampMs ?? String(Date.now()),
        type: "ACTIVITY_TYPE_UPDATE_PRIVATE_KEY_TAG",
      },
      "updatePrivateKeyTagResult",
      stampWith,
    );
  };

  stampUpdatePrivateKeyTag = async (
    input: SdkTypes.TUpdatePrivateKeyTagBody,
    stampWith?: StamperType,
  ): Promise<TSignedRequest | undefined> => {
    const activeStamper = this.getStamper(stampWith);
    if (!activeStamper) {
      return undefined;
    }

    const { organizationId, timestampMs, ...parameters } = input;

    const fullUrl =
      this.config.apiBaseUrl + "/public/v1/submit/update_private_key_tag";
    const bodyWithType = {
      parameters,
      organizationId,
      timestampMs: timestampMs ?? String(Date.now()),
      type: "ACTIVITY_TYPE_UPDATE_PRIVATE_KEY_TAG",
    };

    const stringifiedBody = JSON.stringify(bodyWithType);
    const stamp = await activeStamper.stamp(stringifiedBody);
    return {
      body: stringifiedBody,
      stamp: stamp,
      url: fullUrl,
    };
  };

  updateRootQuorum = async (
    input: SdkTypes.TUpdateRootQuorumBody,
    stampWith?: StamperType,
  ): Promise<SdkTypes.TUpdateRootQuorumResponse> => {
    const { organizationId, timestampMs, ...rest } = input;
    const session = await this.storageManager?.getActiveSession();

    return this.activity(
      "/public/v1/submit/update_root_quorum",
      {
        parameters: rest,
        organizationId:
          organizationId ??
          session?.organizationId ??
          this.config.organizationId,
        timestampMs: timestampMs ?? String(Date.now()),
        type: "ACTIVITY_TYPE_UPDATE_ROOT_QUORUM",
      },
      "updateRootQuorumResult",
      stampWith,
    );
  };

  stampUpdateRootQuorum = async (
    input: SdkTypes.TUpdateRootQuorumBody,
    stampWith?: StamperType,
  ): Promise<TSignedRequest | undefined> => {
    const activeStamper = this.getStamper(stampWith);
    if (!activeStamper) {
      return undefined;
    }

    const { organizationId, timestampMs, ...parameters } = input;

    const fullUrl =
      this.config.apiBaseUrl + "/public/v1/submit/update_root_quorum";
    const bodyWithType = {
      parameters,
      organizationId,
      timestampMs: timestampMs ?? String(Date.now()),
      type: "ACTIVITY_TYPE_UPDATE_ROOT_QUORUM",
    };

    const stringifiedBody = JSON.stringify(bodyWithType);
    const stamp = await activeStamper.stamp(stringifiedBody);
    return {
      body: stringifiedBody,
      stamp: stamp,
      url: fullUrl,
    };
  };

  updateUser = async (
    input: SdkTypes.TUpdateUserBody,
    stampWith?: StamperType,
  ): Promise<SdkTypes.TUpdateUserResponse> => {
    const { organizationId, timestampMs, ...rest } = input;
    const session = await this.storageManager?.getActiveSession();

    return this.activity(
      "/public/v1/submit/update_user",
      {
        parameters: rest,
        organizationId:
          organizationId ??
          session?.organizationId ??
          this.config.organizationId,
        timestampMs: timestampMs ?? String(Date.now()),
        type: "ACTIVITY_TYPE_UPDATE_USER",
      },
      "updateUserResult",
      stampWith,
    );
  };

  stampUpdateUser = async (
    input: SdkTypes.TUpdateUserBody,
    stampWith?: StamperType,
  ): Promise<TSignedRequest | undefined> => {
    const activeStamper = this.getStamper(stampWith);
    if (!activeStamper) {
      return undefined;
    }

    const { organizationId, timestampMs, ...parameters } = input;

    const fullUrl = this.config.apiBaseUrl + "/public/v1/submit/update_user";
    const bodyWithType = {
      parameters,
      organizationId,
      timestampMs: timestampMs ?? String(Date.now()),
      type: "ACTIVITY_TYPE_UPDATE_USER",
    };

    const stringifiedBody = JSON.stringify(bodyWithType);
    const stamp = await activeStamper.stamp(stringifiedBody);
    return {
      body: stringifiedBody,
      stamp: stamp,
      url: fullUrl,
    };
  };

  updateUserEmail = async (
    input: SdkTypes.TUpdateUserEmailBody,
    stampWith?: StamperType,
  ): Promise<SdkTypes.TUpdateUserEmailResponse> => {
    const { organizationId, timestampMs, ...rest } = input;
    const session = await this.storageManager?.getActiveSession();

    return this.activity(
      "/public/v1/submit/update_user_email",
      {
        parameters: rest,
        organizationId:
          organizationId ??
          session?.organizationId ??
          this.config.organizationId,
        timestampMs: timestampMs ?? String(Date.now()),
        type: "ACTIVITY_TYPE_UPDATE_USER_EMAIL",
      },
      "updateUserEmailResult",
      stampWith,
    );
  };

  stampUpdateUserEmail = async (
    input: SdkTypes.TUpdateUserEmailBody,
    stampWith?: StamperType,
  ): Promise<TSignedRequest | undefined> => {
    const activeStamper = this.getStamper(stampWith);
    if (!activeStamper) {
      return undefined;
    }

    const { organizationId, timestampMs, ...parameters } = input;

    const fullUrl =
      this.config.apiBaseUrl + "/public/v1/submit/update_user_email";
    const bodyWithType = {
      parameters,
      organizationId,
      timestampMs: timestampMs ?? String(Date.now()),
      type: "ACTIVITY_TYPE_UPDATE_USER_EMAIL",
    };

    const stringifiedBody = JSON.stringify(bodyWithType);
    const stamp = await activeStamper.stamp(stringifiedBody);
    return {
      body: stringifiedBody,
      stamp: stamp,
      url: fullUrl,
    };
  };

  updateUserName = async (
    input: SdkTypes.TUpdateUserNameBody,
    stampWith?: StamperType,
  ): Promise<SdkTypes.TUpdateUserNameResponse> => {
    const { organizationId, timestampMs, ...rest } = input;
    const session = await this.storageManager?.getActiveSession();

    return this.activity(
      "/public/v1/submit/update_user_name",
      {
        parameters: rest,
        organizationId:
          organizationId ??
          session?.organizationId ??
          this.config.organizationId,
        timestampMs: timestampMs ?? String(Date.now()),
        type: "ACTIVITY_TYPE_UPDATE_USER_NAME",
      },
      "updateUserNameResult",
      stampWith,
    );
  };

  stampUpdateUserName = async (
    input: SdkTypes.TUpdateUserNameBody,
    stampWith?: StamperType,
  ): Promise<TSignedRequest | undefined> => {
    const activeStamper = this.getStamper(stampWith);
    if (!activeStamper) {
      return undefined;
    }

    const { organizationId, timestampMs, ...parameters } = input;

    const fullUrl =
      this.config.apiBaseUrl + "/public/v1/submit/update_user_name";
    const bodyWithType = {
      parameters,
      organizationId,
      timestampMs: timestampMs ?? String(Date.now()),
      type: "ACTIVITY_TYPE_UPDATE_USER_NAME",
    };

    const stringifiedBody = JSON.stringify(bodyWithType);
    const stamp = await activeStamper.stamp(stringifiedBody);
    return {
      body: stringifiedBody,
      stamp: stamp,
      url: fullUrl,
    };
  };

  updateUserPhoneNumber = async (
    input: SdkTypes.TUpdateUserPhoneNumberBody,
    stampWith?: StamperType,
  ): Promise<SdkTypes.TUpdateUserPhoneNumberResponse> => {
    const { organizationId, timestampMs, ...rest } = input;
    const session = await this.storageManager?.getActiveSession();

    return this.activity(
      "/public/v1/submit/update_user_phone_number",
      {
        parameters: rest,
        organizationId:
          organizationId ??
          session?.organizationId ??
          this.config.organizationId,
        timestampMs: timestampMs ?? String(Date.now()),
        type: "ACTIVITY_TYPE_UPDATE_USER_PHONE_NUMBER",
      },
      "updateUserPhoneNumberResult",
      stampWith,
    );
  };

  stampUpdateUserPhoneNumber = async (
    input: SdkTypes.TUpdateUserPhoneNumberBody,
    stampWith?: StamperType,
  ): Promise<TSignedRequest | undefined> => {
    const activeStamper = this.getStamper(stampWith);
    if (!activeStamper) {
      return undefined;
    }

    const { organizationId, timestampMs, ...parameters } = input;

    const fullUrl =
      this.config.apiBaseUrl + "/public/v1/submit/update_user_phone_number";
    const bodyWithType = {
      parameters,
      organizationId,
      timestampMs: timestampMs ?? String(Date.now()),
      type: "ACTIVITY_TYPE_UPDATE_USER_PHONE_NUMBER",
    };

    const stringifiedBody = JSON.stringify(bodyWithType);
    const stamp = await activeStamper.stamp(stringifiedBody);
    return {
      body: stringifiedBody,
      stamp: stamp,
      url: fullUrl,
    };
  };

  updateUserTag = async (
    input: SdkTypes.TUpdateUserTagBody,
    stampWith?: StamperType,
  ): Promise<SdkTypes.TUpdateUserTagResponse> => {
    const { organizationId, timestampMs, ...rest } = input;
    const session = await this.storageManager?.getActiveSession();

    return this.activity(
      "/public/v1/submit/update_user_tag",
      {
        parameters: rest,
        organizationId:
          organizationId ??
          session?.organizationId ??
          this.config.organizationId,
        timestampMs: timestampMs ?? String(Date.now()),
        type: "ACTIVITY_TYPE_UPDATE_USER_TAG",
      },
      "updateUserTagResult",
      stampWith,
    );
  };

  stampUpdateUserTag = async (
    input: SdkTypes.TUpdateUserTagBody,
    stampWith?: StamperType,
  ): Promise<TSignedRequest | undefined> => {
    const activeStamper = this.getStamper(stampWith);
    if (!activeStamper) {
      return undefined;
    }

    const { organizationId, timestampMs, ...parameters } = input;

    const fullUrl =
      this.config.apiBaseUrl + "/public/v1/submit/update_user_tag";
    const bodyWithType = {
      parameters,
      organizationId,
      timestampMs: timestampMs ?? String(Date.now()),
      type: "ACTIVITY_TYPE_UPDATE_USER_TAG",
    };

    const stringifiedBody = JSON.stringify(bodyWithType);
    const stamp = await activeStamper.stamp(stringifiedBody);
    return {
      body: stringifiedBody,
      stamp: stamp,
      url: fullUrl,
    };
  };

  updateWallet = async (
    input: SdkTypes.TUpdateWalletBody,
    stampWith?: StamperType,
  ): Promise<SdkTypes.TUpdateWalletResponse> => {
    const { organizationId, timestampMs, ...rest } = input;
    const session = await this.storageManager?.getActiveSession();

    return this.activity(
      "/public/v1/submit/update_wallet",
      {
        parameters: rest,
        organizationId:
          organizationId ??
          session?.organizationId ??
          this.config.organizationId,
        timestampMs: timestampMs ?? String(Date.now()),
        type: "ACTIVITY_TYPE_UPDATE_WALLET",
      },
      "updateWalletResult",
      stampWith,
    );
  };

  stampUpdateWallet = async (
    input: SdkTypes.TUpdateWalletBody,
    stampWith?: StamperType,
  ): Promise<TSignedRequest | undefined> => {
    const activeStamper = this.getStamper(stampWith);
    if (!activeStamper) {
      return undefined;
    }

    const { organizationId, timestampMs, ...parameters } = input;

    const fullUrl = this.config.apiBaseUrl + "/public/v1/submit/update_wallet";
    const bodyWithType = {
      parameters,
      organizationId,
      timestampMs: timestampMs ?? String(Date.now()),
      type: "ACTIVITY_TYPE_UPDATE_WALLET",
    };

    const stringifiedBody = JSON.stringify(bodyWithType);
    const stamp = await activeStamper.stamp(stringifiedBody);
    return {
      body: stringifiedBody,
      stamp: stamp,
      url: fullUrl,
    };
  };

  verifyOtp = async (
    input: SdkTypes.TVerifyOtpBody,
    stampWith?: StamperType,
  ): Promise<SdkTypes.TVerifyOtpResponse> => {
    const { organizationId, timestampMs, ...rest } = input;
    const session = await this.storageManager?.getActiveSession();

    return this.activity(
      "/public/v1/submit/verify_otp",
      {
        parameters: rest,
        organizationId:
          organizationId ??
          session?.organizationId ??
          this.config.organizationId,
        timestampMs: timestampMs ?? String(Date.now()),
        type: "ACTIVITY_TYPE_VERIFY_OTP",
      },
      "verifyOtpResult",
      stampWith,
    );
  };

  stampVerifyOtp = async (
    input: SdkTypes.TVerifyOtpBody,
    stampWith?: StamperType,
  ): Promise<TSignedRequest | undefined> => {
    const activeStamper = this.getStamper(stampWith);
    if (!activeStamper) {
      return undefined;
    }

    const { organizationId, timestampMs, ...parameters } = input;

    const fullUrl = this.config.apiBaseUrl + "/public/v1/submit/verify_otp";
    const bodyWithType = {
      parameters,
      organizationId,
      timestampMs: timestampMs ?? String(Date.now()),
      type: "ACTIVITY_TYPE_VERIFY_OTP",
    };

    const stringifiedBody = JSON.stringify(bodyWithType);
    const stamp = await activeStamper.stamp(stringifiedBody);
    return {
      body: stringifiedBody,
      stamp: stamp,
      url: fullUrl,
    };
  };

  testRateLimits = async (
    input: SdkTypes.TTestRateLimitsBody,
    stampWith?: StamperType,
  ): Promise<SdkTypes.TTestRateLimitsResponse> => {
    const session = await this.storageManager?.getActiveSession();
    return this.request(
      "/tkhq/api/v1/test_rate_limits",
      {
        ...input,
        organizationId:
          input.organizationId ??
          session?.organizationId ??
          this.config.organizationId,
      },
      stampWith,
    );
  };

  stampTestRateLimits = async (
    input: SdkTypes.TTestRateLimitsBody,
    stampWith?: StamperType,
  ): Promise<TSignedRequest | undefined> => {
    const activeStamper = this.getStamper(stampWith);
    if (!activeStamper) {
      return undefined;
    }

    const { organizationId, ...parameters } = input;

    const fullUrl = this.config.apiBaseUrl + "/tkhq/api/v1/test_rate_limits";
    const bodyWithType = {
      parameters,
      organizationId,
      type: "ACTIVITY_TYPE_TEST_RATE_LIMITS",
    };

    const stringifiedBody = JSON.stringify(bodyWithType);
    const stamp = await activeStamper.stamp(stringifiedBody);
    return {
      body: stringifiedBody,
      stamp: stamp,
      url: fullUrl,
    };
  };

  proxyGetAccount = async (
    input: SdkTypes.ProxyTGetAccountBody,
  ): Promise<SdkTypes.ProxyTGetAccountResponse> => {
    return this.authProxyRequest("/v1/account", input);
  };

  proxyOAuth2Authenticate = async (
    input: SdkTypes.ProxyTOAuth2AuthenticateBody,
  ): Promise<SdkTypes.ProxyTOAuth2AuthenticateResponse> => {
    return this.authProxyRequest("/v1/oauth2_authenticate", input);
  };

  proxyOAuthLogin = async (
    input: SdkTypes.ProxyTOAuthLoginBody,
  ): Promise<SdkTypes.ProxyTOAuthLoginResponse> => {
    return this.authProxyRequest("/v1/oauth_login", input);
  };

  proxyInitOtp = async (
    input: SdkTypes.ProxyTInitOtpBody,
  ): Promise<SdkTypes.ProxyTInitOtpResponse> => {
    return this.authProxyRequest("/v1/otp_init", input);
  };

  proxyOtpLogin = async (
    input: SdkTypes.ProxyTOtpLoginBody,
  ): Promise<SdkTypes.ProxyTOtpLoginResponse> => {
    return this.authProxyRequest("/v1/otp_login", input);
  };

  proxyVerifyOtp = async (
    input: SdkTypes.ProxyTVerifyOtpBody,
  ): Promise<SdkTypes.ProxyTVerifyOtpResponse> => {
    return this.authProxyRequest("/v1/otp_verify", input);
  };

  proxySignup = async (
    input: SdkTypes.ProxyTSignupBody,
  ): Promise<SdkTypes.ProxyTSignupResponse> => {
    return this.authProxyRequest("/v1/signup", input);
  };

  proxyGetWalletKitConfig = async (
    input: SdkTypes.ProxyTGetWalletKitConfigBody,
  ): Promise<SdkTypes.ProxyTGetWalletKitConfigResponse> => {
    return this.authProxyRequest("/v1/wallet_kit_config", input);
  };
}
