---
title: "signMessage()"
---

import { H3Bordered } from "/snippets/h3-bordered.mdx";
import { NestedParam } from "/snippets/nested-param.mdx";

<H3Bordered text="Overview" />

Signs a message using the specified wallet account.

Behavior differs depending on the wallet type:

<ul>
  <li>**Connected wallets**</li>
  <li>Delegates signing to the wallet provider’s native signing method.</li>
  <li>*Ethereum*: signatures always follow [EIP-191](https://eips.ethereum.org/EIPS/eip-191).</li>
  <li>The wallet automatically prefixes messages with</li>
</ul>

``"\x19Ethereum Signed Message:\n" + message length`` before signing.

<ul>
  <li>As a result, these signatures cannot be used as raw transaction signatures or broadcast on-chain.</li>
  <li>If ``addEthereumPrefix`` is set to ``false``, an error is thrown because connected Ethereum wallets always prefix.</li>
  <li>*Other chains*: follows the native connected wallet behavior.</li>
</ul>

<ul>
  <li>**Embedded wallets**</li>
  <li>Uses the Turnkey API to sign the message directly.</li>
  <li>Supports optional ``addEthereumPrefix``:</li>
  <li>If ``true`` (default for Ethereum), the message is prefixed before signing.</li>
  <li>If ``false``, the raw message is signed without any prefix.</li>
</ul>

Additional details:

<ul>
  <li>Automatically handles encoding and hashing based on the wallet account’s address format,</li>
</ul>

unless explicitly overridden.

<ul>
  <li>Optionally allows stamping with a specific stamper</li>
</ul>

(``StamperType.Passkey``, ``StamperType.ApiKey``, or ``StamperType.Wallet``).

<p><strong>Package:</strong> <code>core</code></p>

<p><strong>Defined in:</strong> <a href="https://github.com/tkhq/sdk/blob/main/packages/core/src/__clients__/core.ts#L2094">core/src/__clients__/core.ts:2094</a></p>

<H3Bordered text="Parameters" />

<ParamField body="params" type='SignMessageParams' required={true} >
  <Expandable title="params details">
    <NestedParam parentKey="params" childKey="addEthereumPrefix" type='boolean' required={false}>
whether to prefix the message with Ethereum’s
  `"\x19Ethereum Signed Message:\n"` string (default: `true` for Ethereum).
</NestedParam>
    <NestedParam parentKey="params" childKey="encoding" type='v1PayloadEncoding' required={false}>
override for payload encoding (defaults to the encoding appropriate for the address format).
</NestedParam>
    <NestedParam parentKey="params" childKey="hashFunction" type='v1HashFunction' required={false}>
override for hash function (defaults to the function appropriate for the address format).
</NestedParam>
    <NestedParam parentKey="params" childKey="message" type='string' required={true}>
plaintext (UTF-8) message to sign.
</NestedParam>
    <NestedParam parentKey="params" childKey="stampWith" type='StamperType' required={false}>
optional stamper for the signing request.
</NestedParam>
    <NestedParam parentKey="params" childKey="walletAccount" type='WalletAccount' required={true}>
wallet account to use for signing.
</NestedParam>
  </Expandable>
</ParamField>

<H3Bordered text="Response" />
A successful response returns the following fields:

<ResponseField name="returns" type="v1SignRawPayloadResult" required={true} >
  A promise that resolves to a `v1SignRawPayloadResult` containing the signature and metadata.
</ResponseField>
