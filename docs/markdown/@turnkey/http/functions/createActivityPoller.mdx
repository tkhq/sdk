[**SDK Documentation**](../../../README.mdx)

***

[SDK Documentation](../../../packages.mdx) / [@turnkey/http](../README.mdx) / createActivityPoller

# Function: createActivityPoller()

> **createActivityPoller**\<`O`, `I`\>(`params`): (`input`) => `Promise`\<`O`\[`"activity"`\]\>

Defined in: [packages/http/src/async.ts:101](https://github.com/tkhq/sdk/blob/e1b1a69bdd608320aaf03cc2dbbf68dc0c52b28d/packages/http/src/async.ts#L101)

Wraps a client request function (e.g. `client.createPrivateKeys`) in a poller.
The default refresh interval is 500ms.

The returned poller will poll until the activity becomes `COMPLETED`.
If the activity becomes `FAILED` or `REJECTED` or is flagged as `NEEDS_CONSENSUS`, an error is thrown.

## Type Parameters

### O

`O` *extends* `object`

### I

`I` *extends* `object`

## Parameters

### params

#### client

[`TurnkeyClient`](../classes/TurnkeyClient.mdx)

#### refreshIntervalMs?

`number`

#### requestFn

(`input`) => `Promise`\<`O`\>

## Returns

`Function`

### Parameters

#### input

`I`

### Returns

`Promise`\<`O`\[`"activity"`\]\>

## Example

```ts
const activityPoller = createActivityPoller(client, client.createPrivateKeys);
const activity = await activityPoller(input);
console.log(activity.result); // activity is completed
```
