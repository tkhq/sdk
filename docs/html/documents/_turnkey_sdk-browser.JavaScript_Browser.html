<!DOCTYPE html><html class="default" lang="en" data-base="../"><head><meta charset="utf-8"/><meta http-equiv="x-ua-compatible" content="IE=edge"/><title>JavaScript Browser | SDK Documentation</title><meta name="description" content="Documentation for SDK Documentation"/><meta name="viewport" content="width=device-width, initial-scale=1"/><link rel="stylesheet" href="../assets/style.css"/><link rel="stylesheet" href="../assets/highlight.css"/><script defer src="../assets/main.js"></script><script async src="../assets/icons.js" id="tsd-icons-script"></script><script async src="../assets/search.js" id="tsd-search-script"></script><script async src="../assets/navigation.js" id="tsd-nav-script"></script><script async src="../assets/hierarchy.js" id="tsd-hierarchy-script"></script></head><body><script>document.documentElement.dataset.theme = localStorage.getItem("tsd-theme") || "os";document.body.style.display="none";setTimeout(() => window.app?app.showPage():document.body.style.removeProperty("display"),500)</script><header class="tsd-page-toolbar"><div class="tsd-toolbar-contents container"><a href="../index.html" class="title">SDK Documentation</a><div id="tsd-toolbar-links"></div><button id="tsd-search-trigger" class="tsd-widget" aria-label="Search"><svg width="16" height="16" viewBox="0 0 16 16" fill="none" aria-hidden="true"><use href="../assets/icons.svg#icon-search"></use></svg></button><dialog id="tsd-search" aria-label="Search"><input role="combobox" id="tsd-search-input" aria-controls="tsd-search-results" aria-autocomplete="list" aria-expanded="true" autocapitalize="off" autocomplete="off" placeholder="Search the docs" maxLength="100"/><ul role="listbox" id="tsd-search-results"></ul><div id="tsd-search-status" aria-live="polite" aria-atomic="true"><div>Preparing search index...</div></div></dialog><a href="#" class="tsd-widget menu" id="tsd-toolbar-menu-trigger" data-toggle="menu" aria-label="Menu"><svg width="16" height="16" viewBox="0 0 16 16" fill="none" aria-hidden="true"><use href="../assets/icons.svg#icon-menu"></use></svg></a></div></header><div class="container container-main"><div class="col-content"><div class="tsd-page-title"><ul class="tsd-breadcrumb" aria-label="Breadcrumb"><li><a href="../modules/_turnkey_sdk-browser.html">@turnkey/sdk-browser</a></li><li><a href="" aria-current="page">JavaScript Browser</a></li></ul></div><div class="tsd-panel tsd-typography"><p>import Tabs from &quot;@theme/Tabs&quot;;
import TabItem from &quot;@theme/TabItem&quot;;
import Parameter from &quot;@site/src/components/parameter&quot;;</p>
<h2 id="overview" class="tsd-anchor-link">Overview<a href="#overview" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h2><p>The <a href="https://www.npmjs.com/package/@turnkey/sdk-browser"><code>@turnkey/sdk-browser</code></a> package exposes functionality that lets developers build browser based applications that interact with the Turnkey API with different types of authentication.</p>
<p>It consists of the <code>passkeyClient</code>, <code>iframeClient</code> and <code>walletClient</code> that enable requests to the API to be authenticated via different auth methods. It also contains methods to manage information and state related to authentication like auth bundles and sessions, retrieving user information and server signing API requests.</p>
<p>If you are working with React â€“ check out our <a href="https://www.npmjs.com/package/@turnkey/sdk-react"><code>@turnkey/sdk-react</code></a> package.</p>
<h2 id="installation" class="tsd-anchor-link">Installation<a href="#installation" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h2><Tabs>
  <TabItem value="npm" label="NPM" default>
<pre><code class="bash"><span class="hl-6">npm</span><span class="hl-1"> </span><span class="hl-3">install</span><span class="hl-1"> </span><span class="hl-3">@turnkey/sdk-browser</span>
</code><button type="button">Copy</button></pre>

  </TabItem>
  <TabItem value="yarn" label="Yarn" >
<pre><code class="bash"><span class="hl-6">yarn</span><span class="hl-1"> </span><span class="hl-3">add</span><span class="hl-1"> </span><span class="hl-3">@turnkey/sdk-browser</span>
</code><button type="button">Copy</button></pre>

  </TabItem>
</Tabs>
<h2 id="initializing" class="tsd-anchor-link">Initializing<a href="#initializing" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h2><pre><code class="typescript"><span class="hl-0">import</span><span class="hl-1"> { </span><span class="hl-2">Turnkey</span><span class="hl-1"> } </span><span class="hl-0">from</span><span class="hl-1"> </span><span class="hl-3">&quot;@turnkey/sdk-browser&quot;</span><span class="hl-1">;</span><br/><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-5">turnkey</span><span class="hl-1"> = </span><span class="hl-4">new</span><span class="hl-1"> </span><span class="hl-6">Turnkey</span><span class="hl-1">({</span><br/><span class="hl-1">  </span><span class="hl-2">apiBaseUrl:</span><span class="hl-1"> </span><span class="hl-3">&quot;https://api.turnkey.com&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-2">defaultOrganizationId:</span><span class="hl-1"> </span><span class="hl-2">process</span><span class="hl-1">.</span><span class="hl-2">env</span><span class="hl-1">.</span><span class="hl-5">TURNKEY_ORGANIZATION_ID</span><span class="hl-1">,</span><br/><span class="hl-1">});</span>
</code><button type="button">Copy</button></pre>

<h4 id="parameters" class="tsd-anchor-link">Parameters<a href="#parameters" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h4><p>&lt;Parameter
style={{ borderBottom: &quot;none&quot;, paddingBottom: &quot;none&quot;}}
param={{
name: 'config',
type: {
name: 'TurnkeySDKBrowserConfig',
link: '<a href="https://github.com/tkhq/sdk/blob/494911d948d0a53c0d00aa01e9821aefd5e3f80d/packages/sdk-browser/src/__types__/base.ts#L179">https://github.com/tkhq/sdk/blob/494911d948d0a53c0d00aa01e9821aefd5e3f80d/packages/sdk-browser/src/__types__/base.ts#L179</a>'
}
}}
isRequired</p>
<blockquote></blockquote>
<p>An object containing configuration settings for the Browser Client.</p>
</Parameter>
<p>&lt;Parameter
style={{ paddingTop: '0', paddingLeft: &quot;12px&quot;}}
param={{
name: 'defaultOrganizationId',
type: {
name: 'string',
}
}}
isRequired</p>
<blockquote></blockquote>
<p>The root organization that requests will be made from unless otherwise specified</p>
</Parameter>
<p>&lt;Parameter
style={{ paddingLeft: &quot;12px&quot;}}
param={{
name: 'apiBaseUrl',
type: {
name: 'string',
}
}}
isRequired</p>
<blockquote></blockquote>
<p>The base URL that API requests will be sent to (use <a href="https://api.turnkey.com">https://api.turnkey.com</a> when making requests to Turnkey's API)</p>
</Parameter>
<p>&lt;Parameter
style={{ paddingLeft: &quot;12px&quot;}}
param={{
name: 'rpId',
type: {
name: 'string',
}
}}</p>
<blockquote></blockquote>
<p>The Relying Party ID used for WebAuthn flows (will default to the value returned from <code>window.location.hostname</code> unless otherwise specified)</p>
</Parameter>
<p>&lt;Parameter
style={{ paddingLeft: &quot;12px&quot;}}
param={{
name: 'serverSignUrl',
type: {
name: 'string',
}
}}</p>
<blockquote></blockquote>
<p>The URL to send requests that need to be signed from a backend codebase by the root organization's API key if using the <code>serverSign</code> flow.</p>
</Parameter>
<p>Calls to Turnkey's API must be signed with a valid credential from the appropriate user and, from a browser client, can either be sent directly to Turnkey or proxied through a server. Turnkey's Browser SDK contains the following different clients that manage the process of validating these requests depending on the kind of authentication credential that is being used.</p>
<h2 id="turnkeybrowserclient" class="tsd-anchor-link">TurnkeyBrowserClient<a href="#turnkeybrowserclient" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h2><p>The <code>TurnkeyBrowserClient</code> wraps Turnkey's basic SDK client with browser session management functionality. This client allows you to create a read only session that only authenticates read requests, or a read write session. It uses local storage for session management. The constructor for <code>TurnkeyBrowserClient</code> optionally takes in <code>AuthClient</code> which tracks which client was used for the initial authentication, to be used for retrieval purposes. Each subclass of <code>TurnkeyBrowserClient</code> (including <code>TurnkeyPasskeyClient</code>, <code>TurnkeyIframeClient</code> and <code>TurnkeyWalletClient</code>) will also set this to the respective value when used.</p>
<p>Below are all of the methods exposed by <code>TurnkeyBrowserClient</code></p>
<h3 id="login" class="tsd-anchor-link"><code>login()</code><a href="#login" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><p>Creates a read-only session for the current user, storing session details like userId, organizationId, sessionExpiry and which authentication client was used in local storage. This session allows for read-only actions within the Turnkey API. If you would like to instantiate a read only <code>TurnkeyBrowserClient</code> after logging in, you can use the <a href="#currentusersession"><code>currentUserSession()</code></a> method.</p>
<pre><code class="typescript"><span class="hl-0">import</span><span class="hl-1"> { </span><span class="hl-2">TurnkeyBrowserClient</span><span class="hl-1"> } </span><span class="hl-0">from</span><span class="hl-1"> </span><span class="hl-3">&quot;@turnkey/sdk-browser&quot;</span><span class="hl-1">;</span><br/><br/><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-5">config</span><span class="hl-1"> = {</span><br/><span class="hl-1">  </span><span class="hl-2">apiBaseUrl:</span><span class="hl-1"> </span><span class="hl-3">&quot;https://api.turnkey.com&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-2">defaultOrganizationId:</span><span class="hl-1"> </span><span class="hl-2">process</span><span class="hl-1">.</span><span class="hl-2">env</span><span class="hl-1">.</span><span class="hl-5">TURNKEY_ORGANIZATION_ID</span><span class="hl-1">,</span><br/><span class="hl-1">};</span><br/><br/><span class="hl-7">// Create a client instance</span><br/><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-5">browserClient</span><span class="hl-1"> = </span><span class="hl-4">new</span><span class="hl-1"> </span><span class="hl-6">TurnkeyBrowserClient</span><span class="hl-1">(</span><span class="hl-2">config</span><span class="hl-1">);</span><br/><br/><span class="hl-7">// Logs in to create a read-only session, storing the session in local storage</span><br/><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-5">readOnlySession</span><span class="hl-1"> = </span><span class="hl-0">await</span><span class="hl-1"> </span><span class="hl-2">browserClient</span><span class="hl-1">.</span><span class="hl-6">login</span><span class="hl-1">({ </span><span class="hl-2">organizationId:</span><span class="hl-1"> </span><span class="hl-3">&quot;org-id&quot;</span><span class="hl-1"> });</span>
</code><button type="button">Copy</button></pre>

<h3 id="loginwithbundle" class="tsd-anchor-link"><code>loginWithBundle()</code><a href="#loginwithbundle" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><p>Authenticate a user via the credential bundle emailed to them and creates a read-write session</p>
<h4 id="parameters-1" class="tsd-anchor-link">Parameters<a href="#parameters-1" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h4><p>&lt;Parameter
style={{ borderBottom: &quot;none&quot;, paddingBottom: &quot;none&quot;}}
param={{
name: 'params',
type: {
name: 'LoginWithBundleParams',
link: '<a href="https://github.com/tkhq/sdk/blob/494911d948d0a53c0d00aa01e9821aefd5e3f80d/packages/sdk-browser/src/__types__/base.ts#L219">https://github.com/tkhq/sdk/blob/494911d948d0a53c0d00aa01e9821aefd5e3f80d/packages/sdk-browser/src/__types__/base.ts#L219</a>'
}
}}
isRequired</p>
<blockquote>
<p>An object containing the parameters to authenticate via a Passkey.</p>
</blockquote>
<p>&lt;Parameter
style={{ paddingTop: '0', paddingLeft: &quot;12px&quot;}}
param={{
name: 'bundle',
type: {
name: 'string',
}
}}
isRequired</p>
<blockquote></blockquote>
<p>The credential bundle string emailed to the user.</p>
</Parameter>
<p>&lt;Parameter
style={{ paddingTop: '0', paddingLeft: &quot;12px&quot;}}
param={{
name: 'expirationSeconds',
type: {
name: 'string',
}
}}</p>
<blockquote></blockquote>
<p>Specify the length of the session in seconds. Defaults to 900 seconds or 15 minutes.</p>
</Parameter>
<p>&lt;Parameter
style={{ paddingTop: '0', paddingLeft: &quot;12px&quot;}}
param={{
name: 'targetPublicKey',
type: {
name: 'string',
}
}}</p>
<blockquote></blockquote>
<p>The public key of the target user. This will be inferred from the <code>TurnkeyIframeClient</code> if <code>targetPublicKey</code> is not provided.</p>
</Parameter>
</Parameter>
<h3 id="loginwithpasskey" class="tsd-anchor-link"><code>loginWithPasskey()</code><a href="#loginwithpasskey" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><p>Authenticate a user via Passkey and create a read-only or read-write session</p>
<h4 id="parameters-2" class="tsd-anchor-link">Parameters<a href="#parameters-2" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h4><p>&lt;Parameter
style={{ borderBottom: &quot;none&quot;, paddingBottom: &quot;none&quot;}}
param={{
name: 'params',
type: {
name: 'LoginWithPasskeyParams',
link: '<a href="https://github.com/tkhq/sdk/blob/494911d948d0a53c0d00aa01e9821aefd5e3f80d/packages/sdk-browser/src/__types__/base.ts#L224">https://github.com/tkhq/sdk/blob/494911d948d0a53c0d00aa01e9821aefd5e3f80d/packages/sdk-browser/src/__types__/base.ts#L224</a>'
}
}}
isRequired</p>
<blockquote>
<p>An object containing the parameters to authenticate via a Passkey.</p>
</blockquote>
<p>&lt;Parameter
style={{ paddingTop: '0', paddingLeft: &quot;12px&quot;}}
param={{
name: 'sessionType',
type: {
name: 'SessionType',
}
}}
isRequired</p>
<blockquote></blockquote>
<p>The type of session to be created. Either read-only or read-write.</p>
</Parameter>
<p>&lt;Parameter
style={{ paddingTop: '0', paddingLeft: &quot;12px&quot;}}
param={{
name: 'iframeClient',
type: {
name: 'TurnkeyIframeClient',
}
}}
isRequired</p>
<blockquote></blockquote>
<p>An instance of a <code>TurnkeyIframeClient</code></p>
</Parameter>
<p>&lt;Parameter
style={{ paddingTop: '0', paddingLeft: &quot;12px&quot;}}
param={{
name: 'expirationSeconds',
type: {
name: 'string',
}
}}</p>
<blockquote></blockquote>
<p>Specify the length of the session in seconds. Defaults to 900 seconds or 15 minutes.</p>
</Parameter>
<p>&lt;Parameter
style={{ paddingTop: '0', paddingLeft: &quot;12px&quot;}}
param={{
name: 'targetPublicKey',
type: {
name: 'string',
}
}}</p>
<blockquote></blockquote>
<p>The public key of the target user. This will be inferred from the <code>TurnkeyIframeClient</code> if <code>targetPublicKey</code> is not provided.</p>
</Parameter>
</Parameter>
<h3 id="loginwithsession" class="tsd-anchor-link"><code>loginWithSession()</code><a href="#loginwithsession" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><p>Log in with a session object created via a server action. The session can be either read-only or read-write.</p>
<h4 id="parameters-3" class="tsd-anchor-link">Parameters<a href="#parameters-3" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h4><p>&lt;Parameter
style={{ borderBottom: &quot;none&quot;, paddingBottom: &quot;none&quot;}}
param={{
name: 'session',
type: {
name: 'Session',
link: '<a href="https://github.com/tkhq/sdk/blob/494911d948d0a53c0d00aa01e9821aefd5e3f80d/packages/sdk-browser/src/__types__/base.ts#L25">https://github.com/tkhq/sdk/blob/494911d948d0a53c0d00aa01e9821aefd5e3f80d/packages/sdk-browser/src/__types__/base.ts#L25</a>'
}
}}
isRequired</p>
<blockquote>
<p>An existing session to authenticate the user with.</p>
</blockquote>
</Parameter>
<h3 id="loginwithwallet" class="tsd-anchor-link"><code>loginWithWallet()</code><a href="#loginwithwallet" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><p>Login with an existing wallet e.g. Metamask</p>
<h4 id="parameters-4" class="tsd-anchor-link">Parameters<a href="#parameters-4" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h4><p>&lt;Parameter
style={{ borderBottom: &quot;none&quot;, paddingBottom: &quot;none&quot;}}
param={{
name: 'params',
type: {
name: 'LoginWithWalletParams',
link: '<a href="https://github.com/tkhq/sdk/blob/494911d948d0a53c0d00aa01e9821aefd5e3f80d/packages/sdk-browser/src/__types__/base.ts#L231">https://github.com/tkhq/sdk/blob/494911d948d0a53c0d00aa01e9821aefd5e3f80d/packages/sdk-browser/src/__types__/base.ts#L231</a>'
}
}}
isRequired</p>
<blockquote>
<p>An object containing the parameters to authenticate via a browser wallet.
&lt;Parameter
style={{ paddingTop: '0', paddingLeft: &quot;12px&quot;}}
param={{</p>
</blockquote>
<pre><code>name: 'sessionType',
type: {
  name: 'SessionType',
}
</code></pre>
<p>}}
isRequired</p>
<blockquote></blockquote>
<p>The type of session to be created. Either read-only or read-write.</p>
</Parameter>
<p>&lt;Parameter
style={{ paddingTop: '0', paddingLeft: &quot;12px&quot;}}
param={{
name: 'iframeClient',
type: {
name: 'TurnkeyIframeClient',
}
}}
isRequired</p>
<blockquote></blockquote>
<p>An instance of a <code>TurnkeyIframeClient</code></p>
</Parameter>
<p>&lt;Parameter
style={{ paddingTop: '0', paddingLeft: &quot;12px&quot;}}
param={{
name: 'expirationSeconds',
type: {
name: 'string',
}
}}</p>
<blockquote></blockquote>
<p>Specify the length of the session in seconds. Defaults to 900 seconds or 15 minutes.</p>
</Parameter>
<p>&lt;Parameter
style={{ paddingTop: '0', paddingLeft: &quot;12px&quot;}}
param={{
name: 'targetPublicKey',
type: {
name: 'string',
}
}}</p>
<blockquote></blockquote>
<p>The public key of the target user. This will be inferred from the <code>TurnkeyIframeClient</code> if <code>targetPublicKey</code> is not provided.</p>
</Parameter>
</Parameter>
<h3 id="refreshsession" class="tsd-anchor-link"><code>refreshSession()</code><a href="#refreshsession" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><p>Attempts to refresh an existing, active session and will extend the session expiry using the <code>expirationSeconds</code> parameter</p>
<h4 id="parameters-5" class="tsd-anchor-link">Parameters<a href="#parameters-5" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h4><p>&lt;Parameter
style={{ borderBottom: &quot;none&quot;, paddingBottom: &quot;none&quot;}}
param={{
name: 'request',
type: {
name: 'RefreshSessionParams',
link: '<a href="https://github.com/tkhq/sdk/blob/494911d948d0a53c0d00aa01e9821aefd5e3f80d/packages/sdk-browser/src/__types__/base.ts#L213">https://github.com/tkhq/sdk/blob/494911d948d0a53c0d00aa01e9821aefd5e3f80d/packages/sdk-browser/src/__types__/base.ts#L213</a>'
}
}}
isRequired</p>
<blockquote></blockquote>
<p>An object containing the <code>RefreshSessionParams</code>.</p>
<p>&lt;Parameter
style={{ paddingTop: '0', paddingLeft: &quot;12px&quot;}}
param={{
name: 'sessionType',
type: {
name: 'SessionType',
link: '<a href="https://github.com/tkhq/sdk/blob/494911d948d0a53c0d00aa01e9821aefd5e3f80d/packages/sdk-browser/src/__types__/base.ts#L20">https://github.com/tkhq/sdk/blob/494911d948d0a53c0d00aa01e9821aefd5e3f80d/packages/sdk-browser/src/__types__/base.ts#L20</a>'
}
}}
isRequired</p>
<blockquote></blockquote>
<p>The type of <code>Session</code> that is being refreshed.</p>
</Parameter>
<p>&lt;Parameter
style={{ paddingTop: '0', paddingLeft: &quot;12px&quot;}}
param={{
name: 'expirationSeconds',
type: {
name: 'string',
}
}}</p>
<blockquote></blockquote>
<p>Specify how long to extend the session. Defaults to 900 seconds or 15 minutes.</p>
</Parameter>
<p>&lt;Parameter
style={{ paddingTop: '0', paddingLeft: &quot;12px&quot;}}
param={{
name: 'targetPublicKey',
type: {
name: 'string',
}
}}</p>
<blockquote></blockquote>
<p>The public key of the target user. This will be inferred from the <code>TurnkeyIframeClient</code> if <code>targetPublicKey</code> is not provided.</p>
</Parameter>
</Parameter>
<h3 id="loginwithreadwritesession" class="tsd-anchor-link"><code>loginWithReadWriteSession()</code><a href="#loginwithreadwritesession" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><p>Creates a read-write session. This method infers the current user's organization ID and target userId. To be used in conjunction with an <code>iframeStamper</code>: the resulting session's credential bundle can be injected into an iframeStamper to create a session that enables both read and write requests.</p>
<pre><code class="typescript"><span class="hl-0">import</span><span class="hl-1"> { </span><span class="hl-2">TurnkeyBrowserClient</span><span class="hl-1"> } </span><span class="hl-0">from</span><span class="hl-1"> </span><span class="hl-3">&quot;@turnkey/sdk-browser&quot;</span><span class="hl-1">;</span><br/><br/><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-5">config</span><span class="hl-1"> = {</span><br/><span class="hl-1">  </span><span class="hl-2">apiBaseUrl:</span><span class="hl-1"> </span><span class="hl-3">&quot;https://api.turnkey.com&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-2">defaultOrganizationId:</span><span class="hl-1"> </span><span class="hl-2">process</span><span class="hl-1">.</span><span class="hl-2">env</span><span class="hl-1">.</span><span class="hl-5">TURNKEY_ORGANIZATION_ID</span><span class="hl-1">,</span><br/><span class="hl-1">};</span><br/><br/><span class="hl-7">// Create a client instance</span><br/><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-5">browserClient</span><span class="hl-1"> = </span><span class="hl-4">new</span><span class="hl-1"> </span><span class="hl-6">TurnkeyBrowserClient</span><span class="hl-1">(</span><span class="hl-2">config</span><span class="hl-1">);</span><br/><br/><span class="hl-7">// Logs in to create a read-write session, using a target embedded key and session expiration</span><br/><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-5">readWriteSession</span><span class="hl-1"> = </span><span class="hl-0">await</span><span class="hl-1"> </span><span class="hl-2">browserClient</span><span class="hl-1">.</span><span class="hl-6">loginWithReadWriteSession</span><span class="hl-1">(</span><br/><span class="hl-1">  </span><span class="hl-3">&quot;target-embedded-key&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-3">&quot;900&quot;</span><span class="hl-1">, </span><span class="hl-7">// Session expires in 15 minutes</span><br/><span class="hl-1">  </span><span class="hl-3">&quot;user-id&quot;</span><br/><span class="hl-1">);</span>
</code><button type="button">Copy</button></pre>

<h2 id="turnkeypasskeyclient" class="tsd-anchor-link">TurnkeyPasskeyClient<a href="#turnkeypasskeyclient" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h2><p>The <code>TurnkeyPasskeyClient</code> class extends <code>TurnkeyBrowserClient</code> and specializes it for user authentication through Passkeys, which leverage the WebAuthn standard for passwordless authentication. This class enables the implementation of strong, user-friendly authentication experiences in a web-based application without relying on passwords. TurnkeyPasskeyClient handles passkey creation, session management with passkeys and integrates with WebAuthn and Embedded API Keys.</p>
<p>To see how to instantiate the <code>TurnkeyPasskeyClient</code>, <a href="#passkeyclient">look here</a></p>
<p>Below are the methods exposed by the <code>TurnkeyPasskeyClient</code></p>
<h3 id="createuserpasskey" class="tsd-anchor-link"><code>createUserPasskey()</code><a href="#createuserpasskey" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><p>Creates a Passkey for an end-user, handling lower-level configurations for the WebAuthn protocol, including challenges and user details. For more detailed examples using this method <a href="/embedded-wallets/code-examples/add-credential">look here</a>.</p>
<pre><code class="typescript"><span class="hl-0">import</span><span class="hl-1"> { </span><span class="hl-2">Turnkey</span><span class="hl-1"> } </span><span class="hl-0">from</span><span class="hl-1"> </span><span class="hl-3">&quot;@turnkey/sdk-browser&quot;</span><span class="hl-1">;</span><br/><br/><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-5">config</span><span class="hl-1"> = {</span><br/><span class="hl-1">  </span><span class="hl-2">apiBaseUrl:</span><span class="hl-1"> </span><span class="hl-3">&quot;https://api.turnkey.com&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-2">defaultOrganizationId:</span><span class="hl-1"> </span><span class="hl-2">process</span><span class="hl-1">.</span><span class="hl-2">env</span><span class="hl-1">.</span><span class="hl-5">TURNKEY_ORGANIZATION_ID</span><span class="hl-1">,</span><br/><span class="hl-1">};</span><br/><br/><span class="hl-7">// Create a client instance</span><br/><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-5">turnkeySDK</span><span class="hl-1"> = </span><span class="hl-4">new</span><span class="hl-1"> </span><span class="hl-6">Turnkey</span><span class="hl-1">(</span><span class="hl-2">config</span><span class="hl-1">);</span><br/><br/><span class="hl-7">// Create a Passkey client instance</span><br/><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-5">passkeyClient</span><span class="hl-1"> = </span><span class="hl-2">turnkeySDK</span><span class="hl-1">.</span><span class="hl-6">passkeyClient</span><span class="hl-1">();</span><br/><br/><span class="hl-7">// Creates a new user passkey with WebAuthn protocol details</span><br/><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-5">passkey</span><span class="hl-1"> = </span><span class="hl-0">await</span><span class="hl-1"> </span><span class="hl-2">passkeyClient</span><span class="hl-1">.</span><span class="hl-6">createUserPasskey</span><span class="hl-1">({</span><br/><span class="hl-1">  </span><span class="hl-2">publicKey:</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-2">rp:</span><span class="hl-1"> { </span><span class="hl-2">name:</span><span class="hl-1"> </span><span class="hl-3">&quot;Example Relying Party&quot;</span><span class="hl-1"> },</span><br/><span class="hl-1">    </span><span class="hl-2">user:</span><span class="hl-1"> { </span><span class="hl-2">name:</span><span class="hl-1"> </span><span class="hl-3">&quot;testUser&quot;</span><span class="hl-1">, </span><span class="hl-2">displayName:</span><span class="hl-1"> </span><span class="hl-3">&quot;Test User&quot;</span><span class="hl-1"> },</span><br/><span class="hl-1">  },</span><br/><span class="hl-1">});</span>
</code><button type="button">Copy</button></pre>

<h3 id="createpasskeysession" class="tsd-anchor-link"><code>createPasskeySession()</code><a href="#createpasskeysession" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><p>Uses Passkey authentication to create a read-write session, via an embedded API key, and stores + returns the resulting auth bundle that contains the encrypted API key. This auth bundle (also referred to as a credential bundle) can be injected into an iframeStamper, resulting in a touch-free authenticator. Unlike <code>loginWithReadWriteSession</code>, this method assumes the end-user's organization ID (i.e. the sub-organization ID) is already known.</p>
<pre><code class="typescript"><span class="hl-0">import</span><span class="hl-1"> { </span><span class="hl-2">Turnkey</span><span class="hl-1"> } </span><span class="hl-0">from</span><span class="hl-1"> </span><span class="hl-3">&quot;@turnkey/sdk-browser&quot;</span><span class="hl-1">;</span><br/><br/><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-5">config</span><span class="hl-1"> = {</span><br/><span class="hl-1">  </span><span class="hl-2">apiBaseUrl:</span><span class="hl-1"> </span><span class="hl-3">&quot;https://api.turnkey.com&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-2">defaultOrganizationId:</span><span class="hl-1"> </span><span class="hl-2">process</span><span class="hl-1">.</span><span class="hl-2">env</span><span class="hl-1">.</span><span class="hl-5">TURNKEY_ORGANIZATION_ID</span><span class="hl-1">,</span><br/><span class="hl-1">};</span><br/><br/><span class="hl-7">// Create a client instance</span><br/><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-5">turnkeySDK</span><span class="hl-1"> = </span><span class="hl-4">new</span><span class="hl-1"> </span><span class="hl-6">Turnkey</span><span class="hl-1">(</span><span class="hl-2">config</span><span class="hl-1">);</span><br/><br/><span class="hl-7">// Create a Passkey client instance</span><br/><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-5">passkeyClient</span><span class="hl-1"> = </span><span class="hl-2">turnkeySDK</span><span class="hl-1">.</span><span class="hl-6">passkeyClient</span><span class="hl-1">();</span><br/><br/><span class="hl-7">// Creates a read-write session using a passkey with a specific expiration and organization ID</span><br/><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-5">session</span><span class="hl-1"> = </span><span class="hl-0">await</span><span class="hl-1"> </span><span class="hl-2">passkeyClient</span><span class="hl-1">.</span><span class="hl-6">createPasskeySession</span><span class="hl-1">(</span><br/><span class="hl-1">  </span><span class="hl-3">&quot;user-id&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-3">&quot;target-embedded-key&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-3">&quot;1800&quot;</span><span class="hl-1">, </span><span class="hl-7">// Expire in 30 minutes</span><br/><span class="hl-1">  </span><span class="hl-3">&quot;org-id&quot;</span><br/><span class="hl-1">);</span>
</code><button type="button">Copy</button></pre>

<h2 id="turnkeyiframeclient" class="tsd-anchor-link">TurnkeyIframeClient<a href="#turnkeyiframeclient" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h2><p>The <code>TurnkeyIframeClient</code> class extends <code>TurnkeyBrowserClient</code> such that it is specialized for use with an iframe-based session. Our iFrame stamping implementation leverages the postMessage communication mechanism to send and receive messages within the iframe, ensuring the credential does not leave its secure environment. This approach is particularly crucial in sensitive flows such as Email Auth, and Key or Wallet Export, where heightened security is required. For further information on our iframe stamping process, checkout our <a href="./advanced/iframe-stamper">iframeStamper package documentation</a>.</p>
<p>To see how to instantiate the <code>TurnkeyIframeClient</code>, <a href="#iframeclient">look here</a>.</p>
<p>Here are all of the methods exposed by <code>TurnkeyIframeClient</code></p>
<h3 id="injectcredentialbundle" class="tsd-anchor-link"><code>injectCredentialBundle()</code><a href="#injectcredentialbundle" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><p>Injects an encrypted credential bundle (API key or session token) directly into the iframe for session-based authentication and authorization.</p>
<pre><code class="typescript"><span class="hl-0">import</span><span class="hl-1"> { </span><span class="hl-2">Turnkey</span><span class="hl-1"> } </span><span class="hl-0">from</span><span class="hl-1"> </span><span class="hl-3">&quot;@turnkey/sdk-browser&quot;</span><span class="hl-1">;</span><br/><br/><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-5">config</span><span class="hl-1"> = {</span><br/><span class="hl-1">  </span><span class="hl-2">apiBaseUrl:</span><span class="hl-1"> </span><span class="hl-3">&quot;https://api.turnkey.com&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-2">defaultOrganizationId:</span><span class="hl-1"> </span><span class="hl-2">process</span><span class="hl-1">.</span><span class="hl-2">env</span><span class="hl-1">.</span><span class="hl-5">TURNKEY_ORGANIZATION_ID</span><span class="hl-1">,</span><br/><span class="hl-1">};</span><br/><br/><span class="hl-7">// Create a client instance</span><br/><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-5">turnkeySDK</span><span class="hl-1"> = </span><span class="hl-4">new</span><span class="hl-1"> </span><span class="hl-6">Turnkey</span><span class="hl-1">(</span><span class="hl-2">config</span><span class="hl-1">);</span><br/><br/><span class="hl-7">// Create a Passkey client instance</span><br/><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-5">iframeClient</span><span class="hl-1"> = </span><span class="hl-2">turnkeySDK</span><span class="hl-1">.</span><span class="hl-6">iframeClient</span><span class="hl-1">();</span><br/><br/><span class="hl-7">// Injects a credential bundle into the iframe for session management</span><br/><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-5">success</span><span class="hl-1"> = </span><span class="hl-0">await</span><span class="hl-1"> </span><span class="hl-2">iframeClient</span><span class="hl-1">.</span><span class="hl-6">injectCredentialBundle</span><span class="hl-1">(</span><br/><span class="hl-1">  </span><span class="hl-3">&quot;your-credential-bundle&quot;</span><br/><span class="hl-1">);</span>
</code><button type="button">Copy</button></pre>

<h3 id="injectwalletexportbundle" class="tsd-anchor-link"><code>injectWalletExportBundle()</code><a href="#injectwalletexportbundle" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><p>Injects a wallet export bundle into the iframe, associating it with a specified organization. This allows secure transfer of wallet credentials.</p>
<pre><code class="typescript"><span class="hl-0">import</span><span class="hl-1"> { </span><span class="hl-2">Turnkey</span><span class="hl-1"> } </span><span class="hl-0">from</span><span class="hl-1"> </span><span class="hl-3">&quot;@turnkey/sdk-browser&quot;</span><span class="hl-1">;</span><br/><br/><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-5">config</span><span class="hl-1"> = {</span><br/><span class="hl-1">  </span><span class="hl-2">apiBaseUrl:</span><span class="hl-1"> </span><span class="hl-3">&quot;https://api.turnkey.com&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-2">defaultOrganizationId:</span><span class="hl-1"> </span><span class="hl-2">process</span><span class="hl-1">.</span><span class="hl-2">env</span><span class="hl-1">.</span><span class="hl-5">TURNKEY_ORGANIZATION_ID</span><span class="hl-1">,</span><br/><span class="hl-1">};</span><br/><br/><span class="hl-7">// Create a client instance</span><br/><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-5">turnkeySDK</span><span class="hl-1"> = </span><span class="hl-4">new</span><span class="hl-1"> </span><span class="hl-6">Turnkey</span><span class="hl-1">(</span><span class="hl-2">config</span><span class="hl-1">);</span><br/><br/><span class="hl-7">// Create a Passkey client instance</span><br/><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-5">iframeClient</span><span class="hl-1"> = </span><span class="hl-2">turnkeySDK</span><span class="hl-1">.</span><span class="hl-6">iframeClient</span><span class="hl-1">();</span><br/><br/><span class="hl-7">// Injects a credential bundle into the iframe for session management</span><br/><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-5">success</span><span class="hl-1"> = </span><span class="hl-0">await</span><span class="hl-1"> </span><span class="hl-2">iframeClient</span><span class="hl-1">.</span><span class="hl-6">injectWalletExportBundle</span><span class="hl-1">(</span><br/><span class="hl-1">  </span><span class="hl-3">&quot;wallet-bundle&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-3">&quot;org-id&quot;</span><br/><span class="hl-1">);</span>
</code><button type="button">Copy</button></pre>

<h3 id="injectkeyexportbundle" class="tsd-anchor-link"><code>injectKeyExportBundle()</code><a href="#injectkeyexportbundle" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><p>Injects a key export bundle into the iframe, supporting optional key formats. This is useful for transferring specific key credentials securely.</p>
<pre><code class="typescript"><span class="hl-0">import</span><span class="hl-1"> { </span><span class="hl-2">Turnkey</span><span class="hl-1"> } </span><span class="hl-0">from</span><span class="hl-1"> </span><span class="hl-3">&quot;@turnkey/sdk-browser&quot;</span><span class="hl-1">;</span><br/><br/><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-5">config</span><span class="hl-1"> = {</span><br/><span class="hl-1">  </span><span class="hl-2">apiBaseUrl:</span><span class="hl-1"> </span><span class="hl-3">&quot;https://api.turnkey.com&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-2">defaultOrganizationId:</span><span class="hl-1"> </span><span class="hl-2">process</span><span class="hl-1">.</span><span class="hl-2">env</span><span class="hl-1">.</span><span class="hl-5">TURNKEY_ORGANIZATION_ID</span><span class="hl-1">,</span><br/><span class="hl-1">};</span><br/><br/><span class="hl-7">// Create a client instance</span><br/><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-5">turnkeySDK</span><span class="hl-1"> = </span><span class="hl-4">new</span><span class="hl-1"> </span><span class="hl-6">Turnkey</span><span class="hl-1">(</span><span class="hl-2">config</span><span class="hl-1">);</span><br/><br/><span class="hl-7">// Create a Passkey client instance</span><br/><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-5">iframeClient</span><span class="hl-1"> = </span><span class="hl-2">turnkeySDK</span><span class="hl-1">.</span><span class="hl-6">iframeClient</span><span class="hl-1">();</span><br/><br/><span class="hl-7">// Injects a key export bundle with an optional key format</span><br/><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-5">success</span><span class="hl-1"> = </span><span class="hl-0">await</span><span class="hl-1"> </span><span class="hl-2">iframeClient</span><span class="hl-1">.</span><span class="hl-6">injectKeyExportBundle</span><span class="hl-1">(</span><br/><span class="hl-1">  </span><span class="hl-3">&quot;key-bundle&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-3">&quot;org-id&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-3">&quot;PEM&quot;</span><br/><span class="hl-1">);</span>
</code><button type="button">Copy</button></pre>

<h3 id="injectimportbundle" class="tsd-anchor-link"><code>injectImportBundle()</code><a href="#injectimportbundle" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><p>Injects an import bundle into the iframe, associating it with a specific organization and user, enabling secure import of user credentials.</p>
<pre><code class="typescript"><span class="hl-0">import</span><span class="hl-1"> { </span><span class="hl-2">Turnkey</span><span class="hl-1"> } </span><span class="hl-0">from</span><span class="hl-1"> </span><span class="hl-3">&quot;@turnkey/sdk-browser&quot;</span><span class="hl-1">;</span><br/><br/><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-5">config</span><span class="hl-1"> = {</span><br/><span class="hl-1">  </span><span class="hl-2">apiBaseUrl:</span><span class="hl-1"> </span><span class="hl-3">&quot;https://api.turnkey.com&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-2">defaultOrganizationId:</span><span class="hl-1"> </span><span class="hl-2">process</span><span class="hl-1">.</span><span class="hl-2">env</span><span class="hl-1">.</span><span class="hl-5">TURNKEY_ORGANIZATION_ID</span><span class="hl-1">,</span><br/><span class="hl-1">};</span><br/><br/><span class="hl-7">// Create a client instance</span><br/><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-5">turnkeySDK</span><span class="hl-1"> = </span><span class="hl-4">new</span><span class="hl-1"> </span><span class="hl-6">Turnkey</span><span class="hl-1">(</span><span class="hl-2">config</span><span class="hl-1">);</span><br/><br/><span class="hl-7">// Create a Passkey client instance</span><br/><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-5">iframeClient</span><span class="hl-1"> = </span><span class="hl-2">turnkeySDK</span><span class="hl-1">.</span><span class="hl-6">iframeClient</span><span class="hl-1">();</span><br/><br/><span class="hl-7">// Injects an import bundle for a specific organization and user</span><br/><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-5">success</span><span class="hl-1"> = </span><span class="hl-0">await</span><span class="hl-1"> </span><span class="hl-2">iframeClient</span><span class="hl-1">.</span><span class="hl-6">injectImportBundle</span><span class="hl-1">(</span><br/><span class="hl-1">  </span><span class="hl-3">&quot;import-bundle&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-3">&quot;org-id&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-3">&quot;user-id&quot;</span><br/><span class="hl-1">);</span>
</code><button type="button">Copy</button></pre>

<h3 id="extractwalletencryptedbundle" class="tsd-anchor-link"><code>extractWalletEncryptedBundle()</code><a href="#extractwalletencryptedbundle" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><p>Extracts an encrypted wallet bundle from the iframe. Useful for securely retrieving wallet credentials from the iframe to the main application.</p>
<pre><code class="typescript"><span class="hl-0">import</span><span class="hl-1"> { </span><span class="hl-2">Turnkey</span><span class="hl-1"> } </span><span class="hl-0">from</span><span class="hl-1"> </span><span class="hl-3">&quot;@turnkey/sdk-browser&quot;</span><span class="hl-1">;</span><br/><br/><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-5">config</span><span class="hl-1"> = {</span><br/><span class="hl-1">  </span><span class="hl-2">apiBaseUrl:</span><span class="hl-1"> </span><span class="hl-3">&quot;https://api.turnkey.com&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-2">defaultOrganizationId:</span><span class="hl-1"> </span><span class="hl-2">process</span><span class="hl-1">.</span><span class="hl-2">env</span><span class="hl-1">.</span><span class="hl-5">TURNKEY_ORGANIZATION_ID</span><span class="hl-1">,</span><br/><span class="hl-1">};</span><br/><br/><span class="hl-7">// Create a client instance</span><br/><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-5">turnkeySDK</span><span class="hl-1"> = </span><span class="hl-4">new</span><span class="hl-1"> </span><span class="hl-6">Turnkey</span><span class="hl-1">(</span><span class="hl-2">config</span><span class="hl-1">);</span><br/><br/><span class="hl-7">// Create a Passkey client instance</span><br/><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-5">iframeClient</span><span class="hl-1"> = </span><span class="hl-2">turnkeySDK</span><span class="hl-1">.</span><span class="hl-6">iframeClient</span><span class="hl-1">();</span><br/><br/><span class="hl-7">// Extracts the encrypted wallet bundle from the iframe</span><br/><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-5">walletBundle</span><span class="hl-1"> = </span><span class="hl-0">await</span><span class="hl-1"> </span><span class="hl-2">iframeClient</span><span class="hl-1">.</span><span class="hl-6">extractWalletEncryptedBundle</span><span class="hl-1">();</span>
</code><button type="button">Copy</button></pre>

<h3 id="extractkeyencryptedbundle" class="tsd-anchor-link"><code>extractKeyEncryptedBundle()</code><a href="#extractkeyencryptedbundle" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><p>Extracts an encrypted key bundle from the iframe, providing secure retrieval of key credentials.</p>
<pre><code class="typescript"><span class="hl-0">import</span><span class="hl-1"> { </span><span class="hl-2">Turnkey</span><span class="hl-1"> } </span><span class="hl-0">from</span><span class="hl-1"> </span><span class="hl-3">&quot;@turnkey/sdk-browser&quot;</span><span class="hl-1">;</span><br/><br/><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-5">config</span><span class="hl-1"> = {</span><br/><span class="hl-1">  </span><span class="hl-2">apiBaseUrl:</span><span class="hl-1"> </span><span class="hl-3">&quot;https://api.turnkey.com&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-2">defaultOrganizationId:</span><span class="hl-1"> </span><span class="hl-2">process</span><span class="hl-1">.</span><span class="hl-2">env</span><span class="hl-1">.</span><span class="hl-5">TURNKEY_ORGANIZATION_ID</span><span class="hl-1">,</span><br/><span class="hl-1">};</span><br/><br/><span class="hl-7">// Create a client instance</span><br/><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-5">turnkeySDK</span><span class="hl-1"> = </span><span class="hl-4">new</span><span class="hl-1"> </span><span class="hl-6">Turnkey</span><span class="hl-1">(</span><span class="hl-2">config</span><span class="hl-1">);</span><br/><br/><span class="hl-7">// Create a Passkey client instance</span><br/><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-5">iframeClient</span><span class="hl-1"> = </span><span class="hl-2">turnkeySDK</span><span class="hl-1">.</span><span class="hl-6">iframeClient</span><span class="hl-1">();</span><br/><br/><span class="hl-7">// Extracts the encrypted key bundle from the iframe</span><br/><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-5">keyBundle</span><span class="hl-1"> = </span><span class="hl-0">await</span><span class="hl-1"> </span><span class="hl-2">iframeClient</span><span class="hl-1">.</span><span class="hl-6">extractKeyEncryptedBundle</span><span class="hl-1">();</span>
</code><button type="button">Copy</button></pre>

<h2 id="turnkeywalletclient" class="tsd-anchor-link">TurnkeyWalletClient<a href="#turnkeywalletclient" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h2><p>The <code>TurnkeyWalletClient</code> extends <code>TurnkeyBrowserClient</code> such that it is specialized for using a wallet to stamp and authenticate requests to the Turnkey API. This stamping process leverages your wallet's signature key to authenticate requests securely.</p>
<h3 id="getpublickey" class="tsd-anchor-link"><code>getPublicKey()</code><a href="#getpublickey" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><p>This method enables easy access to the wallet public key from the <code>TurnkeyWalletClient</code> to be used in authentication flows.</p>
<pre><code class="typescript"><span class="hl-0">import</span><span class="hl-1"> { </span><span class="hl-2">Turnkey</span><span class="hl-1"> } </span><span class="hl-0">from</span><span class="hl-1"> </span><span class="hl-3">&quot;@turnkey/sdk-browser&quot;</span><span class="hl-1">;</span><br/><span class="hl-0">import</span><span class="hl-1"> { </span><span class="hl-2">EthereumWallet</span><span class="hl-1"> } </span><span class="hl-0">from</span><span class="hl-1"> </span><span class="hl-3">&quot;@turnkey/wallet-stamper&quot;</span><span class="hl-1">;</span><br/><br/><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-5">config</span><span class="hl-1"> = {</span><br/><span class="hl-1">  </span><span class="hl-2">apiBaseUrl:</span><span class="hl-1"> </span><span class="hl-3">&quot;https://api.turnkey.com&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-2">defaultOrganizationId:</span><span class="hl-1"> </span><span class="hl-2">process</span><span class="hl-1">.</span><span class="hl-2">env</span><span class="hl-1">.</span><span class="hl-5">TURNKEY_ORGANIZATION_ID</span><span class="hl-1">,</span><br/><span class="hl-1">};</span><br/><br/><span class="hl-7">// Create a client instance</span><br/><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-5">turnkeySDK</span><span class="hl-1"> = </span><span class="hl-4">new</span><span class="hl-1"> </span><span class="hl-6">Turnkey</span><span class="hl-1">(</span><span class="hl-2">config</span><span class="hl-1">);</span><br/><br/><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-5">walletClient</span><span class="hl-1"> = </span><span class="hl-2">turnkeySDK</span><span class="hl-1">.</span><span class="hl-6">walletClient</span><span class="hl-1">(</span><span class="hl-4">new</span><span class="hl-1"> </span><span class="hl-6">EthereumWallet</span><span class="hl-1">());</span><br/><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-5">publicKey</span><span class="hl-1"> = </span><span class="hl-0">await</span><span class="hl-1"> </span><span class="hl-2">walletsClient</span><span class="hl-1">.</span><span class="hl-6">getPublicKey</span><span class="hl-1">();</span>
</code><button type="button">Copy</button></pre>

<h3 id="getwalletinterface" class="tsd-anchor-link"><code>getWalletInterface()</code><a href="#getwalletinterface" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><p>This method provides easy access to the full object that represents the wallet being used to stamp requests for this client.</p>
<pre><code class="typescript"><span class="hl-0">import</span><span class="hl-1"> { </span><span class="hl-2">Turnkey</span><span class="hl-1"> } </span><span class="hl-0">from</span><span class="hl-1"> </span><span class="hl-3">&quot;@turnkey/sdk-browser&quot;</span><span class="hl-1">;</span><br/><span class="hl-0">import</span><span class="hl-1"> { </span><span class="hl-2">EthereumWallet</span><span class="hl-1"> } </span><span class="hl-0">from</span><span class="hl-1"> </span><span class="hl-3">&quot;@turnkey/wallet-stamper&quot;</span><span class="hl-1">;</span><br/><br/><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-5">config</span><span class="hl-1"> = {</span><br/><span class="hl-1">  </span><span class="hl-2">apiBaseUrl:</span><span class="hl-1"> </span><span class="hl-3">&quot;https://api.turnkey.com&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-2">defaultOrganizationId:</span><span class="hl-1"> </span><span class="hl-2">process</span><span class="hl-1">.</span><span class="hl-2">env</span><span class="hl-1">.</span><span class="hl-5">TURNKEY_ORGANIZATION_ID</span><span class="hl-1">,</span><br/><span class="hl-1">};</span><br/><br/><span class="hl-7">// Create a client instance</span><br/><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-5">turnkeySDK</span><span class="hl-1"> = </span><span class="hl-4">new</span><span class="hl-1"> </span><span class="hl-6">Turnkey</span><span class="hl-1">(</span><span class="hl-2">config</span><span class="hl-1">);</span><br/><br/><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-5">walletClient</span><span class="hl-1"> = </span><span class="hl-2">turnkeySDK</span><span class="hl-1">.</span><span class="hl-6">walletClient</span><span class="hl-1">(</span><span class="hl-4">new</span><span class="hl-1"> </span><span class="hl-6">EthereumWallet</span><span class="hl-1">());</span><br/><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-5">wallet</span><span class="hl-1"> = </span><span class="hl-0">await</span><span class="hl-1"> </span><span class="hl-2">walletsClient</span><span class="hl-1">.</span><span class="hl-6">getWalletInterface</span><span class="hl-1">();</span>
</code><button type="button">Copy</button></pre>

<h2 id="top-level-sdk-functions-in-turnkeybrowsersdk" class="tsd-anchor-link">Top Level SDK Functions in <code>TurnkeyBrowserSDK</code><a href="#top-level-sdk-functions-in-turnkeybrowsersdk" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h2><p>The <code>TurnkeyBrowserSDK</code> serves as the main entry point for interacting with Turnkey's services in a web browser environment. It contains methods to instantiate clients like the <code>TurnkeyPasskeyClient</code> and the <code>TurnkeyIframeClient</code>. manage information and state related to authentication like auth bundles and sessions, retrieving user information and server signing API requests.The client enables easy access to the wallet public key to be used for authentication flows.</p>
<h3 id="passkeyclient" class="tsd-anchor-link"><code>passkeyClient()</code><a href="#passkeyclient" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><p>Creates an instance of TurnkeyPasskeyClient with a specified or default rpId (relying party ID). This client can prompt users to sign with a passkey credential for authentication. If you'd like to use your passkey client to proxy requests to your server, to be signed with parent organization credentials, include the server URL in the <code>serverSignUrl</code> parameter.</p>
<p>{/_ <!-- TODO -- Link to example for server signing once server action work has been completed --> _/}</p>
<pre><code class="typescript"><span class="hl-0">import</span><span class="hl-1"> { </span><span class="hl-2">Turnkey</span><span class="hl-1"> } </span><span class="hl-0">from</span><span class="hl-1"> </span><span class="hl-3">&quot;@turnkey/sdk-browser&quot;</span><span class="hl-1">;</span><br/><br/><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-5">config</span><span class="hl-1"> = {</span><br/><span class="hl-1">  </span><span class="hl-2">apiBaseUrl:</span><span class="hl-1"> </span><span class="hl-3">&quot;https://api.turnkey.com&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-2">defaultOrganizationId:</span><span class="hl-1"> </span><span class="hl-2">process</span><span class="hl-1">.</span><span class="hl-2">env</span><span class="hl-1">.</span><span class="hl-5">TURNKEY_ORGANIZATION_ID</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-2">serverSignUrl:</span><span class="hl-1"> </span><span class="hl-3">&quot;https://your-server-sign-url.com&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">};</span><br/><br/><span class="hl-7">// Create a client instance</span><br/><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-5">turnkeySDK</span><span class="hl-1"> = </span><span class="hl-4">new</span><span class="hl-1"> </span><span class="hl-6">Turnkey</span><span class="hl-1">(</span><span class="hl-2">config</span><span class="hl-1">);</span><br/><br/><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-5">passkeyClient</span><span class="hl-1"> = </span><span class="hl-2">turnkeySDK</span><span class="hl-1">.</span><span class="hl-6">passkeyClient</span><span class="hl-1">();</span><br/><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-5">walletsResponse</span><span class="hl-1"> = </span><span class="hl-0">await</span><span class="hl-1"> </span><span class="hl-2">passkeyClient</span><span class="hl-1">.</span><span class="hl-6">getWallets</span><span class="hl-1">();</span>
</code><button type="button">Copy</button></pre>

<h3 id="iframeclient" class="tsd-anchor-link"><code>iframeClient()</code><a href="#iframeclient" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><p>Creates an instance of <code>TurnkeyIframeClient</code> by initializing an iframe stamper with the specified iframeUrl
and optional element ID. The iframe client is used to interact with a series of iframes hosted by Turnkey,
designed for sensitive operations such as storing an expiring credential within the <a href="/authentication/email#recovery-flow">Email Recovery</a>
and <a href="/authentication/email">Email Auth</a> flows, and facilitating Wallet <a href="/wallets/import-wallets">Import</a> and <a href="/wallets/export-wallets">Export</a>.
The code powering these iframes can be found at <a href="https://github.com/tkhq/frames">https://github.com/tkhq/frames</a>. If you'd like to use your iframe client to proxy
requests to your server, to be signed with parent organization credentials, include the server URL in the <code>serverSignUrl</code> parameter.</p>
<p>{/_ <!-- TODO -- Link to example for server signing once server action work has been completed --> _/}</p>
<pre><code class="typescript"><span class="hl-0">import</span><span class="hl-1"> { </span><span class="hl-2">Turnkey</span><span class="hl-1"> } </span><span class="hl-0">from</span><span class="hl-1"> </span><span class="hl-3">&quot;@turnkey/sdk-browser&quot;</span><span class="hl-1">;</span><br/><br/><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-5">config</span><span class="hl-1"> = {</span><br/><span class="hl-1">  </span><span class="hl-2">apiBaseUrl:</span><span class="hl-1"> </span><span class="hl-3">&quot;https://api.turnkey.com&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-2">defaultOrganizationId:</span><span class="hl-1"> </span><span class="hl-2">process</span><span class="hl-1">.</span><span class="hl-2">env</span><span class="hl-1">.</span><span class="hl-5">TURNKEY_ORGANIZATION_ID</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-2">serverSignUrl:</span><span class="hl-1"> </span><span class="hl-3">&quot;https://your-server-sign-url.com&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">};</span><br/><br/><span class="hl-7">// Create a client instance</span><br/><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-5">turnkeySDK</span><span class="hl-1"> = </span><span class="hl-4">new</span><span class="hl-1"> </span><span class="hl-6">Turnkey</span><span class="hl-1">(</span><span class="hl-2">config</span><span class="hl-1">);</span><br/><br/><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-5">iframeClient</span><span class="hl-1"> = </span><span class="hl-0">await</span><span class="hl-1"> </span><span class="hl-2">turnkeySDK</span><span class="hl-1">.</span><span class="hl-6">iframeClient</span><span class="hl-1">({</span><br/><span class="hl-1">  </span><span class="hl-2">iframeContainer:</span><span class="hl-1"> </span><span class="hl-2">document</span><span class="hl-1">.</span><span class="hl-6">getElementById</span><span class="hl-1">(</span><span class="hl-3">&quot;&lt;iframe container id&gt;&quot;</span><span class="hl-1">),</span><br/><span class="hl-1">  </span><span class="hl-2">iframeUrl:</span><span class="hl-1"> </span><span class="hl-3">&quot;https://auth.turnkey.com&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">});</span><br/><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-5">response</span><span class="hl-1"> = </span><span class="hl-0">await</span><span class="hl-1"> </span><span class="hl-2">iframeClient</span><span class="hl-1">.</span><span class="hl-6">injectCredentialBundle</span><span class="hl-1">(</span><br/><span class="hl-1">  </span><span class="hl-3">&quot;&lt;Credential from Email&gt;&quot;</span><br/><span class="hl-1">);</span><br/><span class="hl-0">if</span><span class="hl-1"> (</span><span class="hl-2">response</span><span class="hl-1">) {</span><br/><span class="hl-1">  </span><span class="hl-0">await</span><span class="hl-1"> </span><span class="hl-2">iframeClient</span><span class="hl-1">.</span><span class="hl-6">getWallets</span><span class="hl-1">();</span><br/><span class="hl-1">}</span><br/><br/><span class="hl-7">// this requires the developer to build a wrapper flow that can take user text input in their app and call the injectCredentialBundle function on the turnkey iframeClient</span>
</code><button type="button">Copy</button></pre>

<h3 id="walletclient" class="tsd-anchor-link"><code>walletClient()</code><a href="#walletclient" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><p>Creates an instance of <code>TurnkeyWalletClient</code>, taking in an wallet, wrapped by an object that matches the <code>WalletInterface</code> class. The wallet client is used to interact with the Turnkey API, authenticating requests by using the wallet to stamp the requests. If you'd like to use your wallet client to proxy requests to your server, to be signed with parent organization credentials, include the server URL in the <code>serverSignUrl</code> parameter.</p>
<p>{/_ <!-- TODO -- Link to example for server signing once server action work has been completed --> _/}</p>
<pre><code class="typescript"><span class="hl-0">import</span><span class="hl-1"> { </span><span class="hl-2">Turnkey</span><span class="hl-1"> } </span><span class="hl-0">from</span><span class="hl-1"> </span><span class="hl-3">&quot;@turnkey/sdk-browser&quot;</span><span class="hl-1">;</span><br/><span class="hl-0">import</span><span class="hl-1"> { </span><span class="hl-2">EthereumWallet</span><span class="hl-1"> } </span><span class="hl-0">from</span><span class="hl-1"> </span><span class="hl-3">&quot;@turnkey/wallet-stamper&quot;</span><span class="hl-1">;</span><br/><br/><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-5">config</span><span class="hl-1"> = {</span><br/><span class="hl-1">  </span><span class="hl-2">apiBaseUrl:</span><span class="hl-1"> </span><span class="hl-3">&quot;https://api.turnkey.com&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-2">defaultOrganizationId:</span><span class="hl-1"> </span><span class="hl-2">process</span><span class="hl-1">.</span><span class="hl-2">env</span><span class="hl-1">.</span><span class="hl-5">TURNKEY_ORGANIZATION_ID</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-2">serverSignUrl:</span><span class="hl-1"> </span><span class="hl-3">&quot;https://your-server-sign-url.com&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">};</span><br/><br/><span class="hl-7">// Create a client instance</span><br/><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-5">turnkeySDK</span><span class="hl-1"> = </span><span class="hl-4">new</span><span class="hl-1"> </span><span class="hl-6">Turnkey</span><span class="hl-1">(</span><span class="hl-2">config</span><span class="hl-1">);</span><br/><br/><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-5">walletClient</span><span class="hl-1"> = </span><span class="hl-2">turnkeySDK</span><span class="hl-1">.</span><span class="hl-6">walletClient</span><span class="hl-1">(</span><span class="hl-4">new</span><span class="hl-1"> </span><span class="hl-6">EthereumWallet</span><span class="hl-1">());</span>
</code><button type="button">Copy</button></pre>

<h3 id="serversign" class="tsd-anchor-link"><code>serverSign()</code><a href="#serversign" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><p>The serverSign function is used to proxy requests from a root parent organization to a child organization. The API key cannot be stored client-side, which is why the serverSign flow exists: to forward authenticated client-side requests to Turnkey via proxy backend.</p>
<pre><code class="typescript"><span class="hl-0">import</span><span class="hl-1"> { </span><span class="hl-2">Turnkey</span><span class="hl-1"> } </span><span class="hl-0">from</span><span class="hl-1"> </span><span class="hl-3">&quot;@turnkey/sdk-browser&quot;</span><span class="hl-1">;</span><br/><br/><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-5">config</span><span class="hl-1"> = {</span><br/><span class="hl-1">    </span><span class="hl-2">apiBaseUrl:</span><span class="hl-1"> </span><span class="hl-3">&quot;https://api.turnkey.com&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-2">defaultOrganizationId:</span><span class="hl-1"> </span><span class="hl-2">process</span><span class="hl-1">.</span><span class="hl-2">env</span><span class="hl-1">.</span><span class="hl-5">TURNKEY_ORGANIZATION_ID</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-2">serverSignUrl:</span><span class="hl-1"> </span><span class="hl-3">&quot;https://your-server-sign-url.com&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">};</span><br/><br/><span class="hl-7">// Create a client instance</span><br/><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-5">turnkeySDK</span><span class="hl-1"> = </span><span class="hl-4">new</span><span class="hl-1"> </span><span class="hl-6">Turnkey</span><span class="hl-1">(</span><span class="hl-2">config</span><span class="hl-1">);</span><br/><br/><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-5">subOrgIdsResponse</span><span class="hl-1"> = </span><span class="hl-0">await</span><span class="hl-1"> </span><span class="hl-2">turnkeySDK</span><span class="hl-1">.</span><span class="hl-6">serverSign</span><span class="hl-1">(</span><br/><span class="hl-1"> </span><span class="hl-3">&quot;getSubOrgIds&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">   [{</span><br/><span class="hl-1">     </span><span class="hl-2">filterType:</span><span class="hl-1"> </span><span class="hl-3">&quot;EMAIL&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">     </span><span class="hl-2">filterValue:</span><span class="hl-1"> </span><span class="hl-2">email</span><br/><span class="hl-1">   }]</span><br/><span class="hl-1"> )!</span><br/><br/><span class="hl-0">if</span><span class="hl-1"> (</span><span class="hl-2">subOrgIdsResponse</span><span class="hl-1">.</span><span class="hl-2">organizationIds</span><span class="hl-1">?.</span><span class="hl-2">length</span><span class="hl-1"> &gt; </span><span class="hl-8">0</span><span class="hl-1">) {</span><br/><span class="hl-1"> </span><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-5">emailAuthResponse</span><span class="hl-1"> = </span><span class="hl-0">await</span><span class="hl-1"> </span><span class="hl-2">turnkeySDK</span><span class="hl-1">.</span><span class="hl-6">serverSign</span><span class="hl-1">(</span><br/><span class="hl-1">   </span><span class="hl-3">&quot;emailAuth&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">   [{</span><br/><span class="hl-1">     </span><span class="hl-2">email:</span><span class="hl-1"> </span><span class="hl-2">email</span><span class="hl-1">,</span><br/><span class="hl-1">     </span><span class="hl-2">targetPublicKey:</span><span class="hl-1"> &lt;</span><span class="hl-11">iframeClient</span><span class="hl-1">.</span><span class="hl-11">iframePublicKey</span><span class="hl-1">&gt;,</span><br/><span class="hl-1">     </span><span class="hl-2">organizationId:</span><span class="hl-1"> </span><span class="hl-2">subOrgIdsResponse</span><span class="hl-1">.</span><span class="hl-2">organizationIds</span><span class="hl-1">[</span><span class="hl-8">0</span><span class="hl-1">]</span><br/><span class="hl-1">   }]</span><br/><span class="hl-1"> )</span><br/><span class="hl-1">}</span>
</code><button type="button">Copy</button></pre>

<h3 id="getsession" class="tsd-anchor-link"><code>getSession()</code><a href="#getsession" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><p>Attempts to refresh an existing, active session and will extend the session expiry using the <code>expirationSeconds</code> parameter</p>
<h3 id="currentusersession" class="tsd-anchor-link"><code>currentUserSession()</code><a href="#currentusersession" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><p>Generally speaking, in order to ensure a seamless UX, you might not want a passkey user have to manually authenticate every read request from Turnkey's API with a credential (e.g. via FaceID or TouchID). In order to reduce friction, you can have a user login() to Turnkey with a credential once. This method facilitates this process and creates an instance of The TurnkeyBrowserClient that allows multiple read-only requests to Turnkey's API.</p>
<pre><code class="typescript"><span class="hl-0">import</span><span class="hl-1"> { </span><span class="hl-2">Turnkey</span><span class="hl-1"> } </span><span class="hl-0">from</span><span class="hl-1"> </span><span class="hl-3">&quot;@turnkey/sdk-browser&quot;</span><span class="hl-1">;</span><br/><br/><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-5">config</span><span class="hl-1"> = {</span><br/><span class="hl-1">  </span><span class="hl-2">apiBaseUrl:</span><span class="hl-1"> </span><span class="hl-3">&quot;https://api.turnkey.com&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-2">defaultOrganizationId:</span><span class="hl-1"> </span><span class="hl-2">process</span><span class="hl-1">.</span><span class="hl-2">env</span><span class="hl-1">.</span><span class="hl-5">TURNKEY_ORGANIZATION_ID</span><span class="hl-1">,</span><br/><span class="hl-1">};</span><br/><br/><span class="hl-7">// Create a client instance</span><br/><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-5">turnkeySDK</span><span class="hl-1"> = </span><span class="hl-4">new</span><span class="hl-1"> </span><span class="hl-6">Turnkey</span><span class="hl-1">(</span><span class="hl-2">config</span><span class="hl-1">);</span><br/><br/><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-5">passkeyClient</span><span class="hl-1"> = </span><span class="hl-2">turnkeySDK</span><span class="hl-1">.</span><span class="hl-6">passkeyClient</span><span class="hl-1">();</span><br/><span class="hl-0">await</span><span class="hl-1"> </span><span class="hl-2">passkeySigner</span><span class="hl-1">.</span><span class="hl-6">login</span><span class="hl-1">();</span><br/><br/><span class="hl-7">// when a user logs in with the Turnkey SDK, a read-only API credential is saved in localStorage and can be used to make API read requests on their behalf</span><br/><br/><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-5">userSessionClient</span><span class="hl-1"> = </span><span class="hl-0">await</span><span class="hl-1"> </span><span class="hl-2">turnkeySDK</span><span class="hl-1">.</span><span class="hl-6">currentUserSession</span><span class="hl-1">();</span><br/><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-5">walletsResponse</span><span class="hl-1"> = </span><span class="hl-0">await</span><span class="hl-1"> </span><span class="hl-2">userSessionClient</span><span class="hl-1">.</span><span class="hl-6">getWallets</span><span class="hl-1">();</span><br/><br/><span class="hl-7">// this API call happens without any confirmation step because the user now has an active read-only session</span>
</code><button type="button">Copy</button></pre>

<h3 id="getreadwritesession" class="tsd-anchor-link"><code>getReadWriteSession()</code><a href="#getreadwritesession" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><p>If there is a valid, current read-session, this will return an auth bundle and its expiration. This auth bundle can be used in conjunction with an iframeStamper to create a read + write session.</p>
<pre><code class="typescript"><span class="hl-0">import</span><span class="hl-1"> { </span><span class="hl-2">Turnkey</span><span class="hl-1"> } </span><span class="hl-0">from</span><span class="hl-1"> </span><span class="hl-3">&quot;@turnkey/sdk-browser&quot;</span><span class="hl-1">;</span><br/><br/><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-5">config</span><span class="hl-1"> = {</span><br/><span class="hl-1">  </span><span class="hl-2">apiBaseUrl:</span><span class="hl-1"> </span><span class="hl-3">&quot;https://api.turnkey.com&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-2">defaultOrganizationId:</span><span class="hl-1"> </span><span class="hl-2">process</span><span class="hl-1">.</span><span class="hl-2">env</span><span class="hl-1">.</span><span class="hl-5">TURNKEY_ORGANIZATION_ID</span><span class="hl-1">,</span><br/><span class="hl-1">};</span><br/><br/><span class="hl-7">// Create a client instance</span><br/><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-5">turnkeySDK</span><span class="hl-1"> = </span><span class="hl-4">new</span><span class="hl-1"> </span><span class="hl-6">Turnkey</span><span class="hl-1">(</span><span class="hl-2">config</span><span class="hl-1">);</span><br/><br/><span class="hl-7">// gets auth bundle to be used with an iframeStamperto create a read write session</span><br/><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-5">readWriteSession</span><span class="hl-1"> = </span><span class="hl-0">await</span><span class="hl-1"> </span><span class="hl-2">turnkeySDK</span><span class="hl-1">.</span><span class="hl-6">getReadWriteSession</span><span class="hl-1">();</span>
</code><button type="button">Copy</button></pre>

<h3 id="getcurrentsuborganization" class="tsd-anchor-link"><code>getCurrentSubOrganization()</code><a href="#getcurrentsuborganization" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><p>Retrieves information about the user's current sub-organization from the user data stored in local storage. Useful for obtaining the user's organization context.</p>
<pre><code class="typescript"><span class="hl-0">import</span><span class="hl-1"> { </span><span class="hl-2">Turnkey</span><span class="hl-1"> } </span><span class="hl-0">from</span><span class="hl-1"> </span><span class="hl-3">&quot;@turnkey/sdk-browser&quot;</span><span class="hl-1">;</span><br/><br/><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-5">config</span><span class="hl-1"> = {</span><br/><span class="hl-1">  </span><span class="hl-2">apiBaseUrl:</span><span class="hl-1"> </span><span class="hl-3">&quot;https://api.turnkey.com&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-2">defaultOrganizationId:</span><span class="hl-1"> </span><span class="hl-2">process</span><span class="hl-1">.</span><span class="hl-2">env</span><span class="hl-1">.</span><span class="hl-5">TURNKEY_ORGANIZATION_ID</span><span class="hl-1">,</span><br/><span class="hl-1">};</span><br/><br/><span class="hl-7">// Create a client instance</span><br/><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-5">turnkeySDK</span><span class="hl-1"> = </span><span class="hl-4">new</span><span class="hl-1"> </span><span class="hl-6">Turnkey</span><span class="hl-1">(</span><span class="hl-2">config</span><span class="hl-1">);</span><br/><br/><span class="hl-7">// retrieves users current sub organization</span><br/><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-5">subOrganization</span><span class="hl-1"> = </span><span class="hl-0">await</span><span class="hl-1"> </span><span class="hl-2">turnkeySDK</span><span class="hl-1">.</span><span class="hl-6">getCurrentSubOrganization</span><span class="hl-1">();</span>
</code><button type="button">Copy</button></pre>

<h2 id="examples" class="tsd-anchor-link">Examples<a href="#examples" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h2><h4 id="1-implementing-an-embedded-wallet-authentication-flow-with-passkeys" class="tsd-anchor-link"><a href="/embedded-wallets/code-examples/create-sub-org-passkey">1. Implementing an embedded wallet authentication flow with passkeys</a><a href="#1-implementing-an-embedded-wallet-authentication-flow-with-passkeys" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h4><h4 id="2-implementing-an-embedded-wallet-authentication-flow-with-email" class="tsd-anchor-link"><a href="/embedded-wallets/code-examples/authenticate-user-email">2. Implementing an embedded wallet authentication flow with email</a><a href="#2-implementing-an-embedded-wallet-authentication-flow-with-email" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h4><h4 id="3-signing-transactions" class="tsd-anchor-link"><a href="/embedded-wallets/code-examples/signing-transactions">3. Signing Transactions</a><a href="#3-signing-transactions" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h4></div></div><div class="col-sidebar"><div class="page-menu"><div class="tsd-navigation settings"><details class="tsd-accordion"><summary class="tsd-accordion-summary"><svg width="20" height="20" viewBox="0 0 24 24" fill="none" aria-hidden="true"><use href="../assets/icons.svg#icon-chevronDown"></use></svg><h3>Settings</h3></summary><div class="tsd-accordion-details"><div class="tsd-filter-visibility"><span class="settings-label">Member Visibility</span><ul id="tsd-filter-options"><li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-protected" name="protected"/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>Protected</span></label></li><li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-inherited" name="inherited" checked/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>Inherited</span></label></li></ul></div><div class="tsd-theme-toggle"><label class="settings-label" for="tsd-theme">Theme</label><select id="tsd-theme"><option value="os">OS</option><option value="light">Light</option><option value="dark">Dark</option></select></div></div></details></div><details open class="tsd-accordion tsd-page-navigation"><summary class="tsd-accordion-summary"><svg width="20" height="20" viewBox="0 0 24 24" fill="none" aria-hidden="true"><use href="../assets/icons.svg#icon-chevronDown"></use></svg><h3>On This Page</h3></summary><div class="tsd-accordion-details"><a href="#overview"><span>Overview</span></a><a href="#installation"><span>Installation</span></a><a href="#initializing"><span>Initializing</span></a><ul><li><ul><li><a href="#parameters"><span>Parameters</span></a></li></ul></li></ul><a href="#turnkeybrowserclient"><span>Turnkey<wbr/>Browser<wbr/>Client</span></a><ul><li><a href="#login"><span>login()</span></a></li><li><a href="#loginwithbundle"><span>login<wbr/>With<wbr/>Bundle()</span></a></li><li><ul><li><a href="#parameters-1"><span>Parameters</span></a></li></ul></li><li><a href="#loginwithpasskey"><span>login<wbr/>With<wbr/>Passkey()</span></a></li><li><ul><li><a href="#parameters-2"><span>Parameters</span></a></li></ul></li><li><a href="#loginwithsession"><span>login<wbr/>With<wbr/>Session()</span></a></li><li><ul><li><a href="#parameters-3"><span>Parameters</span></a></li></ul></li><li><a href="#loginwithwallet"><span>login<wbr/>With<wbr/>Wallet()</span></a></li><li><ul><li><a href="#parameters-4"><span>Parameters</span></a></li></ul></li><li><a href="#refreshsession"><span>refresh<wbr/>Session()</span></a></li><li><ul><li><a href="#parameters-5"><span>Parameters</span></a></li></ul></li><li><a href="#loginwithreadwritesession"><span>login<wbr/>With<wbr/>Read<wbr/>Write<wbr/>Session()</span></a></li></ul><a href="#turnkeypasskeyclient"><span>Turnkey<wbr/>Passkey<wbr/>Client</span></a><ul><li><a href="#createuserpasskey"><span>create<wbr/>User<wbr/>Passkey()</span></a></li><li><a href="#createpasskeysession"><span>create<wbr/>Passkey<wbr/>Session()</span></a></li></ul><a href="#turnkeyiframeclient"><span>Turnkey<wbr/>Iframe<wbr/>Client</span></a><ul><li><a href="#injectcredentialbundle"><span>inject<wbr/>Credential<wbr/>Bundle()</span></a></li><li><a href="#injectwalletexportbundle"><span>inject<wbr/>Wallet<wbr/>Export<wbr/>Bundle()</span></a></li><li><a href="#injectkeyexportbundle"><span>inject<wbr/>Key<wbr/>Export<wbr/>Bundle()</span></a></li><li><a href="#injectimportbundle"><span>inject<wbr/>Import<wbr/>Bundle()</span></a></li><li><a href="#extractwalletencryptedbundle"><span>extract<wbr/>Wallet<wbr/>Encrypted<wbr/>Bundle()</span></a></li><li><a href="#extractkeyencryptedbundle"><span>extract<wbr/>Key<wbr/>Encrypted<wbr/>Bundle()</span></a></li></ul><a href="#turnkeywalletclient"><span>Turnkey<wbr/>Wallet<wbr/>Client</span></a><ul><li><a href="#getpublickey"><span>get<wbr/>Public<wbr/>Key()</span></a></li><li><a href="#getwalletinterface"><span>get<wbr/>Wallet<wbr/>Interface()</span></a></li></ul><a href="#top-level-sdk-functions-in-turnkeybrowsersdk"><span>Top <wbr/>Level SDK <wbr/>Functions in <wbr/>Turnkey<wbr/>BrowserSDK</span></a><ul><li><a href="#passkeyclient"><span>passkey<wbr/>Client()</span></a></li><li><a href="#iframeclient"><span>iframe<wbr/>Client()</span></a></li><li><a href="#walletclient"><span>wallet<wbr/>Client()</span></a></li><li><a href="#serversign"><span>server<wbr/>Sign()</span></a></li><li><a href="#getsession"><span>get<wbr/>Session()</span></a></li><li><a href="#currentusersession"><span>current<wbr/>User<wbr/>Session()</span></a></li><li><a href="#getreadwritesession"><span>get<wbr/>Read<wbr/>Write<wbr/>Session()</span></a></li><li><a href="#getcurrentsuborganization"><span>get<wbr/>Current<wbr/>Sub<wbr/>Organization()</span></a></li></ul><a href="#examples"><span>Examples</span></a><ul><li><a href="#1-implementing-an-embedded-wallet-authentication-flow-with-passkeys"><span>1. <wbr/>Implementing an embedded wallet authentication flow with passkeys</span></a></li><li><a href="#2-implementing-an-embedded-wallet-authentication-flow-with-email"><span>2. <wbr/>Implementing an embedded wallet authentication flow with email</span></a></li><li><a href="#3-signing-transactions"><span>3. <wbr/>Signing <wbr/>Transactions</span></a></li></ul></div></details></div><div class="site-menu"><nav class="tsd-navigation"><a href="../modules.html">SDK Documentation</a><ul class="tsd-small-nested-navigation" id="tsd-nav-container"><li>Loading...</li></ul></nav></div></div></div><footer><p class="tsd-generator">Generated using <a href="https://typedoc.org/" target="_blank">TypeDoc</a></p></footer><div class="overlay"></div></body></html>
